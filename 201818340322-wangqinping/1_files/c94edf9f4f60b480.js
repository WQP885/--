var HUID=function(){function t(){var t;try{t=external.GetMID(external.GetSID(window))}catch(n){}try{t=window.wdextcmd.GetMid()}catch(n){}t&&!I(s)&&e(t)}function e(t){var e=new Date;e.setFullYear(e.getFullYear()+10),v(s,o(t),{expires:e,path:"/",domain:f})}function n(){var t=I(s),e=t.split("."),n=parseInt(e[1]);return e[0].substr(2,n)+e[0].substr(15+n)}function o(t){for(var e=0,n="",o=+new Date,r=Math.floor(15*Math.random()),i="qihoo360socom";e<2;)n+=i.charAt(Math.floor(8*Math.random())),e++;return n+t.substring(0,r)+o+t.substring(r)+"."+r}function r(){clearInterval(p),p=setInterval(function(){i()},60*h*1e3);var t=I(m);I(l)&&t?d(t):i()}function i(){var t=document.createElement("script");t.id="_socomhuid_",t.src="//socm.dmp.360.cn/HUID.set?_="+ +new Date,document.body.appendChild(t)}function a(t){var e=document.getElementById("_socomhuid_");if(e&&document.body.removeChild(e),0==t.errno&&t.huid){var n=new Date;n.setFullYear(n.getFullYear()+10),v(m,t.huid,{expires:n,path:"/",domain:f});var o=new Date;o.setMinutes(o.getMinutes()+h),v(l,"1",{expires:o}),d(t.huid)}}function u(){return I(m)}function c(e){d=e||function(){},t(),r()}var d,s="__md",m="__huid",l="gtHuid",h=10,f="so.com",p=null,v=function(t,e,n){n=n||{};var o=n.expires,r=n.domain,i=n.path;document.cookie=t+"="+encodeURIComponent(e)+(o?"; expires="+o.toUTCString():"")+(r?"; domain="+r:"")+(i?"; path="+i:"")},I=function(t){for(var e,n,o,r=document.cookie.split(/\s*;\s*/),i=r.length-1;i>=0;){if(e=r[i].split("="),n=e[0],o=e[1],n===encodeURIComponent(t))return decodeURIComponent(o);i--}return""};return{init:c,set:a,getMid:n,getHuid:u}}();HUID.init();