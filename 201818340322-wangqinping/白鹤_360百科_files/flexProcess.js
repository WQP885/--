$.extend($.namespace("Baike.flexProcess"),function(){function e(e,t,n){if(!t||!n||!e.length)return;var r=[],i={m:[],s:[]};for(var s=0;s<e.length;s++)e[s].text.length>=8?r.push([{text:e[s].text,len:1*t,src:e[s].src||"",href:e[s].href||"",clk:e[s].clk||""}]):e[s].text.length<8&&e[s].text.length>=5?i.m.push(e[s]):i.s.push(e[s]);if(i.s.length>3){var o=i.s.pop(),u=i.s.pop(),a=i.s.pop(),f=o.text.length,l=u.text.length,c=a.text.length;r.push([{text:o.text,len:f/(f+l+c)*(t-n*2),src:o.src||"",href:o.href||"",clk:o.clk||""},{text:u.text,len:l/(f+l+c)*(t-n*2),src:u.src||"",href:u.href||"",clk:u.clk||""},{text:a.text,len:c/(f+l+c)*(t-n*2),src:a.src||"",href:a.href||"",clk:a.clk||""}])}i.m.length>0&&i.m.forEach(function(e,s){var o=i.s.pop(),u=e.text.length,a=[];if(o){var f=o.text.length;a.push({text:e.text,len:u/(u+f)*(t-n*1),src:e.src||"",href:e.href||"",clk:e.clk||""}),a.push({text:o.text,len:f/(u+f)*(t-n*1),src:o.src||"",href:o.href||"",clk:o.clk||""}),r.push(a)}else r.push([{text:e.text,len:1*t,src:e.src||"",href:e.href||"",clk:e.clk||""}])});var h=i.s.length;if(h>0){var p=Math.ceil(h/3),d=h%3;for(var v=0;v<p;v++){var m=[];for(var g=v*3;g<v*3+3;g++)if(i.s[g]){m.push({text:i.s[g].text,src:i.s[g].src,href:i.s[g].href||"",clk:i.s[g].clk||""}),d==m.length&&d==1&&(m[0].len=1*t);if(d==m.length&&d==2){var y=m[0].text.length,b=m[1].text.length;m[0].len=y/(y+b)*(t-n*1),m[1].len=b/(y+b)*(t-n*1)}if(m.length==3){var y=m[0].text.length,b=m[1].text.length,w=m[2].text.length;m[0].len=y/(y+b+w)*(t-n*2),m[1].len=b/(y+b+w)*(t-n*2),m[2].len=w/(y+b+w)*(t-n*2)}}r.push(m)}}return r.sort(function(e,t){return t.length-e.length}),r}return{init:e}}());