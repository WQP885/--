var $R={mouseOffset:{},mouseDownTime:"",mouseUpTime:"",init:function(){var e=this;this.createDom(),$(function(){$("body").on("keyup",function(e){var i=e.which||e.keyCode;return 37==i?($("#img-slider").roundabout("animateToPreviousChild"),e.preventDefault(),!1):39==i?($("#img-slider").roundabout("animateToNextChild"),e.preventDefault(),!1):void 0}),$(".jQ_sliderSwitch li").on("click",function(){var e=$(this),i=e.index();return $("#img-slider").roundabout("animateToChild",i),!1}),$("#img-slider").roundabout({minScale:.6,maxScale:.9,duration:700,autoplay:!0,autoplayDuration:3e3,autoplayPauseOnHover:!0,btnStartAutoplay:".startPlay",btnStopAutoplay:".stopPlay"}).bind({animationEnd:function(e){var i=$("#img-slider").roundabout("getChildInFocus"),t=$("#img-slider li.roundabout-in-focus .label").html();$(".titleDesc").html(t),$(".jQ_sliderSwitch li .img1").hide(),$(".jQ_sliderSwitch li .img2").show(),$(".jQ_sliderSwitch li").eq(i).find(".img2").hide(),$(".jQ_sliderSwitch li").eq(i).find(".img1").show()}}),$R.hoverEvent(),e.bindEvent(),$(".titleDesc").html(window.adsData.ads[0].desc),$(".nav_wrap li").eq(0).find(".img1").show(),$(".nav_wrap li").eq(0).find(".img2").hide(),$(".wrap").on("mouseenter",function(){$(".stopPlay").trigger("click")}).on("mouseleave",function(){$(".startPlay").trigger("click")})}),this.pvSend()},createDom:function(){var e=[],i=[];window.adsData&&($.each(window.adsData.ads,function(t,n){var a="";n.clktk&&(a=n.clktk.join(",")),e.push('<li class="img" data-clk="'+a+'" data-curl="'+n.curl+'">'),e.push('<img class="clkSign" src="'+n.img+'">'),e.push('<div class="label">'+n.desc+"</div>"),e.push(" </li>"),i.push('<li><img  src="https://p4.ssl.qhimg.com/t012f9c964dfb115e31.png" class="img1" alt=""> <img src="https://p2.ssl.qhimg.com/t019ad7ba2b6625678d.png" class="img2" ></li>')}),$("#img-slider").html(e.join("")),$(".switcher_nav").html(i.join("")))},hoverEvent:function(){$(".content").on("mouseenter",function(e){$(".titleDesc").addClass("activeWrod"),$("#img-slider li.roundabout-in-focus .clkSign").addClass("scaleImg"),$("#ck1").hide(),$("#ck2").show()}).on("mouseleave",function(e){$(".titleDesc").removeClass("activeWrod"),$("#img-slider li .clkSign").removeClass("scaleImg"),$("#ck2").hide(),$("#ck1").show()})},pvSend:function(){var e=this;window.adsData&&window.adsData.adstk&&$.each(window.adsData.adstk,function(i,t){e.sendLog(t)})},sendLog:function(e){var i=new Image;i.onload=i.onerror=function(){i=null},i.src=e},bindEvent:function(){var e=this;$(".clkSign").on("mousedown",function(i){e.getOffset(i.clientX,i.clientY),e.mouseDownTime=(new Date).getTime()}),$(".clkSign").on("click",function(){if($(this).parent().hasClass("roundabout-in-focus")){var i=$(this).parent().attr("data-clk"),t=$(this).parent().attr("data-curl");e.mouseUpTime=(new Date).getTime(),i&&(i=i.replace("__EVENT_TIME_START__",e.mouseDownTime).replace("__EVENT_TIME_END__",e.mouseUpTime).replace("__OFFSET_X__",parseInt(e.mouseOffset.x)).replace("__OFFSET_Y__",parseInt(e.mouseOffset.y)).replace("__ADSPACE_W__",w).replace("__ADSPACE_H__",h),$.each(i.split(","),function(i,t){e.sendLog(t)})),t=t.replace("__EVENT_TIME_START__",e.mouseDownTime).replace("__EVENT_TIME_END__",e.mouseUpTime).replace("__OFFSET_X__",parseInt(e.mouseOffset.x)).replace("__OFFSET_Y__",parseInt(e.mouseOffset.y)).replace("__ADSPACE_W__",w).replace("__ADSPACE_H__",h),window.open(t,"mediav"+e.mouseUpTime)}}),$(".sideTitle").on("mousedown",function(i){e.getOffset(i.clientX,i.clientY),e.mouseDownTime=(new Date).getTime()}),$(".sideTitle").on("click",function(){$("#img-slider .roundabout-in-focus .clkSign").trigger("click")})},getOffset:function(e,i){var t=$(".content")[0].getBoundingClientRect(),n=e-t.left,a=i-t.top;this.mouseOffset={x:n,y:a}}};$R.init();