define("wkview:widget/ui/html_view/widget.js",function(t,e){var n=t("wkcommon:widget/ui/lib/object/object.js"),i=t("wkcommon:widget/ui/lib/lang/lang.js"),s=t("wkcommon:widget/ui/lib/array/array.js"),o=t("wkcommon:widget/ui/js_core/util/util.js"),r=function(){},a=o.mix,l=function(t,e){e=a(e||{},{prefix:"widget",type:"",superClass:i.Class});var n=e.superClass,o=n.prototype;t=a(t||{},{el:o.el||"",elements:o.elements||{},events:o.events||{},Options:o.Options||{}});var u=function(n){var o=this,r=arguments;n=n||{},o.$el=null,o.$elements={},o.options=a(t.Options,n,!0),o.type=e.type,o.prefix=e.prefix,o._created=!1,o._disabledStatus=!1,o.on("onload",function(){o._created=!0,o._disabledStatus=!0,(!o.$el||o.$el.length<1)&&(o.$el=$(o.options.el)),o.$el.data(o.prefix,this);var t=o.$el.data(o.prefix+"-options");o.options=a(o.options,t,!0),o.refreshElements(),o._bindEvents(o.events)}),i.isFunction(o._init)&&o._init.apply(o,r),u.$$plugins&&s.each(u.$$plugins,function(t){t.apply(o,r)}),o.$el=$(o.options.el),i.isFunction(o._render)&&(o._render(),o._initEvents()),setTimeout(function(){o.fire("onload")},16)};i.inherits(u,n);var p=i.isFunction(t._init)?t._init:r,d=n===i.Class?i.Class:o._init;return t._init=function(){var t=arguments,e=this;i.isFunction(d)&&d.apply(e,t),i.isFunction(p)&&p.apply(e,t)},u.extend(a(t,l._method)),u};l._method={_bindEvents:function(t){var e=this;return t=t||e.events,i.isObject(t)?void n.each(t,function(t,n){var i,s,o,r=n.split(/\s+/);if(!(t in e))throw new Error("\u7f3a\u5c11"+t+"\u4e8b\u4ef6\u51fd\u6570");switch(r.length){case 3:i=e.$elements[r[0]],s=r[1],o=r[2];break;case 2:r[0].match(/^\$/)?(i=e.$elements[r[0]],s=r[1]):(i=e.$el,s=r[0],o=r[1]);break;case 1:i=e.$el,s=r[0]}o?e.bindEvent(i,s,o,t):e.bindEvent(i,s,t)}):!1},bindEvent:function(t,e,n,o){var r=this,a=arguments,l=r.type;return 3===a.length&&(o=n,n=null),i.isString(o)&&(o=r[o]),o=$.proxy(o,r),e=e.split(","),e=s.map(e,function(t){return t+"."+l}),e=e.join(" "),n?$(t).on(e,n,o):$(t).on(e,o),this},unBindEvent:function(t,e,n,o){var r=this,a=arguments,l=r.type;3===a.length&&(o=n,n=null),i.isString(o)&&(o=r[o]),o=$.proxy(o,r),e=e.split(","),e=s.map(e,function(t){return t+"."+l}),e=e.join(" "),n?$(t).off(e,n,o):$(t).off(e,o)},dispose:function(){var t=this,e=t.type;t.$el.off("."+e),t.$el.find("*").off("."+e),t.$el.removeData(t.prefix+"-options"),t.fire("ondispose")&&i.Class.prototype.dispose.call(t)},_setStatus:function(t){return t?(this._disabledStatus=!0,this.$el.addClass(this.type+"-disabled ui-state-disabled")):(this._disabledStatus=!1,this.$el.removeClass(this.type+"-disabled ui-state-disabled")),this},setDisable:function(){return this._setStatus(!0),this.fire("disable"),this},setEnable:function(){return this._setStatus(!1),this.fire("enable"),this},getStatus:function(){return this._disabledStatus},refreshElements:function(t){var e,n,i,s=this,o=t||s.elements,r=[];for(e in o)o.hasOwnProperty(e)&&(n=o[e],i=e.match(/^@([-_\w]+)/),r.push(i&&i.length>1?s.$elements[n]=s.getHookElement(i[1]):s.$elements[n]=$(e,this.$el)));return r},getData:function(t){var e=this,n=e.prefix,i=e.$el.data(n+"-options");return i.hasOwnProperty(t)?i[t]:null},setData:function(t,e){var n=this,i=n.prefix,s=n.$el.data(i+"-options")||{};return s[t]=e,n.$el.data(i+"-options",s),n},getHookElement:function(t){return $("[js-hook="+t+"]",this.$el)}},e.widget=l;var u=function(t,e,n){var i,s=t.$$plugins||(t.$$plugins=[]);s[s.length]=e;for(i in n)n.hasOwnProperty(i)&&(t.prototype[i]=n[i])};e.register=u});