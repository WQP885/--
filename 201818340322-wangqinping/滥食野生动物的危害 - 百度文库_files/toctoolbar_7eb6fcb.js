define("wkview:widget/common_toc_toolbar/config.js",function(e,d,a){var o={bodySelector:"#bd .body",zoomRange:[.5,1.5],zoomStep:.1,addChangeEl:"#bd .body",decreaseChangeEl:"#bd .reader-container",bStyleChangeEl:"#bd .doc-style-b.doc-main",pageEl:"#bd .reader-page",ftEl:"#bd .main .ft",aside:"#bd .aside",pageDefaultWidth:715,pageStep:50};a.exports.config=o});
;define("wkview:widget/common_toc_toolbar/item/toolsItem.js",function(t,e,a){var o=t("wkcommon:widget/lib/tangram/base/base.js"),i=t("wkcommon:widget/ui/js_core/widget/widget.js").widget,n=t("wkcommon:widget/ui/js_core/util/util.js"),s=i({Options:{el:{},status:"disabled",toolsBar:{},position:"left",reader:{},readerContainer:{}},_init:function(){var t=this;o.lang.isString(t.el)&&(t.el=n.createDom(t.template)),t.on("onload",function(){o.event.on(this.el,"click",function(){t.status="active",t.toolsBar&&t.toolsBar.fire("itemChange",{target:t})}),t._asyncCallBack=t.asyncCallBack,t.asyncCallBack=function(){if("disabled"!==t.status){var e=[].slice.call(arguments,0);t._asyncCallBack.apply(t,e)}}})},resize:function(){},asyncCallBack:function(){}},{type:"toolsItem"});a.exports.toolsItem=s});
;define("wkview:widget/common_toc_toolbar/item/zoom/zoom.js",function(e,o,t){var n=e("wkcommon:widget/lib/tangram/base/base.js"),a=e("wkcommon:widget/ui/lib/jquery/jquery.js"),d=e("wkcommon:widget/ui/js_core/widget/widget.js").widget,i=e("wkcommon:widget/ui/js_core/util/util.js"),l=e("wkcommon:widget/ui/js_core/log/log.js"),r=e("wkview:widget/common_toc_toolbar/item/toolsItem.js").toolsItem,s=e("wkview:widget/common_toc_toolbar/config.js").config,m=e("wkview:widget/common_item/setting/setting.js").setting,c=e("wkcommon:widget/lib/doT/doT.min.js"),h=e("wkcommon:widget/lib/fis/data/data.js"),g=h.get("WkInfo").DocInfo.isApi,z=d({Options:{position:"left",zoomLevel:1},_init:function(){var e=this,o=c.template('<div class="reader-tools-zoom xllDownloadLayerHit_left">\n<a href="###" class="ic zoom-decrease" title="\u7f29\u5c0f"\n        data-toolsBar-log="zoomout"\n        alog-action="htmltoolbar.zoomout">\n</a>\n<a href="###" class="ic zoom-add" title="\u653e\u5927"\n        data-toolsBar-log="zoomin"\n        alog-action="htmltoolbar.zoomin">\n</a>\n</div>')();e.el=i.createDom(o),e.zoomDecreaseEl=n.dom.q("zoom-decrease",e.el,"a")[0],e.zoomAddEl=n.dom.q("zoom-add",e.el,"a")[0],e.zoomLevel=m.zoomLevel,e.decreaseChangeEl=n.dom.query(s.decreaseChangeEl)[0],e.addChangeEl=n.dom.query(s.addChangeEl)[0],e.bStyleChangeEl=n.dom.query(s.bStyleChangeEl)[0],e.asideWidth=n.dom.query(s.aside)[0].offsetWidth+34,e.baseWidth=980,e.resizeTimer=null,e.btnStatus(),g?e.asideWidth=0:e.bindEvent(),e.pageFlow(),1!==e.zoomLevel&&e.zoomChange(e.zoomLevel)},btnStatus:function(){var e=this;s.zoomRange[0]===m.currentZoomLevel?e.zoomDecreaseDisable():(n.dom.removeClass(e.zoomDecreaseEl,"zoom-decrease-disable"),n.dom.setAttr(e.zoomDecreaseEl,"title","\u7f29\u5c0f")),s.zoomRange[1]===m.currentZoomLevel?e.zoomAddDisable():(n.dom.removeClass(e.zoomAddEl,"zoom-add-disable"),n.dom.setAttr(e.zoomAddEl,"title","\u653e\u5927"))},zoomAddDisable:function(){var e=this;n.dom.addClass(e.zoomAddEl,"zoom-add-disable"),n.dom.setAttr(e.zoomAddEl,"title","")},zoomDecreaseDisable:function(){var e=this;n.dom.addClass(e.zoomDecreaseEl,"zoom-decrease-disable"),n.dom.setAttr(e.zoomDecreaseEl,"title","")},bindEvent:function(){var e=this;n.event.on(e.zoomDecreaseEl,"click",n.fn.bind(e.zoomDecrease,e)),n.event.on(e.zoomAddEl,"click",n.fn.bind(e.zoomAdd,e)),n.lang.eventCenter.addEventListener("InFullScreen.before",function(){e.zoomChange(1),e.zoomAddDisable(),e.zoomDecreaseDisable()}),n.lang.eventCenter.addEventListener("InFullScreen.after",function(){e.reader=e.reader||e,"undefined"==typeof e.reader||"function"!=typeof e.reader.setZoom?n.lang.eventCenter.dispatchEvent("pptFullScreen",n.dom.q("bd",e.readerContainer.el)[0].offsetWidth):e.reader.setZoom(n.dom.q("bd",e.readerContainer.el)[0].offsetWidth)}),n.lang.eventCenter.addEventListener("OutFullScreen.before",function(){e.zoomChange()}),n.lang.eventCenter.addEventListener("OutFullScreen.after",function(){e.btnStatus()}),n.lang.eventCenter.addEventListener("Reader.initZoom",function(o,t){e.zoomChange(m.currentZoomLevel,t)}),n.event.on(window,"resize",function(){e.pageFlow()})},pageFlow:function(){var e=this,o=a(window);e.resizeTimer&&clearTimeout(e.resizeTimer),e.resizeTimer=setTimeout(function(){if(!m.isFullScreen){var t=o.width(),a=n.url.getQueryValue(location.href,"width");e.baseWidth=g?a:1160>t?980:1234>t?1053:1308>t?1126:1200,e.zoomChange(m.currentZoomLevel,{noNeedZoomChange:e.noNeedZoomChange})}},100)},zoomDecrease:function(e){if(n.event.preventDefault(e),!n.dom.hasClass(this.zoomDecreaseEl,"zoom-decrease-disable")){m.currentZoomLevel=(10*m.currentZoomLevel-10*s.zoomStep)/10,this.zoomChange();var o="";(a(".newTools").length>0||a(".flowPPt").length>0)&&(o="newtools"),l.xsend(1,101364,{pcViewChange:o})}},zoomAdd:function(e){if(n.event.preventDefault(e),!n.dom.hasClass(this.zoomAddEl,"zoom-add-disable")){m.currentZoomLevel=(10*m.currentZoomLevel+10*s.zoomStep)/10,this.zoomChange();var o="";(a(".newTools").length>0||a(".flowPPt").length>0)&&(o="newtools"),l.xsend(1,101363,{pcViewChange:o})}},zoomChange:function(e,o){var t,a=this,d=e||m.currentZoomLevel;o=o||{},a.noNeedZoomChange=o.noNeedZoomChange===!0?!0:!1,n.lang.eventCenter.dispatchEvent("Reader.zoomChangeBefore"),d>=1&&(t=a.baseWidth*d-a.asideWidth-2,n.dom.setStyle(a.addChangeEl,"width",a.baseWidth*d+"px"),n.dom.setStyle(a.decreaseChangeEl,"width",t+"px"),a.bStyleChangeEl&&n.dom.setStyle(a.bStyleChangeEl,"width","")),1>d&&(t=a.baseWidth*d-a.asideWidth,n.dom.setStyle(a.decreaseChangeEl,"width",t+"px"),n.dom.setStyle(a.addChangeEl,"width",a.baseWidth+"px"),a.bStyleChangeEl&&n.dom.setStyle(a.bStyleChangeEl,"width",t+2+"px")),a.readerResize(t-10),a.btnStatus(),n.lang.eventCenter.dispatchEvent("Reader.zoomChange",{zoomLevel:m.currentZoomLevel,width:t,noNeedZoomChange:a.noNeedZoomChange})},readerResize:function(e){var o=this;"undefined"==typeof o.reader||"function"!=typeof o.reader.setZoom?n.lang.eventCenter.dispatchEvent("pptFullScreen"):o.reader.setZoom(e)}},{superClass:r});t.exports.zoom=z});
;define("wkview:widget/common_toc_toolbar/item/praise/praise.js",function(e,a,s){var i=e("wkcommon:widget/lib/tangram/base/base.js"),d=e("wkcommon:widget/ui/js_core/widget/widget.js").widget,n=e("wkcommon:widget/ui/js_core/util/util.js"),r=e("wkcommon:widget/ui/js_core/log/log.js"),o=e("wkview:widget/common_toc_toolbar/config.js").config,t=e("wkview:widget/common_item/setting/setting.js").setting,c=e("wkcommon:widget/lib/doT/doT.min.js"),l=e("wkcommon:widget/lib/fis/data/data.js"),p=l.get("WkInfo"),m=d({Options:{position:"left"},_init:function(){if(!+p.DocInfo.forbidden_comment){var e=c.template('<div class="reader-tools-praise xllDownloadLayerHit_left">\n<i class="praise-add-num"></i>\n<i class="praise-decrease-num"></i>\n<a href="javascript:;" class="praise-add"\n        title="\u70b9\u8d5e" data-toolsBar-log="zoomout"\n        alog-action="htmltoolbar.zoomout">\n</a>\n<a href="javascript:;" class="praise-decrease"\n        title="\u70b9\u8e29" data-toolsBar-log="zoomin"\n        alog-action="htmltoolbar.zoomin">\n</a>\n</div>')();this.el=n.createDom(e),i.dom.insertAfter(this.el,i.dom.last(document.body)),t.praise=o.praise,this.doc_id=o.doc_id+"",this.praiseAddEl=i.dom.q("praise-add",this.el,"a"),this.praiseAddNum=i.dom.q("praise-add-num",this.el),this.praiseDecreaseEl=i.dom.q("praise-decrease",this.el,"a"),this.praiseDecreaseNum=i.dom.q("praise-decrease-num",this.el),$(".praise-decrease").length,this.ajaxUrl="/doc/interface/ZanOrCaiDoc",this.bindEvent()}},bindEvent:function(){var e=this;i.event.on(e.praiseAddEl[0],"click",i.fn.bind(e.praiseAdd,e)),i.event.on(e.praiseDecreaseEl[0],"click",i.fn.bind(e.praiseDecrease,e)),i.lang.eventCenter.addEventListener("InFullScreen.after",i.fn.bind(e.resizeFullScreen,e)),i.lang.eventCenter.addEventListener("OutFullScreen.after",i.fn.bind(e.resize,e)),i.lang.eventCenter.addEventListener("docCount.response",i.fn.bind(e.praiseInit,e)),i.cookie.get("praiseDecrease")===e.doc_id?(i.dom.addClass(e.praiseDecreaseEl,"chosed"),$(".praise-decrease-num").addClass("chosed")):i.cookie.get("praiseAdd")===e.doc_id&&(i.dom.addClass(e.praiseAddEl,"chosed"),$(".praise-add-num").addClass("chosed"))},praiseInit:function(e){if(e&&e.data){e=e.data;var a=e.zan,s=e.cai;a&&$(".praise-add-num").text(a),s&&$(".praise-decrease-num").text(s)}},praiseAdd:function(){var e=this;r.xsend(1,101485,{docId:e.doc_id}),i.cookie.get("praiseAdd")===e.doc_id?e.praiseCancel():i.ajax.post(e.ajaxUrl,["doc_id="+o.doc_id,"operation=incr","type=zan"].join("&"),i.fn.bind(e.addCallBackAfter,e)),i.cookie.get("praiseDecrease")===e.doc_id&&e.decreaseCancel()},praiseCancel:function(){var e=this;i.ajax.post(e.ajaxUrl,["doc_id="+o.doc_id,"operation=decr","type=zan"].join("&"),i.fn.bind(e.addCancelCallBackAfter,e))},decreaseCancel:function(){var e=this;i.ajax.post(e.ajaxUrl,["doc_id="+o.doc_id,"operation=decr","type=cai"].join("&"),i.fn.bind(e.decreaseDownCancel,e))},addCallBackAfter:function(){var e=this;i.cookie.set("praiseAdd",e.doc_id),e.numChange("praise-add-num",1),$(".praise-add").addClass("chosed"),$(".praise-add-num").addClass("chosed")},addCancelCallBackAfter:function(){var e=this;i.cookie.set("praiseAdd","false"),e.numChange("praise-add-num",-1),$(".praise-add").removeClass("chosed"),$(".praise-add-num").removeClass("chosed")},praiseDecrease:function(){var e=this;r.xsend(1,101486,{docId:e.doc_id}),i.cookie.get("praiseDecrease")===e.doc_id?e.decreaseCancel():i.ajax.post(e.ajaxUrl,["doc_id="+o.doc_id,"operation=incr","type=cai"].join("&"),i.fn.bind(e.decreaseCallBackAfter,e)),i.cookie.get("praiseAdd")===e.doc_id&&e.praiseCancel()},decreaseCallBackAfter:function(){var e=this;i.cookie.set("praiseDecrease",e.doc_id),this.numChange("praise-decrease-num",1),$(".praise-decrease").addClass("chosed"),$(".praise-decrease-num").addClass("chosed")},decreaseDownCancel:function(){i.cookie.set("praiseDecrease","false"),this.numChange("praise-decrease-num",-1),$(".praise-decrease").removeClass("chosed"),$(".praise-decrease-num").removeClass("chosed")},adddown:function(){i.cookie.set("praiseAdd","false"),this.numChange("praise-add-num",-1),$(".praise-add").removeClass("chosed"),$(".praise-add-num").removeClass("chosed")},decreaseDown:function(){i.cookie.set("praiseDecrease","false"),this.numChange("praise-decrease-num",-1),$(".praise-decrease").removeClass("chosed"),$(".praise-decrease-num").removeClass("chosed")},numChange:function(e,a){var s=i.dom.q(e,this.el)[0].innerHTML;if(s&&+s>999)i.dom.q(e,this.el)[0].innerHTML="999+";else{if(0>s+1*a)return;i.dom.q(e,this.el)[0].innerHTML=+s+1*a+""}},resizeFullScreen:function(){$(".reader-tools-bar-center").css("margin-right","0")},resize:function(){$(".reader-container").width()<960?$(".reader-tools-bar").css("width","1124px"):$(".reader-tools-bar").css("width","1200px"),$(".reader-tools-bar-center").css("margin-right","234px"),i.lang.eventCenter.dispatchEvent("window.scroll")}});s.exports.praise=m});
;define("wkview:widget/common_toc_toolbar/toolsTip/toolsTip.js",function(e,t,n){var o,i=e("wkcommon:widget/lib/tangram/base/base.js"),s=e("wkcommon:widget/ui/js_core/widget/widget.js").widget,a=e("wkcommon:widget/ui/js_core/util/util.js"),l=e("wkcommon:widget/lib/doT/doT.min.js"),d=s({Options:{template:l.template('<div class="mod ui-panel trg-br reader_tools_tips tools-tips">\n<div class="tips-wrap">\n<span class="trangle"></span>\n<div class="inner">\n<div class="hd">\n<span class="act">\n<a href="###" class="ir close reader_tips_close"></a>\n</span>\n</div>\n<div class="bd reader_tools_tips_content_wrap"></div>\n</div>\n</div>\n</div>')(),className:"tools-tips",closerEl:"close"},_init:function(){var e=this;e.el=a.createDom(e.template),e.hideEl=a.createDom('<div id="tip-gc" style="display:none;"></div>'),document.body.appendChild(e.hideEl),e.inner=i.dom.q("reader_tools_tips_content_wrap",e.el,"div")[0],i.dom.hide(e.el),a.zIndexManger.bringToFront(e.el),e.isHide=!0,e.bindEvent()},bindEvent:function(){var e=this;i.event.on(e.el,"click",function(t){var n=i.event.getTarget(t);i.dom.hasClass(n,"reader_tips_close")&&(i.event.preventDefault(t),document.body.focus(),e.hide()),i.dom.hasAttr(n,"data-btn-event")&&i.lang.eventCenter.dispatchEvent(i.dom.getAttr(n,"data-btn-event"))});var t=Math.max,n=Math.min;a.delegate(document,".reader-tools-btn-wrap","blur",function(o){if(e.parent)if(i.browser.ie){var s=window.event.toElement,a=i.dom.contains(e.parent,s);if(!a){var l=e.el,d=i.page.getMousePosition(),r=i.dom.getPosition(l),c=l.offsetWidth,p=l.offsetHeight,m=t(r.left,d.x)<=n(r.left+c,d.x)&&t(r.top,d.y)<=n(r.top+p,d.y);m?e.parent.focus():e.hide()}}else setTimeout(function(){var t=o.explicitOriginalTarget||document.activeElement,n=i.dom.contains(e.parent,t);n||t===e.parent||e.hide()},0)})},bindFocusout:function(){},unFocusout:function(){},focusoutCallBack:function(){},show:function(e){var t=this;t.clear(),e.className&&(i.dom.removeClass(t.el,t.options.className),i.dom.addClass(t.el,e.className),t.currentClassName=e.className),t.dispose=e.dispose?!0:!1,a.mix(this.options,e,!0),t.inner.appendChild(t.options.contentEl),t.parent=t.options.parent,t.options.parent.appendChild(t.el),i.lang.eventCenter.dispatchEvent("ToolsTipShow.before",{tip:t}),i.dom.show(t.el),i.lang.eventCenter.dispatchEvent("ToolsTipShow.after",{tip:t}),t.el.focus()},clear:function(){var e=this,t=!1;if(e.inner.children.length&&(t=e.inner.children[0],e.hideEl.appendChild(t),i.lang.eventCenter.dispatchEvent("toolsTip.gc",{el:t,className:e.currentClassName})),e.dispose&&t&&(i.dom.remove(t),i.browser.ie&&i.browser.ie<8)){var n=i.dom.create("div");n.appendChild(t),n.innerHTML="",n=null}},hide:function(){var e=this;i.dom.hide(e.el)}},{type:"toolsTip"}),r=function(){return o||(o=new d),o};n.exports.toolsTip=d,n.exports.toolsTipCreater=r});
;define("wkview:widget/common_toc_toolbar/item/favo/favo.js",function(e,o,t){var a=e("wkcommon:widget/lib/tangram/base/base.js"),i=e("wkcommon:widget/ui/js_core/widget/widget.js").widget,d=e("wkcommon:widget/ui/js_core/util/util.js"),n=e("wkcommon:widget/ui/js_core/log/log.js"),s=e("wkview:widget/common_toc_toolbar/item/toolsItem.js").toolsItem,r=e("wkview:widget/ui/view/movetree/movetree.js").movetree,l=e("wkcommon:widget/lib/fis/data/data.js"),c=l.get("WkInfo"),v=e("wkview:widget/common_toc_toolbar/toolsTip/toolsTip.js").toolsTipCreater(),f=e("wkcommon:widget/ui/js_core/login/login.js").login,m=e("wkview:widget/node_modules/davidshimjs-qrcodejs/qrcode.js"),p=i({Options:{position:"left",reader:{}},_init:function(){var e=this,o=['<div class="reader-tools-btn-wrap favo-wrap" tabIndex="-1" hidefocus="true">','<a class="reader-favo" href="###" data-toolsBar-log="collect" alog-action="htmltoolbar.favo">',"</a>","</div>"].join("");e.el=d.createDom(o),e.clickEl=a.dom.q("reader-favo",e.el,"a")[0],+c.DocInfo.isInRoom&&a.dom.addClass(e.clickEl,"reader-has-favoed"),e.tip=v,e.bindEvent(),e.fire("onload"),e.btnStatus(),e.moveTreeCreated=!1,a.dom.addClass(e.clickEl,"reader-favo-new")},btnStatus:function(){},bindEvent:function(){var e=this;a.on(e.clickEl,"click",function(o){a.event.preventDefault(o);var t="";($(".newTools").length>0||$(".flowPPt").length>0)&&(t="newtools"),n.xsend(1,100034,{pcViewChange:t}),$(".ic-from-pick").length>0&&n.xsend(1,101835,{index:2}),f.verlogin(function(){var o=a.cookie.get("last-store-folder")||"0";e.addTofav(20010,c.DocInfo.docId,o,a.fn.bind(e.addToFavCallBack,e))},null,null,{actionName:"addTofav",fromMod:""})}),a.lang.eventCenter.addEventListener("favTip.showTree",function(e){a.event.stop(e);var o=this,t=a.dom.g("store-move-btn"),i=a.dom.g("store-move-box");a.dom.hide(t),i.style.display="inline",o.moveTreeCreated||(r({id:c.DocInfo.foldId,disposePop:"no"}),o.moveTreeCreated=!0)})},asyncCallBack:function(){var e=this;f.verlogin(function(){if(e.tip.show({contentEl:e.favTip,parent:e.el,className:"tools-fav-tip"}),!e.favQrcode){var o=c.DocInfo.docId,t="https://wk.baidu.com/topic/nadownload?refer=1021578v&deeplink=1&docid="+o;e.favQrcode=new m($(".reader-tips-fav .fav-qrcode")[0],{text:t,width:84,height:84,correctLevel:m.CorrectLevel.L})}$(".tools-fav-tip").show(),n.xsend(101790)},null,null,{actionName:"favo"})},addTofav:function(e,o,t,i){a.ajax.request(c.Urls.submitCollect,{data:["ct="+e,"doc_id="+o,"fold_id="+t].join("&"),method:"post",onsuccess:i||function(){}})},createFavTip:function(e){var o=this,t=l.get("WkInfo"),i="";if(o.favTip)return void o.updateFavTip(e);t.DocInfo.payPrice||(i=['<p class="wk-app-tip">',"\u4e0b\u8f7dApp\u968f\u65f6\u67e5\u770b","</p>"].join(""));var n=['<div class="reader-tips-fav">','<b class="fav_sucess"></b>','<span id="store-tip-text" class="store-tip-text">__TIP_TEXT__</span>','<a href="/user/mydocs" class="store-folder"','id="store-move-link" target="blank" title="__FOLD_NAME__" data-id="__FOLD_ID__">',"__SHORT_NAME__","</a>","<br/>",'<div id="store-move-box" style="display:none"></div>','<a href="###" class="store-move-btn" id="store-move-btn" data-btn-event="favTip.showTree">\u4fee\u6539\u4fdd\u5b58\u4f4d\u7f6e</a>',i,'<div class="fav-qrcode"></div>',"</div>"].join("");n=n.replace(/__TIP_TEXT__/g,e.tipText).replace(/__FOLD_ID__/g,e.foldId).replace(/__FOLD_NAME__/g,a.string.encodeHTML(e.foldName)).replace(/__SHORT_NAME__/g,a.string.encodeHTML(e.shortName)),o.favTip=d.createDom(n),a.event.on(a.dom.q("store-move-btn",o.favTip,"a")[0],"click",function(e){a.event.preventDefault(e)})},updateFavTip:function(e){var o=this,t=o.favTip,i=a.dom.q,d=a.dom.setAttr,n=i("store-tip-text",t)[0],s=i("store-folder",t)[0],r=a.dom.g("store-move-box");n.innrHTML=e.tip_text,d(s,"data-id",e.foldId),d(s,"title",e.foldName),s.innerHTML=e.shortName,a.dom.hide(r)},addToFavCallBack:function(e,o){var t=this,i=a.json.parse(o),d=i.fold_id||"0",n=i.fold_name||"\u4e2a\u4eba\u4e2d\u5fc3",s=n.length>5?n.slice(0,5)+"...":n,r="\u5df2\u6536\u85cf\u81f3 ";a.dom.addClass(t.clickEl,"reader-has-favoed"),c.DocInfo.foldId=d,c.DocInfo.foldName=n,l.set("WkInfo",c),15===+i.error_no&&(r="\u5df2\u6536\u85cf\u5728 "),t.btnStatus();var v={foldId:d,foldName:n,shortName:s,tipText:r};t.createFavTip(v),t.asyncCallBack()}},{superClass:s});t.exports.favo=p});
;define("wkview:widget/common_toc_toolbar/item/appraise/appraise.js",function(a,e,t){var n=a("wkcommon:widget/lib/tangram/base/base.js"),o=a("wkcommon:widget/ui/js_core/widget/widget.js").widget,s=a("wkcommon:widget/ui/js_core/util/util.js"),d=a("wkcommon:widget/ui/js_core/log/log.js"),i=a("wkcommon:widget/lib/doT/doT.min.js"),l=a("wkcommon:widget/lib/fis/data/data.js"),c=a("wkview:widget/common_toc_toolbar/item/toolsItem.js").toolsItem,r=a("wkview:widget/userEvaluation/userEvaluation.js").userEvaluation,v=l.get("WkInfo"),p=o({Options:{position:"left",reader:{}},_init:function(){var a=this,e=[];v.DocInfo.isPaymentDoc&&v.UserInfo&&v.UserInfo.userName!==v.DocInfo.writername?v.DocInfo.ispaied?(e=i.template('<div class="mod doc-evaluate" id="doc-evaluate-mod">\n<div class="content"\n        id="reader-evaluate-content-wrap"\n        data-id="{{=it.docInfo.docId}}"\n        data-value="-1" data-doc-value="0"\n    >\n<span class="evaluate-title">\u8bc4\u4ef7\u6587\u6863\uff1a</span>\n{{? +it.docInfo.isPayDocAndCommented !== 1}}<a href="#doc-comment-area"\n                class="go-add-comment log-xsend"\n                data-logxsend="[1, 101345]">\n\u53bb\u8bc4\u4ef7</a>\n{{??}}<a href="#doc-comment-area" class="added-comment">\n\u5df2\u8bc4\u8bba</a>\n{{?}}<span class="value-tip" id="doc-evaluate-tips"></span>\n</div>\n<div class="value-pop">\n<span class="bot"></span>\n<span class="top"></span>\n<p></p>\n</div>\n</div>')({docInfo:v.DocInfo}),a.el=s.createDom(e),a.fire("onload"),setTimeout(function(){new r("reader-evaluate-content-wrap").init(),$(a.el).show(),a.bindEvent()},1e3),1!==+v.DocInfo.isPayDocAndCommented&&d.xsend(1,101344)):(e=i.template('<div class="mod doc-evaluate">\n<div class="content"\n        id="reader-evaluate-content-wrap" \n        data-id="{{=it.docInfo.docId}}"\n    >\n<span class="evaluate-title">\u8bc4\u4ef7\u6587\u6863\uff1a</span>\n<span id="total-star" class="star" alog-group="view.evaltotal"></span>\n<span class="value-tip" id="doc-evaluate-tips">\n&nbsp;\u8d2d\u4e70\u540e\u53ef\u8bc4\u4ef7</span>\n</div>\n</div>')({docInfo:v.DocInfo}),a.el=s.createDom(e),a.fire("onload"),setTimeout(function(){new r("reader-evaluate-content-wrap").getData(),$(a.el).show(),a.bindEvent()},1e3)):(e=i.template('<div class="mod doc-evaluate" id="doc-evaluate-mod">\n<div class="content" id="reader-evaluate-content-wrap" \n        data-id="{{=it.docInfo.docId}}"\n        data-value="-1" data-doc-value="0"\n    >\n<span class="evaluate-title">\u8bc4\u4ef7\u6587\u6863\uff1a</span>\n<span id="total-star" class="star" alog-group="view.evaltotal">\n<b class="value-star total ic-star-t-off"></b>\n<b class="value-star total ic-star-t-off"></b>\n<b class="value-star total ic-star-t-off"></b>\n<b class="value-star total ic-star-t-off"></b>\n<b class="value-star total ic-star-t-off"></b>\n</span>\n<span class="value-tip" id="doc-evaluate-tips"></span>\n</div>\n<div class="value-pop">\n<span class="bot"></span>\n<span class="top"></span>\n<p></p>\n</div>\n</div>')({docInfo:v.DocInfo}),a.el=s.createDom(e),a.fire("onload"),setTimeout(function(){new r("reader-evaluate-content-wrap").init(),$(a.el).show(),a.bindEvent()},1e3))},bindEvent:function(){var a=this,e="";$(".flowPPt").length>0?e=$(".flowPPt").find(".reader-tools-page"):$(".newTools").length>0&&(e=$(".newTools").find(".reader-tools-page")),n.lang.eventCenter.addEventListener("Share.show",function(){var a=$(".reader-tools-bar .doc-evaluate");a.length&&a.hide()}),n.lang.eventCenter.addEventListener("Share.hide",function(){var a=$(".reader-tools-bar .doc-evaluate");a.length&&a.show()}),$(".go-add-comment").on("click",function(){$(".add-comment-tips").hide()}),$(a.el).delegate(".star","click.log",function(){d.xsend(1,100507),$(a.el).undelegate(".star","click.log")})}},{superClass:c});t.exports.appraise=p});
;define("wkview:widget/common_toc_toolbar/toolbar/toolbar.js",function(e,t,i){function n(e,t,i,n){i=i||1;var o=new Date;o.setTime(o.getTime()+24*i*60*60*1e3),n=n&&";path="+n,document.cookie=e+"="+escape(t)+";expires="+o.toGMTString()+n}function o(e){for(var t=e+"=",i=document.cookie.split(";"),n=0;n<i.length;n++){for(var o=i[n];" "===o.charAt(0);)o=o.substring(1);if(-1!==o.indexOf(t))return o.substring(t.length,o.length)}return""}var s=e("wkcommon:widget/lib/tangram/base/base.js"),r=e("wkcommon:widget/ui/js_core/widget/widget.js").widget,a=e("wkcommon:widget/ui/js_core/util/util.js"),d=e("wkcommon:widget/lib/fis/data/data.js"),l=e("wkcommon:widget/lib/doT/doT.min.js"),c=(e("wkcommon:widget/ui/js_core/log/log.js"),e("wkview:widget/common_toc_toolbar/config.js").config),m=e("wkview:widget/common_item/setting/setting.js").setting,g=e("wkview:widget/node_modules/@baidu/wenku-pc-components/dist/index.js").BackToTop.backToTop,v=d.get("WkInfo")||{},h=v.DocInfo||{},w=s.dom,f=w.q,p=!1,u=!0,b=!1,C=r({Options:{readerContainer:{},reader:{},items:[]},_init:function(){var e=this,t=h.isPaymentDoc&&h.ispaied&&0===~~h.isPayDocAndCommented&&!o("closeComment");e.template=l.template('<div class="reader-tools-bar-wrap tools-bar-small">\n<div class="reader-tools-bar">\n<div class="reader-tools-bar-center clearfix">\n<div class="left"></div>\n{{? it.showCommentTips}}<span id="add-comment-tips" class="add-comment-tips">\n<span class="comment-tips-close"></span>\n</span>\n{{?}}<div class="center">\n<div class="centerLeft"></div>\n<div class="centerRight"></div>\n</div>\n<div class="right"></div>\n</div>\n</div>\n</div>')({showCommentTips:t}),e.wrapEl=a.createDom(e.template),e.$wrapEl=$(e.wrapEl),e.$el=$(".reader-tools-bar",e.$wrapEl),e.el=e.$el[0],e.bodyEl=$(c.bodySelector)[0],e.asideEl=$(c.aside)[0],e.asideWidth=e.asideEl.offsetWidth+34,e.toolsDocBottom=!1;var i=$(".right",e.$el);e.items.length&&e._initItem(),h.isApi||document.body.appendChild(e.wrapEl),e.fire("onload"),$(window).trigger("rendered:toolbar"),e.bindEvent(),d.get("isHitVipDocLimited")&&i.addClass("right-vip-auto")},_initItem:function(){var e=0,t=this,i=t.items,n=i.length;for(t.list=[],n;n>e;e++)t.addItem(i[e]);new g({})},bindEvent:function(){var e=this;e.on("itemChange",function(t,i){var n=i.target,o=0,s=e.list,r=s.length;for(r;r>o;o++)n!==s[o]&&(s[o].status="disabled")}),e.$el.on("click","#add-comment-tips .comment-tips-close",function(){n("closeComment","1"),$(this).parent().hide()}).on("click",function(e){var t=s.event.getTarget(e),i=s.dom.getAttr(t,"data-toolsBar-log");i&&s.lang.eventCenter.dispatchEvent("ReaderToolsBar.itemClick",{name:i,el:t,setting:m})}),s.lang.eventCenter.addEventListener("InFullScreen.after",s.fn.bind(e.resizeFullScreen,e)),s.lang.eventCenter.addEventListener("OutFullScreen.after",s.fn.bind(e.resize,e)),s.lang.eventCenter.addEventListener("Reader.fullScreenResize",s.fn.bind(e.resizeFullScreen,e)),s.event.on(window,"scroll",function(){s.lang.eventCenter.dispatchEvent("window.scroll")}),s.lang.eventCenter.addEventListener("window.scroll",s.fn.bind(e.resizeLocation,e)),s.event.on(e.wrapEl,"mouseenter",function(){u=!1}),s.event.on(e.wrapEl,"mouseleave",function(){e.resizeRight(),u=!0,p&&e.resize()}),s.lang.eventCenter.addEventListener("xreaderResizeRight",s.fn.bind(e.resizeRight,e)),s.lang.eventCenter.addEventListener("OutFullScreen.after",s.fn.bind(function(){e.toolsDocBottom=!1},e)),s.lang.eventCenter.addEventListener("Reader.WindowResize",s.fn.bind(e.resize,e)),e.resizeLocation()},addItem:function(e){if(s.lang.isFunction(e)){var t=this,i=new e({readerContainer:t.readerContainer,toolsBar:t,reader:t.reader,status:"disabled"}),n=i.position,o=f(n,t.el,"div")[0];i.el&&o.appendChild(i.el),t.list.push(i)}},resizeFullScreen:function(){var e=this,t=e.$wrapEl;e.toolsDocBottom&&(t.appendTo($("body")),t.css("position","fixed")),e.$el.width("100%"),e.el.offsetWidth<860&&e.$el.width(860),s.lang.eventCenter.dispatchEvent("ToolsBar.resize",{isMax:!0}),e.toolsDocBottom=!1,e.resizeCenter(),e.resizeRight()},resize:function(){var e=this,t=e.$el;u?(s.lang.isFunction(b)||(b=a.debounce(e._resizeFunc,300,e)),b()):e.resizeCenter(),e.toolsDocBottom?t.css("margin","0"):t.css("margin","auto")},resizeLocation:function(){var e=this,t=e.$wrapEl,i=e.$el,n=$(".doc-reader").height(),o=$(".doc-reader").offset().top,s=+$(window).scrollTop(),r=+$(window).height(),a=+t.height(),d=r-(n+o-s);return $(".reader-fullScreen").hasClass("isFullScreen")?void 0:$(window).width()<1310?void(e.toolsDocBottom&&(t.css("position","fixed"),i.css("margin","auto"),e.toolsDocBottom=!1)):void($(".reader-container").width()<958||(d>a&&!e.toolsDocBottom?($("#doc-main").find(".ft").before(t),t.css("position","relative"),i.css("margin","0"),e.toolsDocBottom=!0):a>d&&e.toolsDocBottom?(t.css("position","fixed"),i.css("margin","auto"),e.toolsDocBottom=!1):e.toolsDocBottom?i.css("margin","0"):i.css("margin","auto")))},resizeRight:function(){var e=this,t=e.$el,i=$(".right",t),n=e.el.offsetWidth-e.asideWidth,o=$(".down-btn-txt, .xufei-vip",i),s=900>n?"none":"block";o.css("display",s)},resizeCenter:function(){var e=this,t=e.el.offsetWidth-e.asideWidth,i=$(".right",e.$el),n=$(".down-btn-txt",i),o=900>t?"none":"";900>t?$(".centerRight",e.$el).css("right","-50px"):$(".centerRight",e.$el).css("right","0"),v.is_tianyancha_doc?i.css("display","none"):i.css("display",o),n.css("display",o),$(".center",e.$el).width(t)},_resizeFunc:function(e){var t=this;if(e=e||{},!m.isFullScreen){if(!u)return void(p=!0);var i=t.$wrapEl,n=t.$el,o=e.bodyElWidth||t.bodyEl.offsetWidth;970>o-230?(i.addClass("tools-bar-smaller"),n.css("width","1124px"),s.lang.eventCenter.dispatchEvent("ToolsBar.resize",{isMax:!0})):$(window).width()>1310&&(i.removeClass("tools-bar-smaller"),n.css("width","1200px"),s.lang.eventCenter.dispatchEvent("ToolsBar.resize",{isMax:!0})),t.$el.css("overflow","hidden"),t.resizeCenter(),t.resizeRight(),t.$el.css("overflow",""),p=!1}}});i.exports.toolbar=C});
;define("wkview:widget/common_toc_toolbar/item/wangpan/common.js",function(o,m,i){var n=o("wkview:widget/common_item/commonUtil/commonUtil.js");i.exports=n});
;define("wkview:widget/common_toc_toolbar/item/wangpan/comp/btnDownload/btnDownload.js",function(o,n,a){var t=o("wkcommon:widget/ui/lib/jquery/jquery.js"),i=o("wkcommon:widget/lib/doT/doT.min.js"),e=o("wkview:widget/doc_dw_wangpan_main/doc_dw_wangpan_main.js"),d=(o("wkview:widget/doc_dw_wangpan_main/doc_dw_wangpan_pro.js").downDoc,o("wkcommon:widget/ui/js_core/_dialog/_dialog.js").alert),s=o("wkcommon:widget/ui/js_core/log/log.js"),l=o("wkcommon:widget/ui/js_core/login/login.js"),w=o("wkcommon:widget/lib/fis/data/data.js"),c=o("wkcommon:widget/sessionX/sessionX.js"),r=(c.sessionXMgr,o("wkview:widget/common_toc_toolbar/item/wangpan/common.js")),g=function(o,n){t.extend(!0,this.data,o),this.rootSelector=n};g.prototype={constructor:g,$root:t(document),data:{userType:0,docValueType:0,docInfo:{},vipInfo:{},wkInfo:{}},bindEvent:function(){return this.$root.on("click",this.rootSelector+" .btn-download",t.proxy(this.handleDownload,this)),this},makeTemplate:function(){var o="";s.xsend(1,101837);var n=t.extend(!0,{},this.data,r);return o=i.template('<div class="reader-download reader-wangpan-box" data-toolsBar-log="download" >\n<a title="\u8f6c\u5b58\u5230\u767e\u5ea6\u7f51\u76d8" href="javascript:void(0);" class="reader-wangpan btn-download" alog-action="htmltoolbar.download"></a>\n<div class="wangpan-tip">\n<span class="icon-triangle"></span>\n<span class="icon-wangpan"></span>\n<span class="tip-text">\u6587\u6863\u53ef\u4ee5\u8f6c\u5b58\u5230\u767e\u5ea6\u7f51\u76d8\u5566\uff01</span>\n<span class="btn-close"></span>\n</div>\n</div>')(n)},handleDownload:function(){this.logHandleDownload();var o=this.data.docInfo||{},n=w.get("WkInfo"),a=n.PageInfo.isLogin;if(a)if(r.isDownloadDisabled(this.data.docInfo)){var t=o.isInRoomButDeletedByCreater?"\u6743\u9650\u95ee\u9898":"\u7248\u6743\u65b9\u8981\u6c42";d({title:"\u63d0\u793a",content:['<p class="download-disabled-info">',"\u8be5\u6587\u6863\u56e0"+t+"\uff0c\u4ec5\u652f\u6301\u5728\u7ebf\u9605\u8bfb\u54e6\u3002","</p>"].join(""),width:350,height:180})}else e.goSpecialDownload(this.data.wkInfo||{});else l.login.verlogin(function(){})},logHandleDownload:function(){s.xsend(1,101838)}},a.exports=g});
;define("wkview:widget/common_toc_toolbar/item/wangpan/wangpan.js",function(o,e,i){var t=(o("wkcommon:widget/lib/tangram/base/base.js"),o("wkcommon:widget/ui/js_core/widget/widget.js").widget),n=o("wkcommon:widget/ui/js_core/util/util.js"),w=(o("wkcommon:widget/ui/js_core/log/log.js"),o("wkview:widget/common_toc_toolbar/item/toolsItem.js").toolsItem),a=(o("wkview:widget/ui/view/movetree/movetree.js").movetree,o("wkcommon:widget/lib/fis/data/data.js")),s=a.get("WkInfo"),d=(o("wkview:widget/common_toc_toolbar/toolsTip/toolsTip.js").toolsTipCreater(),o("wkcommon:widget/ui/js_core/login/login.js").login,o("wkview:widget/common_toc_toolbar/item/wangpan/common.js")),r=o("wkview:widget/common_toc_toolbar/item/wangpan/comp/btnDownload/btnDownload.js"),c=s.DocInfo,l=t({Options:{position:"left",reader:{}},_init:function(){var o=window.vipInfo||{},e=window.downloadResource||{};c.isVipFreeDoc=window.isVipFreeDoc;var i=d.calculateUserType(o),t=d.calcualteDocValueType(c,o),w={userType:i,docValueType:t,docInfo:c,vipInfo:o,wkInfo:s,downloadResource:e},a=".reader-tools-btn-wrap",l=new r(w,a),m=['<div class="reader-tools-btn-wrap favo-wrap">'];l.bindEvent(),m.push(l.makeTemplate()),m.push("</div>"),this.el=n.createDom(m.join("")),$(window).on("rendered:toolbar",function(){$.isFunction(l.afterRender)&&l.afterRender()}),this.showOrHide()},btnStatus:function(){},bindEvent:function(){},showOrHide:function(){c&&1===+c.professionalDoc&&this.hide()},hide:function(){this.el&&$(this.el).hide()}},{superClass:w});i.exports.wangpan=l});
;define("wkview:widget/common_toc_toolbar/item/coreBtns/common.js",function(o,m,t){var e=o("wkview:widget/common_item/commonUtil/commonUtil.js");t.exports=e});
;define("wkview:widget/common_toc_toolbar/item/coreBtns/comp/btnDownload/btnDownload.js",function(o,a,d){var n,t=o("wkcommon:widget/ui/lib/jquery/jquery.js"),l=o("wkcommon:widget/lib/doT/doT.min.js"),i=o("wkview:widget/doc_download_main/doc_download_main.js"),e=o("wkview:widget/doc_download_main/doc_download_pro.js").downDoc,s=o("wkcommon:widget/ui/js_core/_dialog/_dialog.js").alert,r=o("wkcommon:widget/ui/js_core/log/log.js"),c=o("wkcommon:widget/sessionX/sessionX.js"),w=o("wkview:widget/ui/underscore/underscore.js"),p=c.sessionXMgr,_=o("wkcommon:widget/performance/performance.js"),E=o("wkview:widget/common_toc_toolbar/item/coreBtns/common.js"),T=o("wkcommon:widget/lib/tangram/base/base.js"),v=function(o,a){t.extend(!0,this.data,o),this.rootSelector=a};v.prototype={constructor:v,$root:t(document),data:{userType:0,docValueType:0,docInfo:{},vipInfo:{},wkInfo:{}},afterRender:function(){var o=this.rootSelector+" .btn-download";t(o).length&&_.sendPerformanceLog({index:"downloadBtn",item:"clickable",actId:102104})},bindEvent:function(){var o=w.debounce(t.proxy(this.handleDownload,this),2e3,!0);return this.$root.on("click",this.rootSelector+" .btn-download",o),this},makeTemplate:function(){var o="",a=t.extend(!0,{},this.data,E);switch(this.data.userType){case E.USER_TYPE.VIP_JIAOYU:o=l.template('{{? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET }}<div class="reader-download btn-download"\n        data-toolsBar-log="download"\n        alog-action="htmltoolbar.download"\n    >\n\u7acb\u5373\u4e0b\u8f7d</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET_VIP_FREE }}<div class="reader-download btn-download"\n        data-toolsBar-log="download"\n        alog-action="htmltoolbar.download"\n    >\n<div class="text-secondary">VIP\u514d\u8d39</div>\n<div class="text-primary">\u4e0b\u8f7d</div>\n</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PARTNER_NORMAL }}    {{? it.docInfo.ispaied}}<div class="reader-download btn-download"\n            data-toolsBar-log="download"\n            alog-action="htmltoolbar.download"\n        >\n<span class="text-paied">\u5df2\u8d2d\u4e70</span>\u7acb\u5373\u4e0b\u8f7d</div>\n{{?}}{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_NORMAL }}    {{? it.docInfo.ispaied}}<div class="reader-download btn-download"\n            data-toolsBar-log="download"\n            alog-action="htmltoolbar.download"\n        >\n<span class="text-paied">\u5df2\u8d2d\u4e70</span>\u7acb\u5373\u4e0b\u8f7d</div>\n{{?}}{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_DISCOUNT }}    {{? it.docInfo.ispaied}}<div class="reader-download btn-download"\n            data-toolsBar-log="download"\n            alog-action="htmltoolbar.download"\n        >\n<span class="text-paied">\u5df2\u8d2d\u4e70</span>\u7acb\u5373\u4e0b\u8f7d</div>\n{{?}}{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_PACK }}    {{? it.docInfo.ispaied}}<div class="reader-download btn-download"\n            data-toolsBar-log="download"\n            alog-action="htmltoolbar.download"\n        >\n<span class="text-paied">\u5df2\u8d2d\u4e70</span>\u7acb\u5373\u4e0b\u8f7d</div>\n{{?}}{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PROFESSIONAL }}    {{? +it.vipInfo.proDownloadRights > 0 }}<div class="reader-download btn-download"\n            data-toolsBar-log="download"\n            alog-action="htmltoolbar.download"\n        >\n<div class="text-secondary">VIP\u4e13\u4eab</div>\n<div class="text-primary">\u4e0b\u8f7d</div>\n</div>\n{{?}}{{?}}')(a);break;case E.USER_TYPE.VIP_WENKU:o=l.template('{{? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET }}<div class="reader-download btn-download"\n        data-toolsBar-log="download"\n        alog-action="htmltoolbar.download"\n    >\n\u7acb\u5373\u4e0b\u8f7d</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET_VIP_FREE }}<div class="reader-download btn-download"\n        data-toolsBar-log="download"\n        alog-action="htmltoolbar.download"\n    >\n<div class="text-secondary">VIP\u514d\u8d39</div>\n<div class="text-primary">\u4e0b\u8f7d</div>\n</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PARTNER_NORMAL }}    {{? it.docInfo.ispaied}}<div class="reader-download btn-download"\n            data-toolsBar-log="download"\n            alog-action="htmltoolbar.download"\n        >\n<span class="text-paied">\u5df2\u8d2d\u4e70</span>\u7acb\u5373\u4e0b\u8f7d</div>\n{{?}}{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_NORMAL }}    {{? it.docInfo.ispaied}}<div class="reader-download btn-download"\n            data-toolsBar-log="download"\n            alog-action="htmltoolbar.download"\n        >\n<span class="text-paied">\u5df2\u8d2d\u4e70</span>\u7acb\u5373\u4e0b\u8f7d</div>\n{{?}}{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_DISCOUNT }}    {{? it.docInfo.ispaied}}<div class="reader-download btn-download"\n            data-toolsBar-log="download"\n            alog-action="htmltoolbar.download"\n        >\n<span class="text-paied">\u5df2\u8d2d\u4e70</span>\u7acb\u5373\u4e0b\u8f7d</div>\n{{?}}{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_PACK }}    {{? it.docInfo.ispaied}}<div class="reader-download btn-download"\n            data-toolsBar-log="download"\n            alog-action="htmltoolbar.download"\n        >\n<span class="text-paied">\u5df2\u8d2d\u4e70</span>\u7acb\u5373\u4e0b\u8f7d</div>\n{{?}}{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PROFESSIONAL }}    {{? +it.vipInfo.proDownloadRights > 0 }}<div class="reader-download btn-download"\n            data-toolsBar-log="download"\n            alog-action="htmltoolbar.download"\n        >\n<div class="text-secondary">VIP\u4e13\u4eab</div>\n<div class="text-primary">\u4e0b\u8f7d</div>\n</div>\n{{?}}{{?}}')(a);break;case E.USER_TYPE.VIP_CLASSIC:o=l.template('{{? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET }}<div class="reader-download btn-download"\n        data-toolsBar-log="download"\n        alog-action="htmltoolbar.download"\n    >\n\u7acb\u5373\u4e0b\u8f7d</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET_VIP_FREE }}<div class="reader-download btn-download"\n        data-toolsBar-log="download"\n        alog-action="htmltoolbar.download"\n    >\n<div class="text-secondary">VIP\u514d\u8d39</div>\n<div class="text-primary">\u4e0b\u8f7d</div>\n</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PARTNER_NORMAL }}    {{? it.docInfo.ispaied}}<div class="reader-download btn-download"\n            data-toolsBar-log="download"\n            alog-action="htmltoolbar.download"\n        >\n<span class="text-paied">\u5df2\u8d2d\u4e70</span>\u7acb\u5373\u4e0b\u8f7d</div>\n{{?}}{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_NORMAL }}    {{? it.docInfo.ispaied}}<div class="reader-download btn-download"\n            data-toolsBar-log="download"\n            alog-action="htmltoolbar.download"\n        >\n<span class="text-paied">\u5df2\u8d2d\u4e70</span>\u7acb\u5373\u4e0b\u8f7d</div>\n{{?}}{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_DISCOUNT }}    {{? it.docInfo.ispaied}}<div class="reader-download btn-download"\n            data-toolsBar-log="download"\n            alog-action="htmltoolbar.download"\n        >\n<span class="text-paied">\u5df2\u8d2d\u4e70</span>\u7acb\u5373\u4e0b\u8f7d</div>\n{{?}}{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_PACK }}    {{? it.docInfo.ispaied}}<div class="reader-download btn-download"\n            data-toolsBar-log="download"\n            alog-action="htmltoolbar.download"\n        >\n<span class="text-paied">\u5df2\u8d2d\u4e70</span>\u7acb\u5373\u4e0b\u8f7d</div>\n{{?}}{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PROFESSIONAL }}    {{? +it.vipInfo.proDownloadRights > 0 }}<div class="reader-download btn-download"\n            data-toolsBar-log="download"\n            alog-action="htmltoolbar.download"\n        >\n<div class="text-secondary">VIP\u4e13\u4eab</div>\n<div class="text-primary">\u4e0b\u8f7d</div>\n</div>\n{{?}}{{?}}')(a);break;case E.USER_TYPE.LOGIN_NOT_VIP:o=l.template('{{? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET }}<div class="reader-download btn-download"\n        data-toolsBar-log="download"\n        alog-action="htmltoolbar.download"\n    >\n\u7acb\u5373\u4e0b\u8f7d</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET_VIP_FREE }}<div class="reader-download btn-download"\n        data-toolsBar-log="download"\n        alog-action="htmltoolbar.download"\n    >\n\u7acb\u5373\u4e0b\u8f7d</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PARTNER_NORMAL }}    {{? it.docInfo.ispaied}}<div class="reader-download btn-download"\n            data-toolsBar-log="download"\n            alog-action="htmltoolbar.download"\n        >\n\u5df2\u8d2d\u4e70\u7acb\u5373\u4e0b\u8f7d</div>\n{{?}}{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_NORMAL }}    {{? it.docInfo.ispaied}}<div class="reader-download btn-download"\n            data-toolsBar-log="download"\n            alog-action="htmltoolbar.download"\n        >\n\u5df2\u8d2d\u4e70\u7acb\u5373\u4e0b\u8f7d</div>\n{{?}}{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_DISCOUNT }}    {{? it.docInfo.ispaied}}<div class="reader-download btn-download"\n            data-toolsBar-log="download"\n            alog-action="htmltoolbar.download"\n        >\n\u5df2\u8d2d\u4e70\u7acb\u5373\u4e0b\u8f7d</div>\n{{?}}{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_PACK }}    {{? it.docInfo.ispaied}}<div class="reader-download btn-download"\n            data-toolsBar-log="download"\n            alog-action="htmltoolbar.download"\n        >\n\u5df2\u8d2d\u4e70\u7acb\u5373\u4e0b\u8f7d</div>\n{{?}}{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PROFESSIONAL }}    {{? it.docInfo.ispaied}}<div class="reader-download btn-download"\n            data-toolsBar-log="download"\n            alog-action="htmltoolbar.download"\n        >\n\u5df2\u8d2d\u4e70\u7acb\u5373\u4e0b\u8f7d</div>\n{{?}}{{?}}')(a);break;case E.USER_TYPE.NOT_LOGIN:o=l.template('{{? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET }}<div class="reader-download btn-download"\n        data-toolsBar-log="download"\n        alog-action="htmltoolbar.download"\n    >\n\u7acb\u5373\u4e0b\u8f7d</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET_VIP_FREE }}<div class="reader-download btn-download"\n        data-toolsBar-log="download"\n        alog-action="htmltoolbar.download"\n    >\n\u7acb\u5373\u4e0b\u8f7d</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PARTNER_NORMAL }}    {{? it.docInfo.ispaied}}<div class="reader-download btn-download"\n            data-toolsBar-log="download"\n            alog-action="htmltoolbar.download"\n        >\n<span class="text-paied">\u5df2\u8d2d\u4e70</span>\u7acb\u5373\u4e0b\u8f7d</div>\n{{?}}{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_NORMAL }}    {{? it.docInfo.ispaied}}<div class="reader-download btn-download"\n            data-toolsBar-log="download"\n            alog-action="htmltoolbar.download"\n        >\n<span class="text-paied">\u5df2\u8d2d\u4e70</span>\u7acb\u5373\u4e0b\u8f7d</div>\n{{?}}{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_DISCOUNT }}    {{? it.docInfo.ispaied}}<div class="reader-download btn-download"\n            data-toolsBar-log="download"\n            alog-action="htmltoolbar.download"\n        >\n<span class="text-paied">\u5df2\u8d2d\u4e70</span>\u7acb\u5373\u4e0b\u8f7d</div>\n{{?}}{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_PACK }}    {{? it.docInfo.ispaied}}<div class="reader-download btn-download"\n            data-toolsBar-log="download"\n            alog-action="htmltoolbar.download"\n        >\n<span class="text-paied">\u5df2\u8d2d\u4e70</span>\u7acb\u5373\u4e0b\u8f7d</div>\n{{?}}{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PROFESSIONAL }}    {{? it.docInfo.ispaied}}<div class="reader-download btn-download"\n            data-toolsBar-log="download"\n            alog-action="htmltoolbar.download"\n        >\n<span class="text-paied">\u5df2\u8d2d\u4e70</span>\u7acb\u5373\u4e0b\u8f7d</div>\n{{?}}{{?}}')(a);break;case E.USER_TYPE.VIP_WENKUEDU:o=l.template('{{? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET }}<div class="reader-download btn-download"\n        data-toolsBar-log="download"\n        alog-action="htmltoolbar.download"\n    >\n\u7acb\u5373\u4e0b\u8f7d</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET_VIP_FREE }}<div class="reader-download btn-download"\n        data-toolsBar-log="download"\n        alog-action="htmltoolbar.download"\n    >\n<div class="text-secondary">VIP\u514d\u8d39</div>\n<div class="text-primary">\u4e0b\u8f7d</div>\n</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PARTNER_NORMAL }}    {{? it.docInfo.ispaied}}<div class="reader-download btn-download"\n            data-toolsBar-log="download"\n            alog-action="htmltoolbar.download"\n        >\n<span class="text-paied">\u5df2\u8d2d\u4e70</span>\u7acb\u5373\u4e0b\u8f7d</div>\n{{?}}{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_NORMAL }}    {{? it.docInfo.ispaied}}<div class="reader-download btn-download"\n            data-toolsBar-log="download"\n            alog-action="htmltoolbar.download"\n        >\n<span class="text-paied">\u5df2\u8d2d\u4e70</span>\u7acb\u5373\u4e0b\u8f7d</div>\n{{?}}{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_DISCOUNT }}    {{? it.docInfo.ispaied}}<div class="reader-download btn-download"\n            data-toolsBar-log="download"\n            alog-action="htmltoolbar.download"\n        >\n<span class="text-paied">\u5df2\u8d2d\u4e70</span>\u7acb\u5373\u4e0b\u8f7d</div>\n{{?}}{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_PACK }}    {{? it.docInfo.ispaied}}<div class="reader-download btn-download"\n            data-toolsBar-log="download"\n            alog-action="htmltoolbar.download"\n        >\n<span class="text-paied">\u5df2\u8d2d\u4e70</span>\u7acb\u5373\u4e0b\u8f7d</div>\n{{?}}{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PROFESSIONAL }}    {{? +it.vipInfo.proDownloadRights > 0 }}<div class="reader-download btn-download"\n            data-toolsBar-log="download"\n            alog-action="htmltoolbar.download"\n        >\n<div class="text-secondary">VIP\u4e13\u4eab</div>\n<div class="text-primary">\u4e0b\u8f7d</div>\n</div>\n{{?}}{{?}}')(a)}return o},handleDownload:function(){window.dataFormatConvert={},this.logHandleDownload();var o=this.data.docInfo||{};if(E.isDownloadDisabled(this.data.docInfo)){var a=o.isInRoomButDeletedByCreater?"\u6743\u9650\u95ee\u9898":"\u7248\u6743\u65b9\u8981\u6c42";s({title:"\u63d0\u793a",content:['<p class="download-disabled-info">',"\u8be5\u6587\u6863\u56e0"+a+"\uff0c\u4ec5\u652f\u6301\u5728\u7ebf\u9605\u8bfb\u54e6\u3002","</p>"].join(""),width:350,height:180})}else this.data.docValueType===E.DOC_VALUE_TYPE.PROFESSIONAL?(!(n instanceof e)&&(n=new e),n.start()):i.goSpecialDownload(this.data.wkInfo||{})},logHandleDownload:function(){r.xsend(1,102340,{type:"download",from:"docBtns"});var o=T.url.getQueryValue(location.href,"isVipfree")||"",a=0,d=this.data.userType;(30===d||40===d||50===d||60===d)&&(a=1);var n=this.data.docInfo||{};r.xsend(1,101712,{isVip:a,jingpin_vip_test:o}),r.xsend(1,100035);var l=n.docId,i=n.docTicket,e=E.DOC_VALUE_TYPE,s=this.data.docValueType,c=function(){var o=s===e.TICKET_VIP_FREE;return o?0:n.docTicket}();r.xsend(1,101316,{originPrice:i,salePrice:c,docId:l,type:2});var w=p.getSessionItem("fromSearchOptFirst"),_=t.extend(!0,{page:"view",pos:"toolbar"},w);r.xsend(101592,_)}},d.exports=v});
;define("wkview:widget/common_toc_toolbar/item/coreBtns/comp/btnPayDoc/btnPayDoc.js",function(i,o,d){var a,e=i("wkcommon:widget/ui/lib/jquery/jquery.js"),t=i("wkcommon:widget/lib/doT/doT.min.js"),c=i("wkview:widget/ui/view/pay_org_vip/pay_org_vip.js"),n=i("wkcommon:widget/ui/js_core/log/log.js"),r=i("wkcommon:widget/ui/js_core/login/login.js").login,s=i("wkview:widget/common_toc_toolbar/item/coreBtns/common.js"),l=function(i,o){e.extend(!0,this.data,i),this.rootSelector=o};l.prototype={constructor:l,$root:e(document),data:{userType:0,docValueType:0,docInfo:{},vipInfo:{},wkInfo:{}},bindEvent:function(){return this.$root.on("click",this.rootSelector+" .btn-pay-doc",e.proxy(this.handlePay,this)),this},makeTemplate:function(){var i="",o=e.extend(!0,{},this.data,s);switch(this.data.userType){case s.USER_TYPE.VIP_JIAOYU:i=t.template('{{? !it.docInfo.ispaied}}    {{? +it.docValueType === +it.DOC_VALUE_TYPE.PARTNER_NORMAL }}<div class="btn-pay-doc" alog-action="reader.buy.doc">\n\u8d2d\u4e70</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_NORMAL }}<div class="btn-pay-doc" alog-action="reader.buy.doc">\n\u8d2d\u4e70</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_DISCOUNT }}<div class="btn-pay-doc" alog-action="reader.buy.doc">\n<div class="text-secondary">VIP\u4e13\u4eab</div>\n<div class="text-primary">\n{{=((it.docInfo.vip_price || 0) * 10 / (it.docInfo.payPrice || 1)).toFixed(0)}}\u6298\u8d2d\u4e70</div>\n</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_PACK }}<div class="btn-pay-doc" alog-action="reader.buy.doc">\n\u8d2d\u4e70</div>\n{{?}}{{?}}')(o);break;case s.USER_TYPE.VIP_WENKU:i=t.template('{{? !it.docInfo.ispaied}}    {{? +it.docValueType === +it.DOC_VALUE_TYPE.PARTNER_NORMAL }}<div class="btn-pay-doc" alog-action="reader.buy.doc">\n\u8d2d\u4e70</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_NORMAL }}<div class="btn-pay-doc" alog-action="reader.buy.doc">\n\u8d2d\u4e70</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_DISCOUNT }}<div class="btn-pay-doc" alog-action="reader.buy.doc">\n<div class="text-secondary">VIP\u4e13\u4eab</div>\n<div class="text-primary">\n{{=((it.docInfo.vip_price || 0) * 10 / (it.docInfo.payPrice || 1)).toFixed(0)}}\u6298\u8d2d\u4e70</div>\n</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_PACK }}<div class="btn-pay-doc" alog-action="reader.buy.doc">\n\u8d2d\u4e70</div>\n{{?}}{{?}}')(o);break;case s.USER_TYPE.VIP_CLASSIC:i=t.template('{{? !it.docInfo.ispaied}}    {{? +it.docValueType === +it.DOC_VALUE_TYPE.PARTNER_NORMAL }}<div class="btn-pay-doc" alog-action="reader.buy.doc">\n\u8d2d\u4e70</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_NORMAL }}<div class="btn-pay-doc" alog-action="reader.buy.doc">\n\u8d2d\u4e70</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_DISCOUNT }}<div class="btn-pay-doc" alog-action="reader.buy.doc">\n<div class="text-secondary">VIP\u4e13\u4eab</div>\n<div class="text-primary">\n{{=((it.docInfo.vip_price || 0) * 10 / (it.docInfo.payPrice || 1)).toFixed(0)}}\u6298\u8d2d\u4e70</div>\n</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_PACK }}<div class="btn-pay-doc" alog-action="reader.buy.doc">\n\u8d2d\u4e70</div>\n{{?}}{{?}}')(o);break;case s.USER_TYPE.LOGIN_NOT_VIP:i=t.template('{{? !it.docInfo.ispaied}}    {{? +it.docValueType === +it.DOC_VALUE_TYPE.PARTNER_NORMAL }}<div class="btn-pay-doc" alog-action="reader.buy.doc">\n\u8d2d\u4e70</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_NORMAL }}<div class="btn-pay-doc" alog-action="reader.buy.doc">\n\u8d2d\u4e70</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_DISCOUNT }}<div class="btn-pay-doc" alog-action="reader.buy.doc">\n\u8d2d\u4e70</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_PACK }}<div class="btn-pay-doc" alog-action="reader.buy.doc">\n\u8d2d\u4e70</div>\n{{?}}{{?}}')(o);break;case s.USER_TYPE.NOT_LOGIN:i=t.template('{{? !it.docInfo.ispaied}}    {{? +it.docValueType === +it.DOC_VALUE_TYPE.PARTNER_NORMAL }}<div class="btn-pay-doc" alog-action="reader.buy.doc">\n\u8d2d\u4e70</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_NORMAL }}<div class="btn-pay-doc" alog-action="reader.buy.doc">\n\u8d2d\u4e70</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_DISCOUNT }}<div class="btn-pay-doc" alog-action="reader.buy.doc">\n\u8d2d\u4e70</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_PACK }}<div class="btn-pay-doc" alog-action="reader.buy.doc">\n\u8d2d\u4e70</div>\n{{?}}{{?}}')(o);break;case s.USER_TYPE.VIP_WENKUEDU:i=t.template('{{? !it.docInfo.ispaied}}    {{? +it.docValueType === +it.DOC_VALUE_TYPE.PARTNER_NORMAL }}<div class="btn-pay-doc" alog-action="reader.buy.doc">\n\u8d2d\u4e70</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_NORMAL }}<div class="btn-pay-doc" alog-action="reader.buy.doc">\n\u8d2d\u4e70</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_DISCOUNT }}<div class="btn-pay-doc" alog-action="reader.buy.doc">\n<div class="text-secondary">VIP\u4e13\u4eab</div>\n<div class="text-primary">\n{{=((it.docInfo.vip_price || 0) * 10 / (it.docInfo.payPrice || 1)).toFixed(0)}}\u6298\u8d2d\u4e70</div>\n</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_PACK }}<div class="btn-pay-doc" alog-action="reader.buy.doc">\n\u8d2d\u4e70</div>\n{{?}}{{?}}')(o)}return i},handlePay:function(){n.xsend(1,102340,{type:"doc",from:"docBtns"});var i=this,o=this.data.docInfo||{};n.xsend(1,100351),r.verlogin(function(){i.logHandlePay(),a||(a=c({goods_type:1,goods_id:o.docId}));var d="31_8_32_34";1===+o.fufeiFreeReadOpen?d="trialReading":2===+o.fufeiFreeReadOpen&&(d="trialReadingDuizhao");var e={query:{fr:o.player+"_view",q:"paybtn_toolbar",pn:o.totalPageNum||0,click_type:"13011003",dqStatCode:d}};a.init(e)})},getFinalPrice:function(){var i=this.data.docInfo||{},o=this.data.vipInfo||{},d=o.isVip,a=i.payPrice||0,e=a;return e=d&&i.is_discount_doc?i.vip_price:i.payPrice,i.is_only_vip_doc&&(e=0),e},logHandlePay:function(){var i=this.data.docInfo||{};n.xsend(1,100144),n.xsend(1,101712);var o=i.payPrice||0,d=this.getFinalPrice(),a=i.docId,e=a;n.xsend(1,101316,{originPrice:o,salePrice:d,docId:i.docId,goodsId:e,type:1})}},d.exports=l});
;define("wkview:widget/common_toc_toolbar/item/coreBtns/comp/btnPayVip/btnPayVip.js",function(n,a,i){var s=n("wkcommon:widget/ui/lib/jquery/jquery.js"),t=n("wkcommon:widget/lib/doT/doT.min.js"),o=n("wkcommon:widget/ui/js_core/log/log.js"),e=n("wkview:widget/node_modules/@baidu/el-visible/index.js"),p=n("wkcommon:widget/lib/tangram/base/base.js"),l=n("wkview:widget/common_toc_toolbar/item/coreBtns/common.js"),d=function(n,a){s.extend(!0,this.data,n),this.rootSelector=a};d.prototype={constructor:d,$root:s(document),data:{userType:0,docValueType:0,docInfo:{},vipInfo:{},wkInfo:{},downloadResource:{}},rootSelector:"",bindEvent:function(){return this.$root.on("click",this.rootSelector+" .btn-pay-vip",s.proxy(this.handlePay,this)).on("click",this.rootSelector+" .tip .btn-close",s.proxy(this.handleCloseTip,this)).on("click",this.rootSelector+" .new-user-discount-tip .btn-close",this.handleCloseNewUserTip),this},makeTemplate:function(){var n="",a=s.extend(!0,{},this.data,l),i=a.renewalVipInfo||{},o=!1;if(window.localStorage&&a.vipInfo&&1===a.vipInfo.is_new_user)try{var e=window.localStorage,p=(new Date).getTime(),d=JSON.parse(e.getItem("showNewUserSaleTip"));d?d.times<2&&p-d.closeTime>=864e5&&(o=!0):o=!0}catch(c){}switch(a.showNewUserSaleTip=o,this.data.userType){case l.USER_TYPE.VIP_JIAOYU:+i.pro_download_ticket_total>1&&+i.normal_download_ticket_total>1&&i.jiaoyu_vip_info.pro_download_ticket+i.jiaoyu_vip_info.normal_download_ticket<=0&&(a.isWenkuVipRenew=!0),n=t.template('{{? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET }}    {{? +it.docInfo.docTicket === 0}}<div class="tip">\n<span class="icon-triangle"></span>\n{{? it.isWenkuVipRenew}}<span class="icon-vip-wenku"></span>\n{{??}}<span class="icon-vip-jiaoyu"></span>\n{{?}}<span class="tip-text">\n{{? +it.renewalVipInfo.pro_download_ticket_total<= 1 && +it.renewalVipInfo.normal_download_ticket_total >1 }}            \u9650\u65f6\u7eed\u8d39\u8d60VIP\u4e13\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743<span class="red">4</span>\u4e2a            {{?? +it.renewalVipInfo.pro_download_ticket_total > 1 && +it.renewalVipInfo.normal_download_ticket_total<= 1 }}\n            \u9650\u65f6\u7eed\u8d39\u8d60\u5171\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743<span class="red">12</span>\u4e2a            {{?? +it.renewalVipInfo.pro_download_ticket_total<= 1 && +it.renewalVipInfo.normal_download_ticket_total <= 1 }}\n            \u9650\u65f6\u7eed\u8d39\u8d60\u4e24\u79cd\u4e0b\u8f7d\u7279\u6743<span class="red">\u54048</span>\u4e2a            {{??}}                {{? (+it.renewalVipInfo.jiaoyu_vip_info.pro_download_ticket + +it.renewalVipInfo.jiaoyu_vip_info.normal_download_ticket) > 0}}                \u9650\u65f6\u7eed\u8d39\u5269\u4f59<span class="red">{{=(+it.renewalVipInfo.jiaoyu_vip_info.pro_download_ticket + +it.renewalVipInfo.jiaoyu_vip_info.normal_download_ticket)}}</span>\u4e2a\u4e0b\u8f7d\u7279\u6743\u5ef6\u65f6<span class="red">30</span>\u5929                {{??}}                \u9650\u65f6{{? it.renewalVipInfo.vip_info.flag === 1}}\u7eed\u8d39{{??}}\u5347\u7ea7{{?}}\u5269\u4f59<span class="red">{{=(+it.renewalVipInfo.vip_info.pro_download_ticket + +it.renewalVipInfo.vip_info.normal_download_ticket)}}</span>\u4e2a\u4e0b\u8f7d\u7279\u6743\u5ef6\u65f6<span class="red">30</span>\u5929                {{?}}            {{?}}</span>\n<span class="btn-close"></span>\n</div>\n<div class="btn-pay-vip">\n\u7eed\u8d39VIP</div>\n{{??}}<div class="tip">\n<span class="icon-triangle"></span>\n{{? it.isWenkuVipRenew}}<span class="icon-vip-wenku"></span>\n{{??}}<span class="icon-vip-jiaoyu"></span>\n{{?}}<span class="tip-text">\n{{? +it.renewalVipInfo.pro_download_ticket_total<= 1 && +it.renewalVipInfo.normal_download_ticket_total >1 }}            \u9650\u65f6\u7eed\u8d39\u8d60VIP\u4e13\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743<span class="red">4</span>\u4e2a            {{?? +it.renewalVipInfo.pro_download_ticket_total > 1 && +it.renewalVipInfo.normal_download_ticket_total<= 1 }}\n            \u9650\u65f6\u7eed\u8d39\u8d60\u5171\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743<span class="red">12</span>\u4e2a            {{?? +it.renewalVipInfo.pro_download_ticket_total<= 1 && +it.renewalVipInfo.normal_download_ticket_total <= 1 }}\n            \u9650\u65f6\u7eed\u8d39\u8d60\u4e24\u79cd\u4e0b\u8f7d\u7279\u6743<span class="red">\u54048</span>\u4e2a            {{??}}                {{? (+it.renewalVipInfo.jiaoyu_vip_info.pro_download_ticket + +it.renewalVipInfo.jiaoyu_vip_info.normal_download_ticket) > 0}}                \u9650\u65f6\u7eed\u8d39\u5269\u4f59<span class="red">{{=(+it.renewalVipInfo.jiaoyu_vip_info.pro_download_ticket + +it.renewalVipInfo.jiaoyu_vip_info.normal_download_ticket)}}</span>\u4e2a\u4e0b\u8f7d\u7279\u6743\u5ef6\u65f6<span class="red">30</span>\u5929                {{??}}                \u9650\u65f6{{? it.renewalVipInfo.vip_info.flag === 1}}\u7eed\u8d39{{??}}\u5347\u7ea7{{?}}\u5269\u4f59<span class="red">{{=(+it.renewalVipInfo.vip_info.pro_download_ticket + +it.renewalVipInfo.vip_info.normal_download_ticket)}}</span>\u4e2a\u4e0b\u8f7d\u7279\u6743\u5ef6\u65f6<span class="red">30</span>\u5929                {{?}}            {{?}}</span>\n<span class="btn-close"></span>\n</div>\n<div class="btn-pay-vip">\n\u7eed\u8d39VIP</div>\n{{?}}{{?? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET_VIP_FREE }}<div class="tip">\n<span class="icon-triangle"></span>\n{{? it.isWenkuVipRenew}}<span class="icon-vip-wenku"></span>\n{{??}}<span class="icon-vip-jiaoyu"></span>\n{{?}}<span class="tip-text">\n{{? +it.renewalVipInfo.pro_download_ticket_total<= 1 && +it.renewalVipInfo.normal_download_ticket_total >1 }}        \u9650\u65f6\u7eed\u8d39\u8d60VIP\u4e13\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743<span class="red">4</span>\u4e2a        {{?? +it.renewalVipInfo.pro_download_ticket_total > 1 && +it.renewalVipInfo.normal_download_ticket_total<= 1 }}\n        \u9650\u65f6\u7eed\u8d39\u8d60\u5171\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743<span class="red">12</span>\u4e2a        {{?? +it.renewalVipInfo.pro_download_ticket_total<= 1 && +it.renewalVipInfo.normal_download_ticket_total <= 1 }}\n        \u9650\u65f6\u7eed\u8d39\u8d60\u4e24\u79cd\u4e0b\u8f7d\u7279\u6743<span class="red">\u54048</span>\u4e2a        {{??}}            {{? (+it.renewalVipInfo.jiaoyu_vip_info.pro_download_ticket + +it.renewalVipInfo.jiaoyu_vip_info.normal_download_ticket) > 0}}            \u9650\u65f6\u7eed\u8d39\u5269\u4f59<span class="red">{{=(+it.renewalVipInfo.jiaoyu_vip_info.pro_download_ticket + +it.renewalVipInfo.jiaoyu_vip_info.normal_download_ticket)}}</span>\u4e2a\u4e0b\u8f7d\u7279\u6743\u5ef6\u65f6<span class="red">30</span>\u5929            {{??}}            \u9650\u65f6{{? it.renewalVipInfo.vip_info.flag === 1}}\u7eed\u8d39{{??}}\u5347\u7ea7{{?}}\u5269\u4f59<span class="red">{{=(+it.renewalVipInfo.vip_info.pro_download_ticket + +it.renewalVipInfo.vip_info.normal_download_ticket)}}</span>\u4e2a\u4e0b\u8f7d\u7279\u6743\u5ef6\u65f6<span class="red">30</span>\u5929            {{?}}        {{?}}</span>\n<span class="btn-close"></span>\n</div>\n<div class="btn-pay-vip">\n\u7eed\u8d39VIP</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PARTNER_NORMAL }}<div class="tip">\n<span class="icon-triangle"></span>\n{{? it.isWenkuVipRenew}}<span class="icon-vip-wenku"></span>\n{{??}}<span class="icon-vip-jiaoyu"></span>\n{{?}}<span class="tip-text">\n{{? +it.renewalVipInfo.pro_download_ticket_total<= 1 && +it.renewalVipInfo.normal_download_ticket_total >1 }}        \u9650\u65f6\u7eed\u8d39\u8d60VIP\u4e13\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743<span class="red">4</span>\u4e2a        {{?? +it.renewalVipInfo.pro_download_ticket_total > 1 && +it.renewalVipInfo.normal_download_ticket_total<= 1 }}\n        \u9650\u65f6\u7eed\u8d39\u8d60\u5171\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743<span class="red">12</span>\u4e2a        {{?? +it.renewalVipInfo.pro_download_ticket_total<= 1 && +it.renewalVipInfo.normal_download_ticket_total <= 1 }}\n        \u9650\u65f6\u7eed\u8d39\u8d60\u4e24\u79cd\u4e0b\u8f7d\u7279\u6743<span class="red">\u54048</span>\u4e2a        {{??}}            {{? (+it.renewalVipInfo.jiaoyu_vip_info.pro_download_ticket + +it.renewalVipInfo.jiaoyu_vip_info.normal_download_ticket) > 0}}            \u9650\u65f6\u7eed\u8d39\u5269\u4f59<span class="red">{{=(+it.renewalVipInfo.jiaoyu_vip_info.pro_download_ticket + +it.renewalVipInfo.jiaoyu_vip_info.normal_download_ticket)}}</span>\u4e2a\u4e0b\u8f7d\u7279\u6743\u5ef6\u65f6<span class="red">30</span>\u5929            {{??}}            \u9650\u65f6{{? it.renewalVipInfo.vip_info.flag === 1}}\u7eed\u8d39{{??}}\u5347\u7ea7{{?}}\u5269\u4f59<span class="red">{{=(+it.renewalVipInfo.vip_info.pro_download_ticket + +it.renewalVipInfo.vip_info.normal_download_ticket)}}</span>\u4e2a\u4e0b\u8f7d\u7279\u6743\u5ef6\u65f6<span class="red">30</span>\u5929            {{?}}        {{?}}</span>\n<span class="btn-close"></span>\n</div>\n<div class="btn-pay-vip">\n\u7eed\u8d39VIP</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_NORMAL }}{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_DISCOUNT }}<div class="tip">\n<span class="icon-triangle"></span>\n{{? it.isWenkuVipRenew}}<span class="icon-vip-wenku"></span>\n{{??}}<span class="icon-vip-jiaoyu"></span>\n{{?}}<span class="tip-text">\n{{? +it.renewalVipInfo.pro_download_ticket_total<= 1 && +it.renewalVipInfo.normal_download_ticket_total >1 }}        \u9650\u65f6\u7eed\u8d39\u8d60VIP\u4e13\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743<span class="red">4</span>\u4e2a        {{?? +it.renewalVipInfo.pro_download_ticket_total > 1 && +it.renewalVipInfo.normal_download_ticket_total<= 1 }}\n        \u9650\u65f6\u7eed\u8d39\u8d60\u5171\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743<span class="red">12</span>\u4e2a        {{?? +it.renewalVipInfo.pro_download_ticket_total<= 1 && +it.renewalVipInfo.normal_download_ticket_total <= 1 }}\n        \u9650\u65f6\u7eed\u8d39\u8d60\u4e24\u79cd\u4e0b\u8f7d\u7279\u6743<span class="red">\u54048</span>\u4e2a        {{??}}            {{? (+it.renewalVipInfo.jiaoyu_vip_info.pro_download_ticket + +it.renewalVipInfo.jiaoyu_vip_info.normal_download_ticket) > 0}}            \u9650\u65f6\u7eed\u8d39\u5269\u4f59<span class="red">{{=(+it.renewalVipInfo.jiaoyu_vip_info.pro_download_ticket + +it.renewalVipInfo.jiaoyu_vip_info.normal_download_ticket)}}</span>\u4e2a\u4e0b\u8f7d\u7279\u6743\u5ef6\u65f6<span class="red">30</span>\u5929            {{??}}            \u9650\u65f6{{? it.renewalVipInfo.vip_info.flag === 1}}\u7eed\u8d39{{??}}\u5347\u7ea7{{?}}\u5269\u4f59<span class="red">{{=(+it.renewalVipInfo.vip_info.pro_download_ticket + +it.renewalVipInfo.vip_info.normal_download_ticket)}}</span>\u4e2a\u4e0b\u8f7d\u7279\u6743\u5ef6\u65f6<span class="red">30</span>\u5929            {{?}}        {{?}}</span>\n<span class="btn-close"></span>\n</div>\n<div class="btn-pay-vip">\n\u7eed\u8d39VIP</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_PACK }}{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PROFESSIONAL }}<div class="tip">\n<span class="icon-triangle"></span>\n{{? it.isWenkuVipRenew}}<span class="icon-vip-wenku"></span>\n{{??}}<span class="icon-vip-jiaoyu"></span>\n{{?}}<span class="tip-text">\n{{? +it.renewalVipInfo.pro_download_ticket_total<= 1 && +it.renewalVipInfo.normal_download_ticket_total >1 }}        \u9650\u65f6\u7eed\u8d39\u8d60VIP\u4e13\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743<span class="red">4</span>\u4e2a        {{?? +it.renewalVipInfo.pro_download_ticket_total > 1 && +it.renewalVipInfo.normal_download_ticket_total<= 1 }}\n        \u9650\u65f6\u7eed\u8d39\u8d60\u5171\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743<span class="red">12</span>\u4e2a        {{?? +it.renewalVipInfo.pro_download_ticket_total<= 1 && +it.renewalVipInfo.normal_download_ticket_total <= 1 }}\n        \u9650\u65f6\u7eed\u8d39\u8d60\u4e24\u79cd\u4e0b\u8f7d\u7279\u6743<span class="red">\u54048</span>\u4e2a        {{??}}            {{? (+it.renewalVipInfo.jiaoyu_vip_info.pro_download_ticket + +it.renewalVipInfo.jiaoyu_vip_info.normal_download_ticket) > 0}}            \u9650\u65f6\u7eed\u8d39\u5269\u4f59<span class="red">{{=(+it.renewalVipInfo.jiaoyu_vip_info.pro_download_ticket + +it.renewalVipInfo.jiaoyu_vip_info.normal_download_ticket)}}</span>\u4e2a\u4e0b\u8f7d\u7279\u6743\u5ef6\u65f6<span class="red">30</span>\u5929            {{??}}            \u9650\u65f6{{? it.renewalVipInfo.vip_info.flag === 1}}\u7eed\u8d39{{??}}\u5347\u7ea7{{?}}\u5269\u4f59<span class="red">{{=(+it.renewalVipInfo.vip_info.pro_download_ticket + +it.renewalVipInfo.vip_info.normal_download_ticket)}}</span>\u4e2a\u4e0b\u8f7d\u7279\u6743\u5ef6\u65f6<span class="red">30</span>\u5929            {{?}}        {{?}}</span>\n<span class="btn-close"></span>\n</div>\n<div class="btn-pay-vip btn-pay-vip-pro-doc">\n\u7eed\u8d39VIP</div>\n{{?}}')(a);break;case l.USER_TYPE.VIP_WENKU:n=t.template('{{? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET }}    {{? +it.docInfo.docTicket === 0}}<div class="tip">\n<span class="icon-triangle"></span>\n<span class="icon-vip-wenku"></span>\n<span class="tip-text">\n{{? +it.renewalVipInfo.pro_download_ticket_total<= 1 && +it.renewalVipInfo.normal_download_ticket_total >1 }}            \u9650\u65f6\u5347\u7ea7\u8d60VIP\u4e13\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743<span class="red">4</span>\u4e2a            {{?? +it.renewalVipInfo.pro_download_ticket_total > 1 && +it.renewalVipInfo.normal_download_ticket_total<= 1 }}\n            \u9650\u65f6\u5347\u7ea7\u8d60\u5171\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743<span class="red">12</span>\u4e2a            {{?? +it.renewalVipInfo.pro_download_ticket_total<= 1 && +it.renewalVipInfo.normal_download_ticket_total <= 1 }}\n            \u9650\u65f6\u5347\u7ea7\u8d60\u4e24\u79cd\u4e0b\u8f7d\u7279\u6743<span class="red">\u54048</span>\u4e2a            {{??}}            \u9650\u65f6\u5347\u7ea7\u5269\u4f59<span class="red">{{=(+it.renewalVipInfo.vip_info.pro_download_ticket + +it.renewalVipInfo.vip_info.normal_download_ticket)}}</span>\u4e2a\u4e0b\u8f7d\u7279\u6743\u5ef6\u65f6<span class="red">30</span>\u5929            {{?}}</span>\n<span class="btn-close"></span>\n</div>\n<div class="btn-pay-vip">\n\u5347\u7ea7VIP</div>\n{{??}}<div class="tip">\n<span class="icon-triangle"></span>\n<span class="icon-vip-wenku"></span>\n<span class="tip-text">\n{{? +it.renewalVipInfo.pro_download_ticket_total<= 1 && +it.renewalVipInfo.normal_download_ticket_total >1 }}            \u9650\u65f6\u5347\u7ea7\u8d60VIP\u4e13\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743<span class="red">4</span>\u4e2a            {{?? +it.renewalVipInfo.pro_download_ticket_total > 1 && +it.renewalVipInfo.normal_download_ticket_total<= 1 }}\n            \u9650\u65f6\u5347\u7ea7\u8d60\u5171\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743<span class="red">12</span>\u4e2a            {{?? +it.renewalVipInfo.pro_download_ticket_total<= 1 && +it.renewalVipInfo.normal_download_ticket_total <= 1 }}\n            \u9650\u65f6\u5347\u7ea7\u8d60\u4e24\u79cd\u4e0b\u8f7d\u7279\u6743<span class="red">\u54048</span>\u4e2a            {{??}}            \u9650\u65f6\u5347\u7ea7\u5269\u4f59<span class="red">{{=(+it.renewalVipInfo.vip_info.pro_download_ticket + +it.renewalVipInfo.vip_info.normal_download_ticket)}}</span>\u4e2a\u4e0b\u8f7d\u7279\u6743\u5ef6\u65f6<span class="red">30</span>\u5929            {{?}}</span>\n<span class="btn-close"></span>\n</div>\n<div class="btn-pay-vip">\n\u5347\u7ea7VIP</div>\n{{?}}{{?? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET_VIP_FREE }}<div class="tip">\n<span class="icon-triangle"></span>\n<span class="icon-vip-wenku"></span>\n<span class="tip-text">\n{{? +it.renewalVipInfo.pro_download_ticket_total<= 1 && +it.renewalVipInfo.normal_download_ticket_total >1 }}        \u9650\u65f6\u5347\u7ea7\u8d60VIP\u4e13\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743<span class="red">4</span>\u4e2a        {{?? +it.renewalVipInfo.pro_download_ticket_total > 1 && +it.renewalVipInfo.normal_download_ticket_total<= 1 }}\n        \u9650\u65f6\u5347\u7ea7\u8d60\u5171\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743<span class="red">12</span>\u4e2a        {{?? +it.renewalVipInfo.pro_download_ticket_total<= 1 && +it.renewalVipInfo.normal_download_ticket_total <= 1 }}\n        \u9650\u65f6\u5347\u7ea7\u8d60\u4e24\u79cd\u4e0b\u8f7d\u7279\u6743<span class="red">\u54048</span>\u4e2a        {{??}}        \u9650\u65f6\u5347\u7ea7\u5269\u4f59<span class="red">{{=(+it.renewalVipInfo.vip_info.pro_download_ticket + +it.renewalVipInfo.vip_info.normal_download_ticket)}}</span>\u4e2a\u4e0b\u8f7d\u7279\u6743\u5ef6\u65f6<span class="red">30</span>\u5929        {{?}}</span>\n<span class="btn-close"></span>\n</div>\n<div class="btn-pay-vip">\n\u5347\u7ea7VIP</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PARTNER_NORMAL }}{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_NORMAL }}{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_DISCOUNT }}<div class="tip">\n<span class="icon-triangle"></span>\n<span class="icon-vip-wenku"></span>\n<span class="tip-text">\n{{? +it.renewalVipInfo.pro_download_ticket_total<= 1 && +it.renewalVipInfo.normal_download_ticket_total >1 }}        \u9650\u65f6\u5347\u7ea7\u8d60VIP\u4e13\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743<span class="red">4</span>\u4e2a        {{?? +it.renewalVipInfo.pro_download_ticket_total > 1 && +it.renewalVipInfo.normal_download_ticket_total<= 1 }}\n        \u9650\u65f6\u5347\u7ea7\u8d60\u5171\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743<span class="red">12</span>\u4e2a        {{?? +it.renewalVipInfo.pro_download_ticket_total<= 1 && +it.renewalVipInfo.normal_download_ticket_total <= 1 }}\n        \u9650\u65f6\u5347\u7ea7\u8d60\u4e24\u79cd\u4e0b\u8f7d\u7279\u6743<span class="red">\u54048</span>\u4e2a        {{??}}        \u9650\u65f6\u5347\u7ea7\u5269\u4f59<span class="red">{{=(+it.renewalVipInfo.vip_info.pro_download_ticket + +it.renewalVipInfo.vip_info.normal_download_ticket)}}</span>\u4e2a\u4e0b\u8f7d\u7279\u6743\u5ef6\u65f6<span class="red">30</span>\u5929        {{?}}</span>\n<span class="btn-close"></span>\n</div>\n<div class="btn-pay-vip">\n\u5347\u7ea7VIP</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_PACK }}{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PROFESSIONAL }}<div class="tip">\n<span class="icon-triangle"></span>\n<span class="icon-vip-wenku"></span>\n<span class="tip-text">\n{{? +it.renewalVipInfo.pro_download_ticket_total<= 1 && +it.renewalVipInfo.normal_download_ticket_total >1 }}        \u9650\u65f6\u5347\u7ea7\u8d60VIP\u4e13\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743<span class="red">4</span>\u4e2a        {{?? +it.renewalVipInfo.pro_download_ticket_total > 1 && +it.renewalVipInfo.normal_download_ticket_total<= 1 }}\n        \u9650\u65f6\u5347\u7ea7\u8d60\u5171\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743<span class="red">12</span>\u4e2a        {{?? +it.renewalVipInfo.pro_download_ticket_total<= 1 && +it.renewalVipInfo.normal_download_ticket_total <= 1 }}\n        \u9650\u65f6\u5347\u7ea7\u8d60\u4e24\u79cd\u4e0b\u8f7d\u7279\u6743<span class="red">\u54048</span>\u4e2a        {{??}}        \u9650\u65f6\u5347\u7ea7\u5269\u4f59<span class="red">{{=(+it.renewalVipInfo.vip_info.pro_download_ticket + +it.renewalVipInfo.vip_info.normal_download_ticket)}}</span>\u4e2a\u4e0b\u8f7d\u7279\u6743\u5ef6\u65f6<span class="red">30</span>\u5929        {{?}}</span>\n<span class="btn-close"></span>\n</div>\n<div class="btn-pay-vip btn-pay-vip-pro-doc">\n\u5347\u7ea7VIP</div>\n{{?}}')(a);break;case l.USER_TYPE.VIP_CLASSIC:n=t.template('{{? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET }}    {{? +it.docInfo.docTicket === 0}}<div class="tip">\n<span class="icon-triangle"></span>\n<span class="icon-vip-classic"></span>\n<span class="tip-text">\n{{? +it.renewalVipInfo.pro_download_ticket_total<= 1 && +it.renewalVipInfo.normal_download_ticket_total >1 }}            \u9650\u65f6\u5347\u7ea7\u8d60VIP\u4e13\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743<span class="red">4</span>\u4e2a            {{?? +it.renewalVipInfo.pro_download_ticket_total > 1 && +it.renewalVipInfo.normal_download_ticket_total<= 1 }}\n            \u9650\u65f6\u5347\u7ea7\u8d60\u5171\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743<span class="red">12</span>\u4e2a            {{?? +it.renewalVipInfo.pro_download_ticket_total<= 1 && +it.renewalVipInfo.normal_download_ticket_total <= 1 }}\n            \u9650\u65f6\u5347\u7ea7\u8d60\u4e24\u79cd\u4e0b\u8f7d\u7279\u6743<span class="red">\u54048</span>\u4e2a            {{??}}            \u9650\u65f6\u5347\u7ea7\u5269\u4f59<span class="red">{{=(+it.renewalVipInfo.vip_info.pro_download_ticket + +it.renewalVipInfo.vip_info.normal_download_ticket)}}</span>\u4e2a\u4e0b\u8f7d\u7279\u6743\u5ef6\u65f6<span class="red">30</span>\u5929            {{?}}</span>\n<span class="btn-close"></span>\n</div>\n<div class="btn-pay-vip">\n\u5347\u7ea7VIP</div>\n{{??}}        {{? +it.vipInfo.shareDownloadRights > 0}}<div class="tip">\n<span class="icon-triangle"></span>\n<span class="icon-vip-classic"></span>\n<span class="tip-text">\n{{? +it.renewalVipInfo.pro_download_ticket_total<= 1 && +it.renewalVipInfo.normal_download_ticket_total >1 }}                \u9650\u65f6\u5347\u7ea7\u8d60VIP\u4e13\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743<span class="red">4</span>\u4e2a                {{?? +it.renewalVipInfo.pro_download_ticket_total > 1 && +it.renewalVipInfo.normal_download_ticket_total<= 1 }}\n                \u9650\u65f6\u5347\u7ea7\u8d60\u5171\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743<span class="red">12</span>\u4e2a                {{?? +it.renewalVipInfo.pro_download_ticket_total<= 1 && +it.renewalVipInfo.normal_download_ticket_total <= 1 }}\n                \u9650\u65f6\u5347\u7ea7\u8d60\u4e24\u79cd\u4e0b\u8f7d\u7279\u6743<span class="red">\u54048</span>\u4e2a                {{??}}                \u9650\u65f6\u5347\u7ea7\u5269\u4f59<span class="red">{{=(+it.renewalVipInfo.vip_info.pro_download_ticket + +it.renewalVipInfo.vip_info.normal_download_ticket)}}</span>\u4e2a\u4e0b\u8f7d\u7279\u6743\u5ef6\u65f6<span class="red">30</span>\u5929                {{?}}</span>\n<span class="btn-close"></span>\n</div>\n<div class="btn-pay-vip">\n\u5347\u7ea7VIP</div>\n{{??}}<div class="tip">\n<span class="icon-triangle"></span>\n<span class="icon-vip-classic"></span>\n<span class="tip-text">\n{{? +it.renewalVipInfo.pro_download_ticket_total<= 1 && +it.renewalVipInfo.normal_download_ticket_total >1 }}                \u9650\u65f6\u5347\u7ea7\u8d60VIP\u4e13\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743<span class="red">4</span>\u4e2a                {{?? +it.renewalVipInfo.pro_download_ticket_total > 1 && +it.renewalVipInfo.normal_download_ticket_total<= 1 }}\n                \u9650\u65f6\u5347\u7ea7\u8d60\u5171\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743<span class="red">12</span>\u4e2a                {{?? +it.renewalVipInfo.pro_download_ticket_total<= 1 && +it.renewalVipInfo.normal_download_ticket_total <= 1 }}\n                \u9650\u65f6\u5347\u7ea7\u8d60\u4e24\u79cd\u4e0b\u8f7d\u7279\u6743<span class="red">\u54048</span>\u4e2a                {{??}}                \u9650\u65f6\u5347\u7ea7\u5269\u4f59<span class="red">{{=(+it.renewalVipInfo.vip_info.pro_download_ticket + +it.renewalVipInfo.vip_info.normal_download_ticket)}}</span>\u4e2a\u4e0b\u8f7d\u7279\u6743\u5ef6\u65f6<span class="red">30</span>\u5929                {{?}}</span>\n<span class="btn-close"></span>\n</div>\n<div class="btn-pay-vip">\n<div class="text-secondary">\u5347\u7ea7VIP</div>\n<div class="text-primary">\u514d\u5238\u4e0b\u8f7d</div>\n</div>\n{{?}}    {{?}}{{?? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET_VIP_FREE }}<div class="tip">\n<span class="icon-triangle"></span>\n<span class="icon-vip-classic"></span>\n<span class="tip-text">\n{{? +it.renewalVipInfo.pro_download_ticket_total<= 1 && +it.renewalVipInfo.normal_download_ticket_total >1 }}        \u9650\u65f6\u5347\u7ea7\u8d60VIP\u4e13\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743<span class="red">4</span>\u4e2a        {{?? +it.renewalVipInfo.pro_download_ticket_total > 1 && +it.renewalVipInfo.normal_download_ticket_total<= 1 }}\n        \u9650\u65f6\u5347\u7ea7\u8d60\u5171\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743<span class="red">12</span>\u4e2a        {{?? +it.renewalVipInfo.pro_download_ticket_total<= 1 && +it.renewalVipInfo.normal_download_ticket_total <= 1 }}\n        \u9650\u65f6\u5347\u7ea7\u8d60\u4e24\u79cd\u4e0b\u8f7d\u7279\u6743<span class="red">\u54048</span>\u4e2a        {{??}}        \u9650\u65f6\u5347\u7ea7\u5269\u4f59<span class="red">{{=(+it.renewalVipInfo.vip_info.pro_download_ticket + +it.renewalVipInfo.vip_info.normal_download_ticket)}}</span>\u4e2a\u4e0b\u8f7d\u7279\u6743\u5ef6\u65f6<span class="red">30</span>\u5929        {{?}}</span>\n<span class="btn-close"></span>\n</div>\n<div class="btn-pay-vip">\n\u5347\u7ea7VIP</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PARTNER_NORMAL }}{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_NORMAL }}{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_DISCOUNT }}<div class="tip">\n<span class="icon-triangle"></span>\n<span class="icon-vip-classic"></span>\n<span class="tip-text">\n{{? +it.renewalVipInfo.pro_download_ticket_total<= 1 && +it.renewalVipInfo.normal_download_ticket_total >1 }}        \u9650\u65f6\u5347\u7ea7\u8d60VIP\u4e13\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743<span class="red">4</span>\u4e2a        {{?? +it.renewalVipInfo.pro_download_ticket_total > 1 && +it.renewalVipInfo.normal_download_ticket_total<= 1 }}\n        \u9650\u65f6\u5347\u7ea7\u8d60\u5171\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743<span class="red">12</span>\u4e2a        {{?? +it.renewalVipInfo.pro_download_ticket_total<= 1 && +it.renewalVipInfo.normal_download_ticket_total <= 1 }}\n        \u9650\u65f6\u5347\u7ea7\u8d60\u4e24\u79cd\u4e0b\u8f7d\u7279\u6743<span class="red">\u54048</span>\u4e2a        {{??}}        \u9650\u65f6\u5347\u7ea7\u5269\u4f59<span class="red">{{=(+it.renewalVipInfo.vip_info.pro_download_ticket + +it.renewalVipInfo.vip_info.normal_download_ticket)}}</span>\u4e2a\u4e0b\u8f7d\u7279\u6743\u5ef6\u65f6<span class="red">30</span>\u5929        {{?}}</span>\n<span class="btn-close"></span>\n</div>\n<div class="btn-pay-vip">\n\u5347\u7ea7VIP</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_PACK }}{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PROFESSIONAL }}    {{? +it.vipInfo.proDownloadRights > 0}}<div class="tip">\n<span class="icon-triangle"></span>\n<span class="icon-vip-classic"></span>\n<span class="tip-text">\n{{? +it.renewalVipInfo.pro_download_ticket_total<= 1 && +it.renewalVipInfo.normal_download_ticket_total >1 }}            \u9650\u65f6\u5347\u7ea7\u8d60VIP\u4e13\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743<span class="red">4</span>\u4e2a            {{?? +it.renewalVipInfo.pro_download_ticket_total > 1 && +it.renewalVipInfo.normal_download_ticket_total<= 1 }}\n            \u9650\u65f6\u5347\u7ea7\u8d60\u5171\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743<span class="red">12</span>\u4e2a            {{?? +it.renewalVipInfo.pro_download_ticket_total<= 1 && +it.renewalVipInfo.normal_download_ticket_total <= 1 }}\n            \u9650\u65f6\u5347\u7ea7\u8d60\u4e24\u79cd\u4e0b\u8f7d\u7279\u6743<span class="red">\u54048</span>\u4e2a            {{??}}            \u9650\u65f6\u5347\u7ea7\u5269\u4f59<span class="red">{{=(+it.renewalVipInfo.vip_info.pro_download_ticket + +it.renewalVipInfo.vip_info.normal_download_ticket)}}</span>\u4e2a\u4e0b\u8f7d\u7279\u6743\u5ef6\u65f6<span class="red">30</span>\u5929            {{?}}</span>\n<span class="btn-close"></span>\n</div>\n<div class="btn-pay-vip btn-pay-vip-pro-doc">\n\u5347\u7ea7VIP</div>\n{{??}}<div class="btn-pay-vip btn-pay-vip-pro-doc">\n<div class="text-secondary">\u5347\u7ea7VIP</div>\n<div class="text-primary">\u514d\u8d39\u4e13\u4eab</div>\n</div>\n{{?}}{{?}}')(a);break;case l.USER_TYPE.LOGIN_NOT_VIP:n=t.template('{{? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET }}    {{? +it.docInfo.docTicket === 0}}<div class="btn-pay-vip">\n<div class="text-secondary">\u52a0\u5165VIP</div>\n<div class="text-primary">\u83b7\u53d6\u66f4\u591a\u7279\u6743</div>\n{{? it.showNewUserSaleTip }}<div class="new-user-discount-tip">\n<span class="icon-triangle"></span>\n<span class="icon-new-user"></span>\n<span class="tip-text">VIP\u65b0\u5ba2<span class="red-text">\u7acb\u51cf2\u5143</span></span>\n<span class="btn-close"></span>\n</div>\n{{?}}</div>\n{{??}}<div class="btn-pay-vip">\n<div class="text-secondary">\u52a0\u5165VIP</div>\n<div class="text-primary">\u514d\u5238\u4e0b\u8f7d</div>\n{{? it.showNewUserSaleTip }}<div class="new-user-discount-tip">\n<span class="icon-triangle"></span>\n<span class="icon-new-user"></span>\n<span class="tip-text">VIP\u65b0\u5ba2<span class="red-text">\u7acb\u51cf2\u5143</span></span>\n<span class="btn-close"></span>\n</div>\n{{?}}</div>\n{{?}}{{?? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET_VIP_FREE }}<div class="btn-pay-vip">\n<div class="text-secondary">\u52a0\u5165VIP</div>\n<div class="text-primary">\u514d\u8d39\u4e0b\u8f7d</div>\n</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PARTNER_NORMAL }}<div class="btn-pay-vip">\n<div class="text-secondary">\u52a0\u5165VIP</div>\n<div class="text-primary">\u83b7\u53d6\u66f4\u591a\u7279\u6743</div>\n</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_NORMAL }}{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_DISCOUNT }}<div class="btn-pay-vip">\n<div class="text-secondary">\u52a0\u5165VIP</div>\n<div class="text-primary">\n{{=((it.docInfo.vip_price || 0) * 10 / (it.docInfo.payPrice || 1)).toFixed(0)}}\u6298\u8d2d\u4e70</div>\n{{? it.showNewUserSaleTip }}<div class="new-user-discount-tip">\n<span class="icon-triangle"></span>\n<span class="icon-new-user"></span>\n<span class="tip-text">VIP\u65b0\u5ba2<span class="red-text">\u7acb\u51cf2\u5143</span></span>\n<span class="btn-close"></span>\n</div>\n{{?}}</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_PACK }}    {{? it.docInfo.ispaied}}<div class="btn-pay-vip">\n<div class="text-secondary">\u52a0\u5165VIP</div>\n<div class="text-primary">\u83b7\u53d6\u66f4\u591a\u7279\u6743</div>\n{{? it.showNewUserSaleTip }}<div class="new-user-discount-tip">\n<span class="icon-triangle"></span>\n<span class="icon-new-user"></span>\n<span class="tip-text">VIP\u65b0\u5ba2<span class="red-text">\u7acb\u51cf2\u5143</span></span>\n<span class="btn-close"></span>\n</div>\n{{?}}</div>\n{{??}}<div class="btn-pay-vip">\n<div class="text-secondary">\u52a0\u5165VIP</div>\n<div class="text-primary">\u514d\u8d39\u9001\u672c\u6587</div>\n{{? it.showNewUserSaleTip }}<div class="new-user-discount-tip">\n<span class="icon-triangle"></span>\n<span class="icon-new-user"></span>\n<span class="tip-text">VIP\u65b0\u5ba2<span class="red-text">\u7acb\u51cf2\u5143</span></span>\n<span class="btn-close"></span>\n</div>\n{{?}}</div>\n{{?}}{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PROFESSIONAL }}<div class="btn-pay-vip btn-pay-vip-pro-doc">\n<div class="text-secondary">\u52a0\u5165VIP</div>\n<div class="text-primary">\u514d\u8d39\u4e13\u4eab</div>\n{{? it.showNewUserSaleTip }}<div class="new-user-discount-tip">\n<span class="icon-triangle"></span>\n<span class="icon-new-user"></span>\n<span class="tip-text">VIP\u65b0\u5ba2<span class="red-text">\u7acb\u51cf2\u5143</span></span>\n<span class="btn-close"></span>\n</div>\n{{?}}</div>\n{{?}}')(a);break;case l.USER_TYPE.NOT_LOGIN:n=t.template('{{? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET }}    {{? +it.docInfo.docTicket === 0}}<div class="btn-pay-vip">\n<div class="text-secondary">\u52a0\u5165VIP</div>\n<div class="text-primary">\u83b7\u53d6\u66f4\u591a\u7279\u6743</div>\n{{? it.showNewUserSaleTip }}<div class="new-user-discount-tip">\n<span class="icon-triangle"></span>\n<span class="icon-new-user"></span>\n<span class="tip-text">VIP\u65b0\u5ba2<span class="red-text">\u7acb\u51cf2\u5143</span></span>\n<span class="btn-close"></span>\n</div>\n{{?}}</div>\n{{??}}<div class="btn-pay-vip">\n<div class="text-secondary">\u52a0\u5165VIP</div>\n<div class="text-primary">\u514d\u5238\u4e0b\u8f7d</div>\n{{? it.showNewUserSaleTip }}<div class="new-user-discount-tip">\n<span class="icon-triangle"></span>\n<span class="icon-new-user"></span>\n<span class="tip-text">VIP\u65b0\u5ba2<span class="red-text">\u7acb\u51cf2\u5143</span></span>\n<span class="btn-close"></span>\n</div>\n{{?}}</div>\n{{?}}{{?? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET_VIP_FREE }}<div class="btn-pay-vip">\n<div class="text-secondary">\u52a0\u5165VIP</div>\n<div class="text-primary">\u514d\u8d39\u4e0b\u8f7d</div>\n</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PARTNER_NORMAL }}{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_NORMAL }}{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_DISCOUNT }}<div class="btn-pay-vip">\n<div class="text-secondary">\u52a0\u5165VIP</div>\n<div class="text-primary">\n{{=((it.docInfo.vip_price || 0) * 10 / (it.docInfo.payPrice || 1)).toFixed(0)}}\u6298\u8d2d\u4e70</div>\n{{? it.showNewUserSaleTip }}<div class="new-user-discount-tip">\n<span class="icon-triangle"></span>\n<span class="icon-new-user"></span>\n<span class="tip-text">VIP\u65b0\u5ba2<span class="red-text">\u7acb\u51cf2\u5143</span></span>\n<span class="btn-close"></span>\n</div>\n{{?}}</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_PACK }}<div class="btn-pay-vip">\n<div class="text-secondary">\u52a0\u5165VIP</div>\n<div class="text-primary">\u514d\u8d39\u9001\u672c\u6587</div>\n{{? it.showNewUserSaleTip }}<div class="new-user-discount-tip">\n<span class="icon-triangle"></span>\n<span class="icon-new-user"></span>\n<span class="tip-text">VIP\u65b0\u5ba2<span class="red-text">\u7acb\u51cf2\u5143</span></span>\n<span class="btn-close"></span>\n</div>\n{{?}}</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PROFESSIONAL }}<div class="btn-pay-vip btn-pay-vip-pro-doc">\n<div class="text-secondary">\u52a0\u5165VIP</div>\n<div class="text-primary">\u514d\u8d39\u4e13\u4eab</div>\n{{? it.showNewUserSaleTip }}<div class="new-user-discount-tip">\n<span class="icon-triangle"></span>\n<span class="icon-new-user"></span>\n<span class="tip-text">VIP\u65b0\u5ba2<span class="red-text">\u7acb\u51cf2\u5143</span></span>\n<span class="btn-close"></span>\n</div>\n{{?}}</div>\n{{?}}')(a);
break;case l.USER_TYPE.VIP_WENKUEDU:n=t.template('{{? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET }}    {{? +it.docInfo.docTicket === 0}}<div class="tip">\n<span class="icon-triangle"></span>\n<span class="icon-vip-classic"></span>\n<span class="tip-text">\n{{? +it.renewalVipInfo.pro_download_ticket_total<= 1 && +it.renewalVipInfo.normal_download_ticket_total >1 }}            \u9650\u65f6\u5347\u7ea7\u8d60VIP\u4e13\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743<span class="red">4</span>\u4e2a            {{?? +it.renewalVipInfo.pro_download_ticket_total > 1 && +it.renewalVipInfo.normal_download_ticket_total<= 1 }}\n            \u9650\u65f6\u5347\u7ea7\u8d60\u5171\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743<span class="red">12</span>\u4e2a            {{?? +it.renewalVipInfo.pro_download_ticket_total<= 1 && +it.renewalVipInfo.normal_download_ticket_total <= 1 }}\n            \u9650\u65f6\u5347\u7ea7\u8d60\u4e24\u79cd\u4e0b\u8f7d\u7279\u6743<span class="red">\u54048</span>\u4e2a            {{??}}            \u9650\u65f6\u5347\u7ea7\u5269\u4f59<span class="red">{{=(+it.renewalVipInfo.vip_info.pro_download_ticket + +it.renewalVipInfo.vip_info.normal_download_ticket)}}</span>\u4e2a\u4e0b\u8f7d\u7279\u6743\u5ef6\u65f6<span class="red">30</span>\u5929            {{?}}</span>\n<span class="btn-close"></span>\n</div>\n<div class="btn-pay-vip">\n\u5347\u7ea7VIP</div>\n{{??}}        {{? +it.vipInfo.shareDownloadRights > 0}}<div class="tip">\n<span class="icon-triangle"></span>\n<span class="icon-vip-classic"></span>\n<span class="tip-text">\n{{? +it.renewalVipInfo.pro_download_ticket_total<= 1 && +it.renewalVipInfo.normal_download_ticket_total >1 }}                \u9650\u65f6\u5347\u7ea7\u8d60VIP\u4e13\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743<span class="red">4</span>\u4e2a                {{?? +it.renewalVipInfo.pro_download_ticket_total > 1 && +it.renewalVipInfo.normal_download_ticket_total<= 1 }}\n                \u9650\u65f6\u5347\u7ea7\u8d60\u5171\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743<span class="red">12</span>\u4e2a                {{?? +it.renewalVipInfo.pro_download_ticket_total<= 1 && +it.renewalVipInfo.normal_download_ticket_total <= 1 }}\n                \u9650\u65f6\u5347\u7ea7\u8d60\u4e24\u79cd\u4e0b\u8f7d\u7279\u6743<span class="red">\u54048</span>\u4e2a                {{??}}                \u9650\u65f6\u5347\u7ea7\u5269\u4f59<span class="red">{{=(+it.renewalVipInfo.vip_info.pro_download_ticket + +it.renewalVipInfo.vip_info.normal_download_ticket)}}</span>\u4e2a\u4e0b\u8f7d\u7279\u6743\u5ef6\u65f6<span class="red">30</span>\u5929                {{?}}</span>\n<span class="btn-close"></span>\n</div>\n<div class="btn-pay-vip">\n\u5347\u7ea7VIP</div>\n{{??}}<div class="tip">\n<span class="icon-triangle"></span>\n<span class="icon-vip-classic"></span>\n<span class="tip-text">\n{{? +it.renewalVipInfo.pro_download_ticket_total<= 1 && +it.renewalVipInfo.normal_download_ticket_total >1 }}                \u9650\u65f6\u5347\u7ea7\u8d60VIP\u4e13\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743<span class="red">4</span>\u4e2a                {{?? +it.renewalVipInfo.pro_download_ticket_total > 1 && +it.renewalVipInfo.normal_download_ticket_total<= 1 }}\n                \u9650\u65f6\u5347\u7ea7\u8d60\u5171\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743<span class="red">12</span>\u4e2a                {{?? +it.renewalVipInfo.pro_download_ticket_total<= 1 && +it.renewalVipInfo.normal_download_ticket_total <= 1 }}\n                \u9650\u65f6\u5347\u7ea7\u8d60\u4e24\u79cd\u4e0b\u8f7d\u7279\u6743<span class="red">\u54048</span>\u4e2a                {{??}}                \u9650\u65f6\u5347\u7ea7\u5269\u4f59<span class="red">{{=(+it.renewalVipInfo.vip_info.pro_download_ticket + +it.renewalVipInfo.vip_info.normal_download_ticket)}}</span>\u4e2a\u4e0b\u8f7d\u7279\u6743\u5ef6\u65f6<span class="red">30</span>\u5929                {{?}}</span>\n<span class="btn-close"></span>\n</div>\n<div class="btn-pay-vip">\n<div class="text-secondary">\u5347\u7ea7VIP</div>\n<div class="text-primary">\u514d\u5238\u4e0b\u8f7d</div>\n</div>\n{{?}}    {{?}}{{?? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET_VIP_FREE }}<div class="tip">\n<span class="icon-triangle"></span>\n<span class="icon-vip-classic"></span>\n<span class="tip-text">\n{{? +it.renewalVipInfo.pro_download_ticket_total<= 1 && +it.renewalVipInfo.normal_download_ticket_total >1 }}        \u9650\u65f6\u5347\u7ea7\u8d60VIP\u4e13\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743<span class="red">4</span>\u4e2a        {{?? +it.renewalVipInfo.pro_download_ticket_total > 1 && +it.renewalVipInfo.normal_download_ticket_total<= 1 }}\n        \u9650\u65f6\u5347\u7ea7\u8d60\u5171\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743<span class="red">12</span>\u4e2a        {{?? +it.renewalVipInfo.pro_download_ticket_total<= 1 && +it.renewalVipInfo.normal_download_ticket_total <= 1 }}\n        \u9650\u65f6\u5347\u7ea7\u8d60\u4e24\u79cd\u4e0b\u8f7d\u7279\u6743<span class="red">\u54048</span>\u4e2a        {{??}}        \u9650\u65f6\u5347\u7ea7\u5269\u4f59<span class="red">{{=(+it.renewalVipInfo.vip_info.pro_download_ticket + +it.renewalVipInfo.vip_info.normal_download_ticket)}}</span>\u4e2a\u4e0b\u8f7d\u7279\u6743\u5ef6\u65f6<span class="red">30</span>\u5929        {{?}}</span>\n<span class="btn-close"></span>\n</div>\n<div class="btn-pay-vip">\n\u5347\u7ea7VIP</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PARTNER_NORMAL }}{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_NORMAL }}{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_DISCOUNT }}<div class="tip">\n<span class="icon-triangle"></span>\n<span class="icon-vip-classic"></span>\n<span class="tip-text">\n{{? +it.renewalVipInfo.pro_download_ticket_total<= 1 && +it.renewalVipInfo.normal_download_ticket_total >1 }}        \u9650\u65f6\u5347\u7ea7\u8d60VIP\u4e13\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743<span class="red">4</span>\u4e2a        {{?? +it.renewalVipInfo.pro_download_ticket_total > 1 && +it.renewalVipInfo.normal_download_ticket_total<= 1 }}\n        \u9650\u65f6\u5347\u7ea7\u8d60\u5171\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743<span class="red">12</span>\u4e2a        {{?? +it.renewalVipInfo.pro_download_ticket_total<= 1 && +it.renewalVipInfo.normal_download_ticket_total <= 1 }}\n        \u9650\u65f6\u5347\u7ea7\u8d60\u4e24\u79cd\u4e0b\u8f7d\u7279\u6743<span class="red">\u54048</span>\u4e2a        {{??}}        \u9650\u65f6\u5347\u7ea7\u5269\u4f59<span class="red">{{=(+it.renewalVipInfo.vip_info.pro_download_ticket + +it.renewalVipInfo.vip_info.normal_download_ticket)}}</span>\u4e2a\u4e0b\u8f7d\u7279\u6743\u5ef6\u65f6<span class="red">30</span>\u5929        {{?}}</span>\n<span class="btn-close"></span>\n</div>\n<div class="btn-pay-vip">\n\u5347\u7ea7VIP</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_PACK }}{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PROFESSIONAL }}    {{? +it.vipInfo.proDownloadRights > 0}}<div class="tip">\n<span class="icon-triangle"></span>\n<span class="icon-vip-classic"></span>\n<span class="tip-text">\n{{? +it.renewalVipInfo.pro_download_ticket_total<= 1 && +it.renewalVipInfo.normal_download_ticket_total >1 }}            \u9650\u65f6\u5347\u7ea7\u8d60VIP\u4e13\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743<span class="red">4</span>\u4e2a            {{?? +it.renewalVipInfo.pro_download_ticket_total > 1 && +it.renewalVipInfo.normal_download_ticket_total<= 1 }}\n            \u9650\u65f6\u5347\u7ea7\u8d60\u5171\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743<span class="red">12</span>\u4e2a            {{?? +it.renewalVipInfo.pro_download_ticket_total<= 1 && +it.renewalVipInfo.normal_download_ticket_total <= 1 }}\n            \u9650\u65f6\u5347\u7ea7\u8d60\u4e24\u79cd\u4e0b\u8f7d\u7279\u6743<span class="red">\u54048</span>\u4e2a            {{??}}            \u9650\u65f6\u5347\u7ea7\u5269\u4f59<span class="red">{{=(+it.renewalVipInfo.vip_info.pro_download_ticket + +it.renewalVipInfo.vip_info.normal_download_ticket)}}</span>\u4e2a\u4e0b\u8f7d\u7279\u6743\u5ef6\u65f6<span class="red">30</span>\u5929            {{?}}</span>\n<span class="btn-close"></span>\n</div>\n<div class="btn-pay-vip btn-pay-vip-pro-doc">\n\u5347\u7ea7VIP</div>\n{{??}}<div class="btn-pay-vip btn-pay-vip-pro-doc">\n<div class="text-secondary">\u5347\u7ea7VIP</div>\n<div class="text-primary">\u514d\u8d39\u4e13\u4eab</div>\n</div>\n{{?}}{{?}}')(a)}return n},afterRender:function(){e.onElsVisible(this.rootSelector+" .btn-pay-vip",function(){o.xsend(101491)}),s(document).trigger("scroll")},getCashierCode:function(n){return this.data.docValueType===+l.DOC_VALUE_TYPE.PROFESSIONAL?"ViewproDownloadToolbar":n},handlePay:function(){o.xsend(1,102340,{type:"vip",from:"docBtns"}),this.frSearchVipFree=p.url.getQueryValue(location.href,"isVipfree")||"";var n=0,a=this.data.userType;(30===a||40===a||50===a||60===a)&&(n=1),o.xsend(1,101492,{jingpin_vip_test:this.frSearchVipFree,isVip:n});var i={doc_id:this.data.docInfo.docId};switch(this.data.userType){case l.USER_TYPE.VIP_JIAOYU:this.handlePayVipJiaoyu(i);break;case l.USER_TYPE.VIP_WENKU:this.handlePayVipWenku(i);break;case l.USER_TYPE.VIP_CLASSIC:this.handlePayVipClassic(i);break;case l.USER_TYPE.LOGIN_NOT_VIP:this.handlePayLoginNotVip(i);break;case l.USER_TYPE.NOT_LOGIN:this.handlePayNotLogin(i);break;case l.USER_TYPE.VIP_WENKUEDU:this.handlePayVipWenkuedu(i)}},handlePayVipJiaoyu:function(n){var a="/cashier/browse/jiaoyuvipcashier",i="view_toolbar_xfjy",s=this.data.renewalVipInfo||{};+s.pro_download_ticket_total>1&&+s.normal_download_ticket_total>1?(i+="_fortime",s.jiaoyu_vip_info.pro_download_ticket+s.jiaoyu_vip_info.normal_download_ticket<=0&&(a="/cashier/browse/dispatch")):i+="_forprivilege",i=this.getCashierCode(i),l.gotoCashier(a,i,n)},handlePayVipWenku:function(n){var a="/cashier/browse/dispatch",i="view_toolbar_xfwk",s=this.data.renewalVipInfo||{};i+=+s.pro_download_ticket_total>1&&+s.normal_download_ticket_total>1?"_fortime":"_forprivilege",(1===+this.frSearchVipFree||2===+this.frSearchVipFree)&&(i="view_toolbar_xfwk_frSearch_test"+this.frSearchVipFree),i=this.getCashierCode(i),l.gotoCashier(a,i,n)},handlePayVipClassic:function(n){var a="/cashier/browse/dispatch",i="view_toolbar_jdsj",s=this.data.renewalVipInfo||{};i+=+s.pro_download_ticket_total>1&&+s.normal_download_ticket_total>1?"_fortime":"_forprivilege",i=this.getCashierCode(i),l.gotoCashier(a,i,n)},handlePayLoginNotVip:function(n){var a=this.data.downloadResource||{},i="/cashier/browse/dispatch",s="",t=this.data.docInfo||{};switch(this.data.docValueType){case l.DOC_VALUE_TYPE.TICKET:s="view_toolbar_joinVIP_sharedoc",o.xsend(1,100459),o.xsend(1,101492);break;case l.DOC_VALUE_TYPE.TICKET_VIP_FREE:s="view_toolbar_joinVIP_vipfree",a.isWealthEnough||a.isTicketEnough?(o.xsend(1,100461),o.xsend(1,101492)):(o.xsend(1,100459),o.xsend(1,101492));break;case l.DOC_VALUE_TYPE.PARTNER_NORMAL:s="view_toolbar_joinVIP_paydoc";break;case l.DOC_VALUE_TYPE.PAY_NORMAL:s="view_toolbar_joinVIP_paydoc";break;case l.DOC_VALUE_TYPE.PAY_DISCOUNT:s="view_toolbar_joinVIP_paydoc";break;case l.DOC_VALUE_TYPE.PAY_PACK:s="view_toolbar_joinVIP_paydoc",t.ispaied||(i='/cashier/browse/vipwithdoccashier?doc_ids=["'+t.docId+'"]');break;case l.DOC_VALUE_TYPE.PROFESSIONAL:s="view_toolbar_joinVIP_prodoc"}(1===+this.frSearchVipFree||2===+this.frSearchVipFree)&&(s="view_toolbar_joinVip_frSearch_test"+this.frSearchVipFree),s=this.getCashierCode(s),l.gotoCashier(i,s,n)},handlePayNotLogin:function(n){var a="/cashier/browse/dispatch",i="",s=this.data.docInfo||{};switch(this.data.docValueType){case l.DOC_VALUE_TYPE.TICKET:i="view_toolbar_joinVIP_sharedoc",o.xsend(1,100459),o.xsend(1,101492);break;case l.DOC_VALUE_TYPE.TICKET_VIP_FREE:o.xsend(1,100461),o.xsend(1,101492),i="view_toolbar_joinVIP_vipfree";break;case l.DOC_VALUE_TYPE.PARTNER_NORMAL:i="view_toolbar_joinVIP_paydoc";break;case l.DOC_VALUE_TYPE.PAY_NORMAL:i="view_toolbar_joinVIP_paydoc";break;case l.DOC_VALUE_TYPE.PAY_DISCOUNT:i="view_toolbar_joinVIP_paydoc";break;case l.DOC_VALUE_TYPE.PAY_PACK:a='/cashier/browse/vipwithdoccashier?doc_ids=["'+s.docId+'"]',i="view_toolbar_joinVIP_paydoc";break;case l.DOC_VALUE_TYPE.PROFESSIONAL:i="view_toolbar_joinVIP_prodoc"}(1===+this.frSearchVipFree||2===+this.frSearchVipFree)&&(i="view_toolbar_joinVip_frSearch_test"+this.frSearchVipFree),i=this.getCashierCode(i),l.gotoCashier(a,i,n)},handlePayVipWenkuedu:function(n){var a="/cashier/browse/dispatch",i="view_toolbar_jdsj";i=this.getCashierCode(i),l.gotoCashier(a,i,n)},handleCloseTip:function(){s(".tip",this.$root).hide()},handleCloseNewUserTip:function(n){if(n.preventDefault(),n.stopPropagation(),window.localStorage)try{var a=window.localStorage,i=JSON.parse(a.getItem("showNewUserSaleTip"));if(i){var t=+i.times;i={times:++t,closeTime:(new Date).getTime()}}else i={times:1,closeTime:(new Date).getTime()};s(n.target).parent().hide(),a.setItem("showNewUserSaleTip",JSON.stringify(i))}catch(o){}}},i.exports=d});
;define("wkview:widget/common_toc_toolbar/item/coreBtns/comp/btnCustom/btnCustom.js",function(o,t,e){var n=o("wkcommon:widget/ui/lib/jquery/jquery.js"),i=o("wkcommon:widget/lib/doT/doT.min.js"),c=o("wkcommon:widget/ui/js_core/login/login.js").login,r=o("wkview:widget/common_toc_toolbar/item/coreBtns/common.js"),d=function(o,t){n.extend(!0,this.data,o),this.rootSelector=t};d.prototype={constructor:d,$root:n(document),data:{userType:0,docValueType:0,docInfo:{},vipInfo:{},wkInfo:{}},bindEvent:function(){return this.$root.on("click",this.rootSelector+" .btn-custom",n.proxy(this.handleCustom,this)),this},makeTemplate:function(){var o="",t=n.extend(!0,{},this.data,r);return o=i.template('{{? +it.docValueType === +it.DOC_VALUE_TYPE.CUSTOM }}<div class="btn-custom">\n\u5f00\u59cb\u5b9a\u5236</div>\n{{?}}')(t)},handleCustom:function(){var o=this.data.docInfo;c.verlogin(function(){window.location.href="/org/browse/report?fr=btn&cashier_code=buy_report_doc&id="+o.docId})}},e.exports=d});
;define("wkview:widget/common_toc_toolbar/item/coreBtns/comp/textValue/textValue.js",function(i,t,e){var d=i("wkcommon:widget/ui/lib/jquery/jquery.js"),o=i("wkcommon:widget/lib/doT/doT.min.js"),c=i("wkview:widget/common_toc_toolbar/item/coreBtns/common.js"),T=function(i,t){d.extend(!0,this.data,i),this.rootSelector=t};T.prototype={constructor:T,$root:d(document),data:{userType:0,docValueType:0,docInfo:{},vipInfo:{},wkInfo:{}},bindEvent:function(){return this},makeTemplate:function(){var i="",t=d.extend(!0,{},this.data,c);switch(this.data.userType){case c.USER_TYPE.VIP_JIAOYU:i=o.template('<div class="toolbar-core-btns-value-text">\n{{? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET }}<div>{{=it.docInfo.docTicket}}\u4e0b\u8f7d\u5238</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET_VIP_FREE }}<div>{{=it.docInfo.docTicket}}\u4e0b\u8f7d\u5238</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PARTNER_NORMAL }}<div>\uffe5{{=((it.docInfo.payPrice || 0) / 100).toFixed(2)}}</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_NORMAL }}<div>\uffe5{{=((it.docInfo.payPrice || 0) / 100).toFixed(2)}}</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_DISCOUNT }}<div>\uffe5{{=((it.docInfo.vip_price || 0) / 100).toFixed(2)}}</div>\n<div class="line-value">\uffe5{{=((it.docInfo.payPrice || 0) / 100).toFixed(2)}}</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_PACK }}<div>\uffe5{{=((it.docInfo.payPrice || 0) / 100).toFixed(2)}}</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PROFESSIONAL }}    {{?}}</div>')(t);break;case c.USER_TYPE.VIP_WENKU:i=o.template('<div class="toolbar-core-btns-value-text">\n{{? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET }}<div>{{=it.docInfo.docTicket}}\u4e0b\u8f7d\u5238</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET_VIP_FREE }}<div>{{=it.docInfo.docTicket}}\u4e0b\u8f7d\u5238</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PARTNER_NORMAL }}<div>\uffe5{{=((it.docInfo.payPrice || 0) / 100).toFixed(2)}}</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_NORMAL }}<div>\uffe5{{=((it.docInfo.payPrice || 0) / 100).toFixed(2)}}</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_DISCOUNT }}<div>\uffe5{{=((it.docInfo.vip_price || 0) / 100).toFixed(2)}}</div>\n<div class="line-value">\uffe5{{=((it.docInfo.payPrice || 0) / 100).toFixed(2)}}</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_PACK }}<div>\uffe5{{=((it.docInfo.payPrice || 0) / 100).toFixed(2)}}</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PROFESSIONAL }}        {{?}}</div>')(t);break;case c.USER_TYPE.VIP_CLASSIC:i=o.template('<div class="toolbar-core-btns-value-text {{=it.docInfo.docTicket}}">\n{{? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET }}<div>{{=it.docInfo.docTicket}}\u4e0b\u8f7d\u5238</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET_VIP_FREE }}<div>{{=it.docInfo.docTicket}}\u4e0b\u8f7d\u5238</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PARTNER_NORMAL }}<div>\uffe5{{=((it.docInfo.payPrice || 0) / 100).toFixed(2)}}</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_NORMAL }}<div>\uffe5{{=((it.docInfo.payPrice || 0) / 100).toFixed(2)}}</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_DISCOUNT }}<div>\uffe5{{=((it.docInfo.vip_price || 0) / 100).toFixed(2)}}</div>\n<div class="line-value">\uffe5{{=((it.docInfo.payPrice || 0) / 100).toFixed(2)}}</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_PACK }}<div>\uffe5{{=((it.docInfo.payPrice || 0) / 100).toFixed(2)}}</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PROFESSIONAL }}        {{?}}</div>')(t);break;case c.USER_TYPE.LOGIN_NOT_VIP:i=o.template('<div class="toolbar-core-btns-value-text">\n{{? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET }}<div>{{=it.docInfo.docTicket}}\u4e0b\u8f7d\u5238</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET_VIP_FREE }}<div>{{=it.docInfo.docTicket}}\u4e0b\u8f7d\u5238</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PARTNER_NORMAL }}<div>\uffe5{{=((it.docInfo.payPrice || 0) / 100).toFixed(2)}}</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_NORMAL }}<div>\uffe5{{=((it.docInfo.payPrice || 0) / 100).toFixed(2)}}</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_DISCOUNT }}<div>\uffe5{{=((it.docInfo.payPrice || 0) / 100).toFixed(2)}}</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_PACK }}<div>\uffe5{{=((it.docInfo.payPrice || 0) / 100).toFixed(2)}}</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PROFESSIONAL }}        {{?}}</div>')(t);break;case c.USER_TYPE.NOT_LOGIN:i=o.template('<div class="toolbar-core-btns-value-text">\n{{? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET }}<div>{{=it.docInfo.docTicket}}\u4e0b\u8f7d\u5238</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET_VIP_FREE }}<div>{{=it.docInfo.docTicket}}\u4e0b\u8f7d\u5238</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PARTNER_NORMAL }}<div>\uffe5{{=((it.docInfo.payPrice || 0) / 100).toFixed(2)}}</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_NORMAL }}<div>\uffe5{{=((it.docInfo.payPrice || 0) / 100).toFixed(2)}}</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_DISCOUNT }}<div>\uffe5{{=((it.docInfo.payPrice || 0) / 100).toFixed(2)}}</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_PACK }}<div>\uffe5{{=((it.docInfo.payPrice || 0) / 100).toFixed(2)}}</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PROFESSIONAL }}        {{?}}</div>')(t);break;case c.USER_TYPE.VIP_WENKUEDU:i=o.template('<div class="toolbar-core-btns-value-text {{=it.docInfo.docTicket}}">\n{{? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET }}<div>{{=it.docInfo.docTicket}}\u4e0b\u8f7d\u5238</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET_VIP_FREE }}<div>{{=it.docInfo.docTicket}}\u4e0b\u8f7d\u5238</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PARTNER_NORMAL }}<div>\uffe5{{=((it.docInfo.payPrice || 0) / 100).toFixed(2)}}</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_NORMAL }}<div>\uffe5{{=((it.docInfo.payPrice || 0) / 100).toFixed(2)}}</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_DISCOUNT }}<div>\uffe5{{=((it.docInfo.vip_price || 0) / 100).toFixed(2)}}</div>\n<div class="line-value">\uffe5{{=((it.docInfo.payPrice || 0) / 100).toFixed(2)}}</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_PACK }}<div>\uffe5{{=((it.docInfo.payPrice || 0) / 100).toFixed(2)}}</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PROFESSIONAL }}        {{?}}</div>')(t)}return i}},e.exports=T});
;define("wkview:widget/common_toc_toolbar/item/coreBtns/coreBtns.js",function(o,t,e){var n=o("wkcommon:widget/ui/js_core/widget/widget.js").widget,i=o("wkcommon:widget/ui/js_core/util/util.js"),r=o("wkcommon:widget/lib/fis/data/data.js"),c=o("wkcommon:widget/ui/js_core/xform/xform.js"),s=o("wkcommon:widget/lib/doT/doT.min.js"),a=o("wkview:widget/common_toc_toolbar/item/toolsItem.js").toolsItem,w=o("wkview:widget/common_toc_toolbar/item/coreBtns/common.js"),d=o("wkview:widget/common_toc_toolbar/item/coreBtns/comp/btnDownload/btnDownload.js"),m=o("wkview:widget/common_toc_toolbar/item/coreBtns/comp/btnPayDoc/btnPayDoc.js"),l=o("wkview:widget/common_toc_toolbar/item/coreBtns/comp/btnPayVip/btnPayVip.js"),b=o("wkview:widget/common_toc_toolbar/item/coreBtns/comp/btnCustom/btnCustom.js"),p=o("wkview:widget/common_toc_toolbar/item/coreBtns/comp/textValue/textValue.js"),g=r.get("WkInfo")||{},u=g.DocInfo,v=n({Options:{position:"centerRight",reader:{}},_init:function(){var o=window.vipInfo||{},t=o.renewal_vip_info||{},e=window.downloadResource||{};u.isVipFreeDoc=window.isVipFreeDoc;var n=w.calculateUserType(o),r=w.calcualteDocValueType(u),a={userType:n,docValueType:r,docInfo:u,vipInfo:o,renewalVipInfo:t,wkInfo:g,downloadResource:e},v=".toolbar-core-btns-wrap",f=[new p(a,v),new d(a,v),new m(a,v),new l(a,v),new b(a,v)],_=['<div class="toolbar-core-btns-wrap super-vip">'];if($(f).each(function(){this.bindEvent(),_.push(this.makeTemplate())}),_.push("</div>"),this.el=i.createDom(_.join("")),$(window).on("rendered:toolbar",function(){$(f).each(function(){$.isFunction(this.afterRender)&&this.afterRender()})}),u&&"1"===u.isOrgDoc&&n!==w.USER_TYPE.NOT_LOGIN){var j,k,T=u.createUserId,x=!1,y={},D=new Date;c.getJSON("org_buybtn_control",{success:function(o){if(o.orgs)for(var t=0;t<o.orgs.length;t++)if(j=new Date(o.orgs[t].startTime),k=new Date(o.orgs[t].endTime),o.orgs[t].orgId===T&&D>j&&k>D){x=!0,y.btnTxtTop=o.orgs[t].text1,y.btnTxtBottom=o.orgs[t].text2;break}if(x){var e=s.template('\n<div class="btn-pay-doc-disable">\n<div class="text-secondary">{{=it.btnTxtTop}}</div>\n<div class="text-primary">{{=it.btnTxtBottom}}</div>\n</div>\n')(y);$(".reader-tools-bar-wrap").find(".btn-pay-doc").length>0&&($(".reader-tools-bar-wrap").find(".btn-pay-doc").remove(),$(".toolbar-core-btns-value-text").after(e))}}})}}},{superClass:a});e.exports.coreBtns=v});
;define("wkview:widget/common_toc_toolbar/item/share/extension/extension.js",function(e,i,t){var n=e("wkcommon:widget/lib/tangram/base/base.js"),s=e("wkcommon:widget/lib/doT/doT.min.js"),o=e("wkcommon:widget/ui/js_core/util/util.js"),a=e("wkcommon:widget/ui/js_core/log/log.js"),c=e("wkcommon:widget/ui/js_core/toolkit/toolkit.js"),d=e("wkcommon:widget/lib/fis/data/data.js"),r=e("wkview:widget/node_modules/davidshimjs-qrcodejs/qrcode.js"),l={},p=[],h={},m=function(){};m.prototype={init:function(e){this.thatArg=e.thatArg,this.template=s.template('<div class="extension-tip-wrap hide">\n<div class="pop-up-extension"></div>\n<div class="ex-tips">\n<a href="/ndtopic/distribution" class="go-active">\u67e5\u770b\u8d5a\u94b1\u79d8\u7c4d></a>\n<div class="ex-qrcode">\n<div class="icon qrcode">\n</div>\n<p class="text">\u624b\u673a\u626b\u63cf\u4e8c\u7ef4\u7801</p>\n<p class="text">\u5206\u4eab\u9886\u53d6\u73b0\u91d1\u6fc0\u52b1</p>\n</div>\n<div class="data-list">\n</div>\n<p class="income">\n\u7528\u6237\u901a\u8fc7\u60a8\u7684\u5206\u4eab\u8d2d\u4e70\u8be5\u6587\u6863\uff0c\u60a8\u5c06\u83b7\u5f97\u73b0\u91d1\u5956\u52b1\uff0c\u9884\u8ba1\u6536\u76ca<span class="price"></span>\u8d77</p>\n<div class="share-list clearfix">\n<div class="sina-btn icon-btn" on-click="shareByWeibo">\n<span class="weibo-icon icon-small"></span>\n</div>\n<div class="qq-btn icon-btn" on-click="shareByQQ">\n<span class="qq-icon icon-small"></span>\n</div>\n<div class="wx-btn icon-btn" on-click="showQrcode">\n<span class="wx-icon icon-small"></span>\n<span class="tips">\n\u6253\u5f00\u5fae\u4fe1\u626b\u63cf\u4e0a\u65b9\u4e8c\u7ef4\u7801\uff0c\u6781\u901f\u5206\u4eab\u5230\u5fae\u4fe1</span>\n</div>\n</div>\n<span class="close" on-click="close"></span>\n</div>\n</div>\n')(),this.initData(),this.bindEvent()},initData:function(){this.el=o.createDom(this.template),this.$el=$(this.el),this.qrcode=n.dom.q("qrcode",this.el,"div")[0],this.shareUrl="",this.qrcodeInited=!1},bindEvent:function(){var e=this,i="";($(".newTools").length>0||$(".flowPPt").length>0)&&(i="newtools"),this.show(),$(".extension-tip-wrap").on("click",".close",function(){e.hide()}),$(".extension-tip-wrap").on("click",".weibo-icon",function(){a.xsend(1,100032),a.xsend(1,100498,{index:2,pcViewChange:i}),window.open("http://service.weibo.com/share/share.php?appkey=2273341579&url="+encodeURIComponent(location.href)+"&title="+encodeURIComponent(["\u3010"+document.title.replace(/_\u767e\u5ea6\u6587\u5e93/,"")+"\u3011","(\u5206\u4eab\u81ea@\u767e\u5ea6\u6587\u5e93)"+l.meta+"\u9605\u8bfb\u5168\u6587\u8bf7\u6233\u53f3\u8fb9"].join(""))+"&pic="+encodeURIComponent(l.pic))}),$(".extension-tip-wrap").on("click",".qq-btn",function(){a.xsend(1,100032),a.xsend(1,100498,{index:1,pcViewChange:i}),window.open("http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url="+encodeURIComponent(location.href)+"&title="+encodeURIComponent(["\u3010"+document.title.replace(/_\u767e\u5ea6\u6587\u5e93/,"")+"\u3011","(\u5206\u4eab\u81ea@\u767e\u5ea6\u6587\u5e93)"+l.meta+"\u9605\u8bfb\u5168\u6587\u8bf7\u6233\u53f3\u8fb9"].join("")))}),$(".extension-tip-wrap").on("click",".wx-icon",function(){a.xsend(1,100032),a.xsend(1,100498,{index:2,pcViewChange:i}),$(".extension-tip-wrap .tips").show()})},show:function(){var e=d.get("WkInfo").DocInfo.docId;$("body").append(this.$el),this.$el.removeClass("hide"),this.initQrcode(),0===p.length?this.getlatesttrade(e):(this.fillMarqueeData(h.barrageList),$(".extension-tip-wrap .price").html(h.expect_income)),!l.meta&&$.ajax({type:"get",url:"/doc/interface/getsharedocinfo?doc_id="+e,success:function(e){0===e.errno&&(l.pic="//wkretype.bdimg.com/img/"+e.picid,l.meta=c.getSubstr(e.meta,110))}})},hide:function(){this.$el.addClass("hide")},initQrcode:function(){if(!this.qrcodeInited){var e="?qrcode=1";this.shareUrl="https://wk.baidu.com/topic/contentSale/salePage?"+$.param({doc_id:d.get("WkInfo").DocInfo.docId,distributor:h.distributor,from:"pc"});var i=this.shareUrl+e,t={text:i,width:100,height:100};n.browser.ie&&n.browser.ie<9&&(t.width=106,t.height=106,this.qrcode&&(this.qrcode.style.width="106px",this.qrcode.style.height="106px",this.qrcode.style.marginTop="10px")),this.qrcode&&(this.qr=new r(this.qrcode,t)),this.qrcodeInited=!0}},fillMarqueeData:function(e){var i=$(".data-list"),t="";t+='<marquee direction="up" height="170" scrolldelay="200">';for(var n=0;n<e.length;n++)t+='<p class="item">'+e[n].uname+" "+e[n].time+"\u83b7\u5f97\u63a8\u5e7f\u4f63\u91d1",t+=e[n].income/100+"\u5143</p>";t+="</marquee>",t+='<div class="mask"></div>',i.html(""),i.append($(t))},getlatesttrade:function(){var e=this;$.ajax({url:"/user/interface/getlatesttrade",cache:!1,type:"GET",dataType:"json",success:function(i){try{p=i.data.trade_list,e.fillMarqueeData(p),h.barrageList=i.data.trade_list,h.distributor=i.data.distributor,h.expect_income=1===+i.data.docType?i.data.expect_income:"10%",$(".extension-tip-wrap .price").html(h.expect_income)}catch(t){}}})}},t.exports=new m});
;define("wkview:widget/common_toc_toolbar/item/share/share.js",function(e,i,o){var n=e("wkcommon:widget/lib/tangram/base/base.js"),t=e("wkcommon:widget/ui/js_core/widget/widget.js").widget,s=e("wkcommon:widget/ui/js_core/util/util.js"),d=e("wkview:widget/common_toc_toolbar/item/toolsItem.js").toolsItem,c=e("wkview:widget/common_toc_toolbar/toolsTip/toolsTip.js").toolsTipCreater(),r=e("wkview:widget/common_toc_toolbar/config.js").config,a=e("wkcommon:widget/ui/lib/jquery/jquery.js"),l=e("wkview:widget/node_modules/davidshimjs-qrcodejs/qrcode.js"),h=e("wkcommon:widget/ui/js_core/log/log.js"),w=e("wkcommon:widget/lib/fis/data/data.js"),m=e("wkcommon:widget/ui/lib/cookie/cookie.js"),g="https://wenku.baidu.com",p="/view/",v=g+p+w.get("WkInfo").DocInfo.docId+".html",f=e("wkcommon:widget/ui/js_core/toolkit/toolkit.js"),u=e("wkcommon:widget/lib/doT/doT.min.js"),_=e("wkview:widget/common_toc_toolbar/item/share/extension/extension.js"),b=e("wkcommon:widget/ui/js_core/login/login.js"),q=e("wkview:widget/common_item/commonUtil/commonUtil.js"),x=q.DOC_VALUE_TYPE,k=t({Options:{position:"left",reader:{}},_init:function(){var e=this,i=u.template('<div class="reder-share-model bdshare_t bds_tools_32 get-codes-bdshare" id="">\n<a href="javascript:;" class="ico-share"></a>\n<div class="shareContent share-toggle">\n<div class="shareTitle ">\u5206\u4eab\u5230\uff1a</div>\n<a href="#" title="\u5206\u4eab\u5230QQ\u7a7a\u95f4"\n            class="share_lv1_btn qqzone logSend share-toggle"\n            data-logsend=\'{"send":["view","share",{"sns":"mqqzone","from":"html_view_toolbar"}]}\'>\nQQ\u7a7a\u95f4</a>\n<a href="#" title="\u5206\u4eab\u5230\u65b0\u6d6a\u5fae\u535a"\n            class="share_lv1_btn sinaweibo bds_tsina logSend share-toggle"\n            data-logsend=\'{"send":["view","share",{"sns":"msina","from":"html_view_toolbar"}]}\'>\n\u65b0\u6d6a\u5fae\u535a</a>\n<a href="#" title="\u5206\u4eab\u5230\u5fae\u4fe1"\n            class="share_lv1_btn share_lv1_btn_weixin weixin logSend share-toggle"\n            id="share_lv1_btn_weixin"\n            data-logsend=\'{"send":["view","share",{"sns":"mweixin","from":"html_view_toolbar"}]}\'>\n\u5fae\u4fe1</a>\n<span class="btn-close"></span>\n<div class="weixinTips" id="weixinTips">\n<div class="qrcode reader-weixin-share-qrcode" id="weixinQrcode"></div>\n<p>\u626b\u4e8c\u7ef4\u7801\uff0c\u5feb\u901f\u5206\u4eab\u5230\u5fae\u4fe1\u670b\u53cb\u5708</p>\n</div>\n</div>\n</div>\n')(),o={};e.el=s.createDom(i),e.$el=a(e.el),e.clickEl=n.dom.q("reader-shareDoc",e.el,"a")[0],e.qrcodeBtn=n.dom.q("share_lv1_btn_weixin",e.el,"a")[0],e.qrcode=n.dom.q("reader-weixin-share-qrcode",e.el,"div")[0],e.qrcodeTip=n.dom.q("weixinTips",e.el,"div")[0],e.qqZoneBtn=n.dom.q("qqzone",e.el,"a")[0],e.sinaweiboBtn=n.dom.q("sinaweibo",e.el,"a")[0],e.qrcodeInited=!1,e.tip=c,e.docMsg=o,e.fire("onload"),e.bindEvent(),e.setShareConfig()},initQrcode:function(){if(!this.qrcodeInited){var e="?qrcode=1",i=v+e,o={text:i,width:88,height:88};n.browser.ie&&n.browser.ie<9&&(o.width=106,o.height=106,this.qrcode&&(this.qrcode.style.width="106px",this.qrcode.style.height="106px",this.qrcode.style.marginTop="10px")),this.qrcode&&(this.qr=new l(this.qrcode,o)),this.qrcodeInited=!0}},bindEvent:function(){var e=this,i=!1,o=!1,t="",s=w.get("WkInfo"),d=s&&s.DocInfo,c=q.calcualteDocValueType(d),r=s.UserInfo||{};(a(".newTools").length>0||a(".flowPPt").length>0)&&(t="newtools"),n.event.on(e.clickEl,"click",function(i){if(n.event.preventDefault(i),h.xsend(1,100032),o){o=!1;try{e.tip.hide()}catch(i){console.log("error")}}else o=!0,e.showTip(),e.hideWeixinTip()}),n.event.on(e.qqZoneBtn,"click",function(i){n.event.preventDefault(i),h.xsend(1,100032),h.xsend(1,100498,{index:1,pcViewChange:t}),window.open("http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url="+encodeURIComponent(location.href)+"&title="+encodeURIComponent(["\u3010"+document.title.replace(/_\u767e\u5ea6\u6587\u5e93/,"")+"\u3011","(\u5206\u4eab\u81ea@\u767e\u5ea6\u6587\u5e93)"+e.docMsg.meta+"\u9605\u8bfb\u5168\u6587\u8bf7\u6233\u53f3\u8fb9"].join("")))}),n.event.on(e.sinaweiboBtn,"click",function(i){n.event.preventDefault(i),h.xsend(1,100032),h.xsend(1,100498,{index:2,pcViewChange:t}),window.open("http://service.weibo.com/share/share.php?appkey=2273341579&url="+encodeURIComponent(location.href)+"&title="+encodeURIComponent(["\u3010"+document.title.replace(/_\u767e\u5ea6\u6587\u5e93/,"")+"\u3011","(\u5206\u4eab\u81ea@\u767e\u5ea6\u6587\u5e93)"+e.docMsg.meta+"\u9605\u8bfb\u5168\u6587\u8bf7\u6233\u53f3\u8fb9"].join(""))+"&pic="+encodeURIComponent(e.docMsg.pic))}),n.lang.eventCenter.addEventListener("show-share-panel",function(){e.showTip(),e.hideWeixinTip()}),n.event.on(e.qrcodeBtn,"click",function(o){n.event.preventDefault(o),h.xsend(1,100032),h.xsend(1,100498,{index:4,pcViewChange:t});try{e.tip.hide()}catch(o){console.log("error")}i?(i=!1,e.hideWeixinTip()):(i=!0,e.showWeixinTip())}),e.$el.find(".btn-close").on("click",function(){a(".share-toggle",e.$el).hide(),n.lang.eventCenter.dispatchEvent("Share.hide"),e.$el.removeClass("reder-share-model-newstyle-cur"),i&&(i=!1,e.hideWeixinTip())}),e.$el.find(".ico-share").on("click",function(){h.xsend(1,100498,{index:0,pcViewChange:t,docType:c}),a(".ic-from-pick").length>0&&h.xsend(1,101835,{index:3}),a(".wangpan-tip").hide(),m.set("wangpanTipShow",1,{expires:864e5}),c===x.PROFESSIONAL||c===x.PAY_NORMAL||c===x.PAY_PACK||c===x.PAY_DISCOUNT?r.isLogin?_.init({thatArg:e}):b.login.verlogin(function(){location.reload()}):(e.$el.hasClass("reder-share-model-newstyle-cur")?(a(".share-toggle",e.$el).hide(),n.lang.eventCenter.dispatchEvent("Share.hide"),e.$el.removeClass("reder-share-model-newstyle-cur"),i&&(i=!1,e.hideWeixinTip())):(n.lang.eventCenter.dispatchEvent("Share.show"),e.$el.addClass("reder-share-model-newstyle-cur").css({overflow:"visible"}),a(".share-toggle",e.$el).show()),a.ajax({type:"get",url:"/doc/interface/getsharedocinfo?doc_id="+w.get("WkInfo").DocInfo.docId,success:function(i){0===i.errno&&(e.docMsg.pic="//wkretype.bdimg.com/img/"+i.picid,e.docMsg.meta=f.getSubstr(i.meta,110))}}))})},loadData:function(){var e=this;a.ajax({type:"get",url:"/doc/interface/getsharedocinfo?doc_id="+w.get("WkInfo").DocInfo.docId,success:function(i){0===i.errno&&(e.docMsg.pic="//wkretype.bdimg.com/img/"+i.picid,e.docMsg.meta=f.getSubstr(i.meta,110))}})},showWeixinTip:function(){this.qrcodeTip.style.display="block",this.initQrcode()},hideWeixinTip:function(){this.qrcodeTip.style.display="none"},showTip:function(){this.tip.show({contentEl:n.dom.g(r.shareElId),parent:this.el,className:"tools-share-tip"})},setShareConfig:function(){var e=n.dom,i=e.q("bdshare_t")[0];e.setAttr(i,"data",n.json.stringify({pic:"https://edu-wenku.bdimg.com/icms_transform/img/iknow/wenku/erweima2001.jpg",text:["\u6211\u6b63\u5728@\u767e\u5ea6\u6587\u5e93 \u9605\u8bfb\u3010"+document.title.replace(/_\u767e\u5ea6\u6587\u5e93/,"")+"\u3011","\u8fd9\u7bc7\u6587\u7ae0\uff0c\u63a8\u8350\u7ed9\u5927\u5bb6\uff01\u7528\u6587\u5e93\u5ba2\u6237\u7aef\u53ef\u4ee5\u514d\u79ef\u5206\u4e0b\u8f7d\u8be5\u6587\u6863\uff0c\u5ba2\u6237\u7aef\u4e0b\u8f7d\u5730\u5740\uff1a","http://"+location.host+"/apps?fr=2001 \u60f3\u7acb\u5373\u9605\u8bfb\u8be5\u6587\u6863\u70b9\u8fd9\u91cc\uff1a"].join(""),url:location.href}))}},{superClass:d});o.exports.share=k});
;define("wkview:widget/common_toc_toolbar/item/fullScreen/fullScreen.js",function(e,n,t){var l=e("wkcommon:widget/lib/tangram/base/base.js"),o=e("wkcommon:widget/ui/js_core/widget/widget.js").widget,r=e("wkcommon:widget/ui/js_core/util/util.js"),d=e("wkview:widget/common_toc_toolbar/item/toolsItem.js").toolsItem,i=e("wkview:widget/common_toc_toolbar/config.js").config,a=e("wkview:widget/common_item/setting/setting.js").setting,c=r.uniqueId(),s=i.pageDefaultWidth,u=e("wkcommon:widget/ui/js_core/log/log.js"),m=e("wkcommon:widget/lib/doT/doT.min.js"),f=o({Options:{position:"left",reader:{}},_init:function(){var e=this,n=m.template('<a class="ic reader-fullScreen xllDownloadLayerHit_left"\n    href="javascript:;"\n    title="\u5168\u5c4f\u663e\u793a"\n    data-toolsBar-log="fullscreen"\n    alog-action="htmltoolbar.fullscreen">\n</a>')();e.el=r.createDom(n),e.placeholder=r.createDom('<div class="reader-placeholder" id="reader-placeholder-'+c+'"></div>'),e.bindEvent(),e.isFullScreen=a.isFullScreen,l.lang.eventCenter.addEventListener("fullscreen.doWindow",l.fn.bind(e._doWindow,e)),l.lang.eventCenter.addEventListener("fullscreen.doFullScreen",l.fn.bind(e._doFullScreen,e)),e.isFullScreen&&e.doFullScreen()},bindEvent:function(){var e=this;l.event.on(e.el,"click",function(n){if(l.event.preventDefault(n),a.isFullScreen)e.doWindow();else{e.doFullScreen();var t="";($(".newTools").length>0||$(".flowPPt").length>0)&&(t="newtools"),u.xsend(1,101487,{pcViewChange:t})}}),l.event.on(document.body,"keyup",function(n){var t=l.event.getKeyCode(n);a.isFullScreen&&27===t&&e.doWindow()}),l.lang.eventCenter.addEventListener("Reader.initFullScreen",l.fn.bind(e.doFullScreen,e)),r.windowResize(l.fn.bind(function(){a.isFullScreen?(l.lang.eventCenter.dispatchEvent("Reader.fullScreenResize"),e.resizePlaceholder(),e.fullScreenResize()):l.lang.eventCenter.dispatchEvent("Reader.WindowResize")},e))},resizePlaceholder:function(){var e=this,n=e.placeholder,t=e.readerContainer.el.offsetHeight,o=n.parentNode?l.dom.getPosition(n.parentNode).top:0;n.parentNode&&l.dom.setStyle(e.placeholder,"height",t-o+"px")},doWindow:function(){l.lang.eventCenter.dispatchEvent("fullscreen.doWindow")},_doWindow:function(){var e=this,n=e.readerContainer.el||e.readerContainer.$el[0].parentNode,t=l.dom.query(i.aside)[0];a.isFullScreen&&(l.lang.eventCenter.dispatchEvent("OutFullScreen.before"),l.dom.setStyle(n,"width",s+"px"),l.dom.removeClass(n,"fullScreen-container"),l.dom.setStyle(e.placeholder.parentNode,"height","")),l.dom.removeClass(e.el,"isFullScreen"),l.dom.setAttr(e.el,"title","\u5168\u5c4f\u663e\u793a"),a.isFullScreen&&(l.dom.show(t),l.dom.setStyles("doc",{overflow:""}),l.dom.insertBefore(n,e.placeholder),l.dom.hide(e.placeholder),document.body.appendChild(e.placeholder),document.documentElement.style.overflowX="",l.lang.eventCenter.dispatchEvent("OutFullScreen.after")),a.isFullScreen=!1},doFullScreen:function(){l.lang.eventCenter.dispatchEvent("fullscreen.doFullScreen")},_doFullScreen:function(){var e=this,n=e.readerContainer.el||e.readerContainer.$el[0].parentNode,t=l.dom.getPosition(n.parentNode).top,o=l.dom.query(i.aside)[0];a.isFullScreen||(s=n.offsetWidth,l.lang.eventCenter.dispatchEvent("InFullScreen.before"),l.dom.insertAfter(e.placeholder,n),e.fullScreenResize(),l.dom.addClass(n,"fullScreen-container")),l.dom.addClass(e.el,"isFullScreen"),l.dom.setAttr(e.el,"title","\u6062\u590d\u7a97\u53e3"),l.dom.hide(o),l.dom.setStyles("doc",{overflow:"hidden"}),a.isFullScreen||(document.body.appendChild(n),l.dom.show(e.placeholder),document.documentElement.style.overflowX="hidden",l.lang.eventCenter.dispatchEvent("InFullScreen.after"),"none"===$(".fix-searchbar-wrap").css("display")&&(t-=36),setTimeout(function(){var o=n.offsetHeight;l.dom.setStyle(e.placeholder,"height",o-t+"px")},200)),o=null,a.isFullScreen=!0},fullScreenResize:function(){var e=this,n=e.readerContainer.el||e.readerContainer.$el[0].parentNode,t=l.page.getViewWidth();n.style.width=980>t?"980px":t+"px"}},{superClass:d});t.exports.fullScreen=f});
;define("wkview:widget/common_toc_toolbar/item/page/page.js",function(e,t,n){var a=e("wkcommon:widget/lib/tangram/base/base.js"),o=e("wkcommon:widget/ui/js_core/widget/widget.js").widget,i=e("wkcommon:widget/ui/js_core/util/util.js"),r=e("wkcommon:widget/ui/js_core/log/log.js"),u=e("wkview:widget/common_toc_toolbar/item/toolsItem.js").toolsItem,s=e("wkview:widget/common_item/setting/setting.js").setting,p=e("wkview:widget/common_toc_toolbar/config.js").config,l=!1,v=!1,g=[48,49,50,51,52,53,54,55,56,57],d=[8,13,127],c=[38,39,40,37],f=o({Options:{position:"centerLeft",Bof:!1,Eof:!1},_init:function(){var e=this,t=['<div class="reader-tools-page xllDownloadLayerHit_left">','<input type="text" class="page-input" data-toolsBar-log="jumppage"/>','<span class="page-count">/'+e.readerContainer.totalPageNum+"</span>","</div>"].join("");e.el=i.createDom(t),e.input=a.dom.q("page-input",e.el,"input")[0],e.bindEvent(),e.inputValue(),e.fire("onload")},createPagesTop:function(){var e=this,t=a.dom.getPosition,n=t(e.readerContainer.el).top,o=e.readerContainer.pageList,i=o.length,r=0,u=[];for(i;i>r;r++)u.push(t(o[r]).top-n);e.pagesTop=u},bindEvent:function(){var e=this;a.event.on(e.input,"mousedown",function(e){l||(l=!0,this.select(),a.event.preventDefault(e));var t="";($(".newTools").length>0||$(".flowPPt").length>0)&&(t="newtools"),r.xsend(1,101365,{pcViewChange:t})}),a.event.on(e.input,"keydown",a.fn.bind(e.inputType,e)),a.event.on(e.input,"input",a.fn.bind(e.inputChange,e)),a.event.on(e.input,"focus",a.fn.bind(e.inputFocus,e)),a.event.on(e.input,"blur",a.fn.bind(e.inputBlur,e)),a.event.on(e.input,"paste",a.fn.bind(e.inputPaste,e)),a.event.on(document,"keydown",function(t){var n=a.event.getKeyCode(t),o=$(t.target);o.is("input")||o.is("textarea")||((40===n||39===n||34===n)&&(e.nextPage(),a.event.preventDefault(t)),(38===n||37===n||33===n)&&(e.prevPage(),a.event.preventDefault(t)))}),$(window).on("videoClose",function(){a.event.on(document,"keydown",function(t){var n=a.event.getKeyCode(t);(40===n||39===n||34===n)&&(e.nextPage(),a.event.preventDefault(t)),(38===n||37===n||33===n)&&(e.prevPage(),a.event.preventDefault(t))})}),a.lang.eventCenter.addEventListener("Reader.scroll",a.fn.bind(e.readerScroll,e))},readerScroll:function(e,t){var n=this;n.inputValue(t),n.btnStatus(t)},setInputValue:function(e){var t=this;t.input.value=e,s.currentPage=e},inputPaste:function(e){var t=e.clipboardData.getData("text"),n=this;n.vaildPageNum(t)||a.event.stop(e)},inputFocus:function(){l=!0},inputBlur:function(){l=!1},inputChange:function(){var e=this,t=e.input.value;e.vaildPageNum(t)||e.inputValue()},inputType:function(e){var t=a.event.getKeyCode(e),n=this,o=g.concat(d,c);if(-1===a.array.indexOf(o,t)&&a.event.stop(e),13===t)if(n.vaildPageNum(n.input.value)){var i=parseInt(n.input.value,10);isNaN(i)||1>i||i>p.pageCount?n.inputValue():n.setInputValue(i),n.gotoPage()}else n.inputValue();9===a.browser.ie&&setTimeout(function(){n.inputChange(e)},1)},vaildPageNum:function(e){if(!/^\d{0,5}$/.test(e))return!1;var t=parseInt(e,10);return t>p.pageCount?!1:0>t?!1:!0},inputValue:function(e){var t=this;e=e||s;var n=e.currentPage;t.setInputValue(n)},gotoPage:function(){var e=this,t=e.input,n=t.value;return e.vaildPageNum(n)?(n=parseInt(n,10),void e.readerContainer.gotoPage(n)):(n>e.pageCount&&e.setInputValue(e.pageCount),void(0>n&&e.setInputValue(1)))},btnStatus:function(e){var t=this,n=e.isOverflow||{},a=s.currentPage;return t.Bof=n.Bof,t.Eof=n.Eof,n.Bof&&n.Eof?(t.prevDisabled(),void t.nextDisabled()):n.Bof&&1===a?(t.prevDisabled(),void t.nextRelease()):n.Eof&&a===p.pageCount?(t.nextDisabled(),void t.prevRelease()):(t.prevRelease(),void t.nextRelease())},prevDisabled:function(){var e=this;a.dom.addClass(e.prevBtn,"page-prev-disable"),a.dom.setAttr(e.prevBtn,"title","")},nextDisabled:function(){var e=this;a.dom.addClass(e.nextBtn,"page-next-disable"),a.dom.setAttr(e.nextBtn,"title","")},prevRelease:function(){var e=this;a.dom.removeClass(e.prevBtn,"page-prev-disable"),a.dom.setAttr(e.prevBtn,"title","\u4e0a\u4e00\u9875")},nextRelease:function(){var e=this;a.dom.removeClass(e.nextBtn,"page-next-disable"),a.dom.setAttr(e.nextBtn,"title","\u4e0b\u4e00\u9875")},prevPage:function(){var e=this;v||(s.scrollBof&&1!==p.pageRange[0]?(e.readerContainer.gotoPage(p.pageRange[0]-1),v=!0):e.readerContainer.prevScreen())},nextPage:function(){var e=this;currentPage=s.currentPage,v||(s.scrollEof&&p.pageRange[1]!==p.pageCount?(e.readerContainer.gotoPage(p.pageRange[1]+1),v=!0):e.readerContainer.nextScreen())}},{superClass:u});n.exports.page=f});
;define("wkview:widget/common_toc_toolbar/item/fullScreen/fullScreenTxt.js",function(e,t,n){var l=e("wkcommon:widget/lib/tangram/base/base.js"),o=e("wkcommon:widget/ui/js_core/widget/widget.js").widget,i=e("wkcommon:widget/ui/js_core/util/util.js"),r=e("wkview:widget/common_toc_toolbar/config.js").config,d=e("wkview:widget/common_item/setting/setting.js").setting,s=i.uniqueId(),c=e("wkcommon:widget/ui/js_core/log/log.js"),a=964,u=o({Options:{position:"left",zoomLevel:1},_init:function(){var e=['<a class="ic reader-fullScreen xllDownloadLayerHit_left" href="javascript:;" title="\u5168\u5c4f\u663e\u793a"','data-toolsBar-log="fullscreen"  alog-action="htmltoolbar.fullscreen">',"</a>"].join("");this.el=i.createDom(e),this.placeholder=i.createDom('<div class="reader-placeholder" id="reader-placeholder-'+s+'"></div>'),this.bindEvent(),this.isFullScreen=d.isFullScreen},bindEvent:function(){var e=this;l.lang.eventCenter.on("fullScreen",l.fn.bind(e.doFullScreen,e)),l.lang.eventCenter.on("inFullScreen",l.fn.bind(e.doInFullScreen,e)),l.event.on(this.el,"click",function(t){if(d.isFullScreen)e.inFullScreen();else{e.fullScreen();var n="";($(".newTools").length>0||$(".flowPPt").length>0)&&(n="newtools"),c.xsend(1,101487,{pcViewChange:n})}l.event.preventDefault(t)}),l.event.on(document.body,"keyup",function(t){var n=l.event.getKeyCode(t);d.isFullScreen&&27===n&&e.inFullScreen()}),l.event.on(window,"resize",l.fn.bind(function(){d.isFullScreen?(l.lang.eventCenter.dispatchEvent("Reader.fullScreenResize"),e.resizePlaceholder(),e.fullScreenResize()):l.lang.eventCenter.dispatchEvent("Reader.windowResize")},e))},resizePlaceholder:function(){var e=this,t=e.placeholder,n=e.readerContainer.el.offsetHeight,o=t.parentNode?l.dom.getPosition(t.parentNode).top:0;t.parentNode&&l.dom.setStyle(e.placeholder,"height",n-o+"px")},fullScreen:function(){l.lang.eventCenter.dispatchEvent("fullScreen")},doFullScreen:function(){var e=l.dom.query(r.aside)[0],t=this.readerContainer.el,n=l.dom.getPosition(t.parentNode).top;if(d.isFullScreen||(a=t.offsetWidth,l.lang.eventCenter.dispatchEvent("InFullScreen.before"),l.dom.addClass(t,"fullScreen-container"),l.dom.insertAfter(this.placeholder,t),this.fullScreenResize()),l.dom.addClass(this.el,"isFullScreen"),l.dom.setAttr(this.el,"title","\u6062\u590d\u7a97\u53e3"),l.dom.hide(e),l.dom.setStyles("doc",{overflow:"hidden"}),!d.isFullScreen){document.body.appendChild(t),l.dom.setStyles(t,{position:"absolute",top:0,left:0,"z-index":1003}),l.dom.show(this.placeholder),document.documentElement.style.overflowX="hidden",l.lang.eventCenter.dispatchEvent("InFullScreen.after");var o=t.offsetHeight;l.dom.setStyle(this.placeholder,"height",o-n+"px")}d.isFullScreen=!0},inFullScreen:function(){l.lang.eventCenter.dispatchEvent("inFullScreen")},doInFullScreen:function(){var e=l.dom.query(r.aside)[0],t=this.readerContainer.el;d.isFullScreen&&(l.lang.eventCenter.dispatchEvent("OutFullScreen.before"),l.dom.setStyle(t,"width",a+"px"),l.dom.removeClass(t,"fullScreen-container")),l.dom.removeClass(this.el,"isFullScreen"),l.dom.setAttr(this.el,"title","\u5168\u5c4f\u663e\u793a"),l.dom.show(e),l.dom.setStyle("doc","overflow","hidden"),d.isFullScreen&&(l.dom.insertBefore(t,this.placeholder),l.dom.removeStyle(t,"top"),l.dom.removeStyle(t,"left"),l.dom.removeStyle(t,"position"),l.dom.removeStyle(t,"z-index"),l.dom.hide(this.placeholder),document.documentElement.style.overflowX="",l.lang.eventCenter.dispatchEvent("OutFullScreen.after")),d.isFullScreen=!1},fullScreenResize:function(){var e=this.readerContainer.el,t=l.page.getViewWidth();980>t?(e.style.width="980px",this.reader.view.scale(980)):(e.style.width=t+"px",this.reader.view.scale(t))}});n.exports.fullScreen=u});
;define("wkview:widget/common_toc_toolbar/item/zoom/zoom_txt.js",function(e,o,t){var i=e("wkcommon:widget/lib/tangram/base/base.js"),s=e("wkcommon:widget/ui/lib/jquery/jquery.js"),a=e("wkcommon:widget/ui/js_core/widget/widget.js").widget,d=e("wkcommon:widget/ui/js_core/util/util.js"),n=e("wkview:widget/common_toc_toolbar/config.js").config,r=e("wkview:widget/common_item/setting/setting.js").setting,l=a({Options:{position:"left",zoomLevel:1},_init:function(){var e=['<div class="reader-tools-zoom xllDownloadLayerHit_left">','<a href="###" class="ic zoom-decrease" title="\u7f29\u5c0f" data-toolsBar-log="zoomout"alog-action="htmltoolbar.zoomout"></a>','<a href="###" class="ic zoom-add" title="\u653e\u5927" data-toolsBar-log="zoomin"alog-action="htmltoolbar.zoomin"></a>',"</div>"].join("");this.el=d.createDom(e),this.zoomAddEl=i.dom.q("zoom-add",this.el,"a")[0],this.zoomDecreaseEl=i.dom.q("zoom-decrease",this.el,"a")[0],this.$addChangeEl=s("#bd .body"),this.$decreaseChangeEl=s("#bd .reader-container"),this.baseWidth=980,this.asideWidth=s("#bd .aside").width()+34,this.resizeTimer=null,this.bindEvent()},bindEvent:function(){var e=this;i.event.on(e.zoomDecreaseEl,"click",i.fn.bind(e.zoomDecrease,e)),i.event.on(e.zoomAddEl,"click",i.fn.bind(e.zoomAdd,e)),i.event.on(window,"resize",i.fn.bind(e.pageFlow,e)),i.lang.eventCenter.addEventListener("InFullScreen.before",i.fn.bind(function(){e.zoomChange(1),e.zoomDecreaseDisable(),e.zoomAddDisable()},e)),i.lang.eventCenter.addEventListener("OutFullScreen.before",function(){e.zoomChange()}),i.lang.eventCenter.addEventListener("OutFullScreen.after",i.fn.bind(e.btnStatus,e)),i.event.on(window,"resize",function(){e.pageFlow()})},btnStatus:function(){n.zoomRange[0]===r.currentZoomLevel?this.zoomDecreaseDisable():(i.dom.removeClass(this.zoomDecreaseEl,"zoom-decrease-disable"),i.dom.setAttr(this.zoomDecreaseEl,"title","\u7f29\u5c0f")),n.zoomRange[1]===r.currentZoomLevel?this.zoomAddDisable():(i.dom.removeClass(this.zoomAddEl,"zoom-add-disable"),i.dom.setAttr(this.zoomAddEl,"title","\u653e\u5927"))},zoomAdd:function(e){i.event.preventDefault(e),i.dom.hasClass(this.zoomAddEl,"zoom-add-disable")||(r.currentZoomLevel=(10*r.currentZoomLevel+10*n.zoomStep)/10,this.zoomChange())},zoomDecrease:function(e){i.event.preventDefault(e),i.dom.hasClass(this.zoomDecreaseEl,"zoom-decrease-disable")||(r.currentZoomLevel=(10*r.currentZoomLevel-10*n.zoomStep)/10,this.zoomChange())},zoomAddDisable:function(){i.dom.addClass(this.zoomAddEl,"zoom-add-disable"),i.dom.setAttr(this.zoomAddEl,"title","")},zoomDecreaseDisable:function(){i.dom.addClass(this.zoomDecreaseEl,"zoom-decrease-disable"),i.dom.setAttr(this.zoomDecreaseEl,"title","")},pageFlow:function(){var e=this,o=s(window);e.resizeTimer&&clearTimeout(e.resizeTimer),e.resizeTimer=setTimeout(function(){if(!r.isFullScreen){var t=o.width();e.baseWidth=1160>t?980:1234>t?1053:1308>t?1126:1200,e.zoomChange()}},100)},zoomChange:function(e){var o=e||r.currentZoomLevel,t=this.baseWidth*o-this.asideWidth-2;if(o>=1){var a=this.baseWidth*o;this.$addChangeEl.width(a),this.$decreaseChangeEl.width(t),this.reader.view.scale(t),900>t?(s(".reader-tools-bar .center").width(a),s(".reader-tools-bar .right").hide()):(s(".reader-tools-bar .center").width(t),s(".reader-tools-bar .right").show())}else 1>o&&(this.$addChangeEl.width(this.baseWidth),this.$decreaseChangeEl.width(t),this.reader.view.scale(t));this.btnStatus(),i.lang.eventCenter.dispatchEvent("Reader.zoomChange",{zoomLevel:r.currentZoomLevel,width:t})}});t.exports.zoom=l});
;define("wkview:widget/common_toc_toolbar/item/convert/common.js",function(o,m,t){var e=o("wkview:widget/common_item/commonUtil/commonUtil.js");t.exports=e});
;define("wkview:widget/common_toc_toolbar/item/convert/comp/btnDownload/btnDownload.js",function(o,n,a){var t=o("wkcommon:widget/ui/lib/jquery/jquery.js"),i=o("wkcommon:widget/lib/doT/doT.min.js"),e=o("wkview:widget/doc_dw_wangpan_main/doc_dw_wangpan_main.js"),s=(o("wkview:widget/doc_dw_wangpan_main/doc_dw_wangpan_pro.js").downDoc,o("wkcommon:widget/ui/js_core/_dialog/_dialog.js").alert),d=o("wkcommon:widget/ui/js_core/log/log.js"),c=o("wkcommon:widget/ui/js_core/login/login.js"),l=o("wkcommon:widget/lib/fis/data/data.js"),r=o("wkcommon:widget/sessionX/sessionX.js"),w=(r.sessionXMgr,o("wkview:widget/common_toc_toolbar/item/convert/common.js")),p=function(o,n){t.extend(!0,this.data,o),this.rootSelector=n};p.prototype={constructor:p,$root:t(document),data:{userType:0,docValueType:0,docInfo:{},vipInfo:{},wkInfo:{}},bindEvent:function(){return this.$root.on("click",this.rootSelector+" .btn-download",t.proxy(this.handleDownload,this)),this},makeTemplate:function(){var o="";d.xsend(1,101837);var n=t.extend(!0,{},this.data,w);return o=i.template('<div class="reader-download reader-convert-box" data-toolsBar-log="download" >\n<div class="convert-wrap">\n<a title="VIP\u4e13\u4eab\u6587\u6863\u683c\u5f0f\u81ea\u7531\u8f6c\u6362" href="javascript:void(0);" class="reader-convert-tool" alog-action="htmltoolbar.download"></a>\n<div class="convert-tool-wrap">\n<div class="convert-tool">\n<span class="icon-triangle"></span>\n<span class="icon-vip"></span>\n<div class="convert-item" data-type="3">\n<i class="doc-icon doc-icon-word"></i>\n<span>\u8f6c\u4e3aword\u683c\u5f0f</span>\n</div>\n<div class="convert-item" data-type="2">\n<i class="doc-icon doc-icon-ppt"></i>\n<span>\u8f6c\u4e3appt\u683c\u5f0f</span>\n</div>\n<div class="convert-item" data-type="4">\n<i class="doc-icon doc-icon-excel"></i>\n<span>\u8f6c\u4e3aexcel\u683c\u5f0f</span>\n</div>\n<div class="convert-item-other">\n<span>\u8f6c\u4e3a\u5176\u4ed6\u683c\u5f0f&nbsp;&gt;</span>\n</div>\n</div>\n</div>\n</div>\n<div class="convert-tip">\n<span class="icon-triangle"></span>\n<span class="icon-convert"></span>\n<span class="tip-text">VIP\u4e13\u4eab\u6587\u6863\u683c\u5f0f\u81ea\u7531\u8f6c\u6362</span>\n<span class="btn-close"></span>\n</div>\n</div>')(n)},handleDownload:function(){this.logHandleDownload();var o=this.data.docInfo||{},n=l.get("WkInfo"),a=n.PageInfo.isLogin;if(a)if(w.isDownloadDisabled(this.data.docInfo)){var t=o.isInRoomButDeletedByCreater?"\u6743\u9650\u95ee\u9898":"\u7248\u6743\u65b9\u8981\u6c42";s({title:"\u63d0\u793a",content:['<p class="download-disabled-info">',"\u8be5\u6587\u6863\u56e0"+t+"\uff0c\u4ec5\u652f\u6301\u5728\u7ebf\u9605\u8bfb\u54e6\u3002","</p>"].join(""),width:350,height:180})}else e.goSpecialDownload(this.data.wkInfo||{});else c.login.verlogin(function(){})},logHandleDownload:function(){d.xsend(1,101838)}},a.exports=p});
;define("wkview:widget/common_toc_toolbar/item/convert/convert.js",function(o,e,t){var i=(o("wkcommon:widget/lib/tangram/base/base.js"),o("wkcommon:widget/ui/js_core/widget/widget.js").widget),n=o("wkcommon:widget/ui/js_core/util/util.js"),c=(o("wkcommon:widget/ui/js_core/log/log.js"),o("wkview:widget/common_toc_toolbar/item/toolsItem.js").toolsItem),r=(o("wkview:widget/ui/view/movetree/movetree.js").movetree,o("wkcommon:widget/lib/fis/data/data.js")),s=r.get("WkInfo"),w=(o("wkview:widget/common_toc_toolbar/toolsTip/toolsTip.js").toolsTipCreater(),o("wkcommon:widget/ui/js_core/login/login.js").login,o("wkview:widget/common_toc_toolbar/item/convert/common.js")),d=o("wkview:widget/common_toc_toolbar/item/convert/comp/btnDownload/btnDownload.js"),a=s.DocInfo,l=i({Options:{position:"left",reader:{}},_init:function(){var o=window.vipInfo||{},e=window.downloadResource||{};a.isVipFreeDoc=window.isVipFreeDoc;var t=w.calculateUserType(o),i=w.calcualteDocValueType(a,o),c={userType:t,docValueType:i,docInfo:a,vipInfo:o,wkInfo:s,downloadResource:e},r=".reader-tools-convert-wrap",l=new d(c,r),m=['<div class="reader-tools-convert-wrap">'];l.bindEvent(),m.push(l.makeTemplate()),m.push("</div>"),this.el=n.createDom(m.join("")),$(window).on("rendered:toolbar",function(){$.isFunction(l.afterRender)&&l.afterRender()}),this.showOrHide()},btnStatus:function(){},bindEvent:function(){},showOrHide:function(){a&&1===+a.professionalDoc},hide:function(){this.el&&$(this.el).hide()}},{superClass:c});t.exports.convert=l});
;define("wkview:widget/common_toc_toolbar/item/backToTop/backToTop.js",function(e,i,a){var n=e("wkcommon:widget/lib/tangram/base/base.js"),o=e("wkcommon:widget/ui/js_core/widget/widget.js").widget,t=e("wkcommon:widget/ui/js_core/util/util.js"),d=e("wkview:widget/common_toc_toolbar/item/toolsItem.js").toolsItem,s=e("wkcommon:widget/ui/lib/jquery/jquery.js"),r=e("wkcommon:widget/ui/js_core/mvp/template/template.js").template,c=e("wkcommon:widget/ui/js_core/log/log.js"),l=e("wkcommon:widget/ui/js_core/xform/xform.js"),p=e("wkcommon:widget/lib/doT/doT.min.js"),v=e("wkcommon:widget/feedback/feedback.js"),u=e("wkview:widget/node_modules/@baidu/wenku-model-user/index.js"),m=e("wkcommon:widget/lib/fis/data/data.js"),g=o({Options:{position:"right"},_init:function(){var e=this,i='<div class="reader-back2top-wrap" id="activity-tg">\n<a href="javascript:;" class="vip-wrap novip side-a notvip-book">\n\u70ed\u95e8<br/>\u514d\u8d39\u9001</a>\n<a href="javascript:;" class="reader-download-app">\n<span class="app-bg"></span>\u5ba2\u6237\u7aef</a>\n<a href="javascript:;" class="go-crawer log-xsend" data-logxsend="[1, 101833,{index: \'view\'}]">\n<span class="crawer-bg"></span>\u6781\u901f\u6536\u7eb3</a>\n<a class="reader-feedback log-xsend help-feedback" title="\u53cd\u9988" tabindex="-1" hidefocus="true" data-toolsBar-log="feedback" alog-action="htmltoolbar.feedback" data-logxsend="[1, 100790]" style="cursor: pointer;">\n<span class="feedback-icon"></span>\u53cd\u9988</a>\n<a class="reader-backToTop" href="###" title="\u56de\u5230\u9876\u90e8" tabindex="-1" hidefocus="true" data-toolsBar-log="gotop" alog-action="htmltoolbar.back2top"><span class="bg-index s-ic top"></span></a>\n<div class="reader-app-qrcode-wrap">\n<img src="" width="130" height="130">\n<p></p>\n<p></p>\n</div>\n<div class="vip-container-wrap">\n<div class="wrap-body">\n<div class="title">\n<span class="text">\u767e\u5ea6\u6587\u5e93VIP\u4e13\u5c5e\u8d44\u6e90,\u514d\u8d39\u4efb\u6027!</span>\n<a class="more log-xsend" href="/user/browse/jiaoyuvipzone#recommend" target="_blank" data-logxsend="[1, 101182]" >\u66f4\u591a</a>\n<span class="close"></span></div>\n<div class="left-wrap">\n<div class="image-book"></div>\n</div>\n<div class="right-wrap">\n<div class="big">\u4e2d\u56fd\u5386\u53f2\u98ce\u4e91\u5f55</div>\n<div class="small">\u548c\u6559\u79d1\u4e66\u8fe5\u7136\u4e0d\u540c\u7684\u4e2d\u56fd\u5386\u53f2\u633d\u6551\u4f60\u88ab\u6d17\u8111\u7684\u667a\u5546</div>\n<div class="btn">\n<a class="read log-xsend" target="_blank" data-logxsend="[1, 101180]">\u7acb\u5373\u9605\u8bfb</a>\n<div class="collect">\n<i class="icon"></i>\n<span class="shoucang">\u6536\u85cf</span>\n<div class="collect-wrap">\n<span class="first">\n\u5df2\u6536\u85cf\u81f3\u767e\u5ea6\u9605\u8bfb<a href="/customer/mybook?item=collected" target="_blank" class="closet">\u6211\u7684\u4e66\u67b6</a>\n</span>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n<div class="video-container-wrap">\n</div>\n<div class="crawer-guide-wrap">\u5168\u7f51\u597d\u5185\u5bb9\u4e0d\u9519\u8fc7</br>\u8bd5\u8bd5\u6781\u901f\u6536\u7eb3\u5427!</div>\n</div>\n';e.videoTpl=p.template('<div class="vip-container-wrap-video"  data-type="{{=it.data.usertype}}">\n<div class="wrap-body">\n<div class="title">\n<a href="{{=it.videoUrl}}" t target="_blank" class="log-xsend" data-logxsend="[1,101472]">\n<span class="text">\u767e\u5ea6\u6587\u5e93VIP\u4e13\u4eab\u514d\u8d39\u8d44\u6e90</span>\n<span class="arrow-right"></span>\n</a>\n</div>\n<div class="video-wrapper">\n<a href="/video/course/v/{{=it.data.vid}}" target="_blank" class="log-xsend" data-logxsend="[1,101471]">\n<div class="video-img">\n<img src="{{=it.data.thumbImg}}">\n</div>\n<div class="cover"></div>\n{{? it.data.usertype == \'novip\'}}<div class="icon-text">\n<div class="player-icon"></div>\n<p class="text">\u514d\u8d39\u8bd5\u770b</p>\n</div>\n{{?}}                {{? it.data.usertype == \'vip\'}}<div class="display">\n<div class="player-button"></div>\n</div>\n{{?}}<p class="video-title">\n{{=it.data.title}}</p>\n</a>\n</div>\n{{? it.data.usertype == \'novip\'}}<div class="video-btn">\n<a href="/cashier/browse/jiaoyuvipcashier" target="_blank" class="log-xsend" data-logxsend="[1,101468]">\n\u52a0\u5165VIP\u514d\u8d39\u770b</a>\n</div>\n{{?}}        {{? it.data.usertype == \'vip\'}}<div class="video-btn">\n<a href="/video/browse/videoview?cid=75438&vid=2" target="_blank" class="log-xsend" data-logxsend="[1,101470]">\nVIP\u89c6\u9891\u4e13\u533a\u514d\u8d39\u770b</a>\n</div>\n{{?}}</div></div>'),e.el=t.createDom(i),s("body").append(e.el),e.getcoupons=n.dom.q("reader-getcoupons",e.el)[0],e.back2top=n.dom.q("reader-backToTop",e.el)[0],e.feedback=n.dom.q("reader-feedback",e.el)[0],e.downloadapp=n.dom.q("reader-download-app",e.el)&&n.dom.q("reader-download-app",e.el)[0],e.crawer=n.dom.q("go-crawer",e.el),"1"===m.get("isBGC")&&s(e.crawer).hide(),e.notifyNum=n.dom.q("num",e.el)[0],e.readerSummer=n.dom.q("reader-summer",e.el)[0],e.readerSummerNum=n.dom.q("reader-summer-num",e.el)[0],e.appBtn=n.dom.q("reader-download-app",e.el)[0],e.appQrcode=n.dom.q("reader-app-qrcode-wrap",e.el)[0],e.qrcodeWrap=n.dom.q("reader-app-qrcode-wrap",e.el)[0],e.crawerGuide=n.dom.q("crawer-guide-wrap",e.el)[0],e.vipBtn=n.dom.q("vip-wrap",e.el),e.vipContainer=n.dom.q("vip-container-wrap",e.el)&&n.dom.q("vip-container-wrap",e.el)[0],e.vipCloseBtn=n.dom.q("close",e.el)&&n.dom.q("close",e.el)[0],e.collectBtn=n.dom.q("collect",e.el)&&n.dom.q("collect",e.el)[0],e.readBtn=n.dom.q("read",e.el)&&n.dom.q("read",e.el)[0],e.novip=n.dom.q("novip",e.el)&&n.dom.q("novip",e.el)[0],e.videoContainer=n.dom.q("video-container-wrap",e.el)[0],e.bookRecIcon=n.dom.q("notvip-book",e.el)[0],e.videoRecIcon=n.dom.q("notvip-video",e.el)[0],e.canHide=!0,e.vipFirstDisplay=!1,e.recType="",e.hasGetData=!1,e.bindEvent(),e.showTopic(),e.toggleEl(),e.showNotify(),e.vipRecomment()},showTopic:function(){var e=this,i=".reader-back2top-wrap",a="",n=p.template('<a target="_blank" href="{{=it[\'entranceurl\']}}" class="reader-topic log-xsend" data-index="{{=it[\'index\']}}" data-logxsend="[1, 101495, {\'index\': {{=it[\'index\']}}}]">{{=it[\'entrance\']}}</a>\n<div class="topic-container topic-container-{{=it[\'index\']}}" >\n<a target="_blank" data-logxsend="[1, 101497, {\'index\': {{=it[\'index\']}}}]" href="{{=it[\'imgurl\']}}" class="log-xsend"><img src="{{=it[\'img\']}}" alt="" class="topic-pic"></a>\n<a target="_blank" data-logxsend="[1, 101497, {\'index\': {{=it[\'index\']}}}]" href="{{=it[\'titleurl\']}}" class="log-xsend"><div class="topic-title">{{=it[\'title\']}}</div></a>\n<div class="topic-info">{{=it[\'info\']}}</div>\n<a target="_blank" class="log-xsend" data-logxsend="[1, 101497, {\'index\': {{=it[\'index\']}}}]" href="{{=it[\'btnurl\']}}"><div class="topic-btn">{{=it[\'btn\']}}</div></a>\n<div class="triangle-1"></div>\n<div class="triangle-2"></div>\n<div class="topic-container-fengxi"></div>\n</div>');l.getJSON("pc_right_sidebar",{success:function(o){var t=o.sidebarQrcode,d=o.topic,r=(new Date).getTime(),c=o.activity_api;s(e.qrcodeWrap).find("img").attr("src",t.qrcode),s(e.qrcodeWrap).find("p").eq(0).text(t.line1),s(e.qrcodeWrap).find("p").eq(1).text(t.line2);for(var l=0,p=1;l<d.length&&2>l;l++){var v=d[l].startTime.replace(/-/g,"/"),u=d[l].endTime.replace(/-/g,"/"),m=new Date(v),g=new Date(u);r>m&&g>r&&(d[l].index=p,p++,a+=n(d[l]))}s(i).prepend(a);for(var l=0,h=c.length;h>l;l++){var m=new Date(c[l].startTime).getTime(),g=new Date(c[l].stopTime).getTime(),r=(new Date).getTime();if(r>m&&g>r){s(i).find("a").length>0?s(c[l].name).insertBefore(s(i).find("a").eq(0)):s(i).append(s(c[l].name)),s(i).find("a").eq(1).removeClass("active"),e.setACookie(m);break}}}})},setACookie:function(e){var i=n.cookie.get("activityFlag")?n.cookie.get("activityFlag"):0;if(!(i>e)){var a=this;a.readerSummer=".reader-summer",a.readerSummerNum=".reader-summer-num",s(a.readerSummerNum).css("display","block"),s(a.readerSummer).on("click",function(){s(a.readerSummerNum).css("display","none");var e=(new Date).getTime();n.cookie.set("activityFlag",e,{expires:2592e6,path:"/"})})}},bindEvent:function(){var e=this;n.event.on(e.back2top,"click",function(i){n.event.preventDefault(i);var a=n.page.getScrollLeft();window.scrollTo(a,0),e.back2top.blur()}),n.event.on(e.getcoupons,"click",function(){n.cookie.set("redtip",1,{expires:31536e6,path:"/"}),s(".reader-getcoupons .num").hide()}),n.lang.eventCenter.addEventListener("ToolsBar.resize",n.fn.bind(e.fixPosition,e)),n.lang.eventCenter.addEventListener("Reader.scroll",n.fn.bind(e.toggleEl,e));var i=s(".reader-back2top-wrap");s(window).on("scroll",function(){var e=s(window).scrollTop();200>e?i.css("display","none"):("none"===i.css("display")&&c.xsend(1,101018,{index:1001}),i.css("display","block"))}),s(e.getcoupons).on("mouseenter",function(){s(e.vipContainer).hide(),s(e.videoContainer).hide(),c.xsend(1,100504,{index:1})});var a,o={};s(e.el).on("mouseover",".reader-topic",function(){a=s(this).data("index"),o[a]||(c.xsend(1,101496,{index:a}),o[a]=1),e.dialogShow(this,s(".topic-container-"+a))}).on("mouseout",function(){a&&s(".topic-container-"+a).hide()}),s(e.el).on("mouseover",".topic-container",function(){s(this).show()}).on("mouseout",function(){a&&s(".topic-container-"+a).hide()}),s(e.crawer).on("click",function(){window.open("https://wk.baidu.com/common/xcrawler")}).on("mouseenter",function(){s(e.vipContainer).hide(),s(e.videoContainer).hide(),s(e.appQrcode).hide(),e.dialogShow(this,e.crawerGuide)}).on("mouseleave",function(){s(e.crawerGuide).hide()}),s(e.appBtn).on("mouseenter",function(){s(e.vipContainer).hide(),s(e.videoContainer).hide(),e.dialogShow(this,e.appQrcode),c.xsend(1,101018,{index:1002})}).on("mouseleave",function(){s(e.appQrcode).hide()}),s(e.el).on("click",".reader-feedback.help-feedback",function(){v.loadRightBar(),c.xsend(1,101556)})},fixPosition:function(e,i){var a=this,o=i.isMax;o?(n.dom.setStyle(a.getcoupons,"right","-1px"),n.dom.setStyle(a.back2top,"right","-1px"),n.dom.setStyle(a.feedback,"right","-1px"),n.dom.setStyle(a.downloadapp,"right","-1px"),n.dom.setStyle(a.crawer,"right","-1px"),n.dom.setStyle(a.novip,"right","-1px")):(n.dom.removeStyle(a.getcoupons,"right"),n.dom.removeStyle(a.back2top,"right"),n.dom.removeStyle(a.feedback,"right"),n.dom.removeStyle(a.downloadapp,"right"),n.dom.setStyle(a.crawer,"right"),n.dom.removeStyle(a.novip,"right"))},toggleEl:function(){var e=this,i=n.page.getScrollTop();if(i>100){s(e.el).slideDown();var a=n.cookie.get("redtip");return void(a||(s(".reader-getcoupons .num").text(1).show(),e.showRightBar||(c.xsend(1,101494),e.showRightBar=1),c.xsend(1,101555),c.xsend(1,101661,{type:"show"})))}s(e.el).slideUp()},showNotify:function(){var e=this;s.get("/task/interface/taskstate").success(function(i){var a=0;if(0===+i.data.sign_state&&a++,0===+i.data.reward_state&&a++,0===+i.data.newshare_info_state&&a++,a>0){var n=r('<div class="my-task-wrapper">\n<span class="right-arrow"></span>\n<ul>\n<a href="/task/browse/other?from=view-pop" target="_blank" class="log-xsend" data-logxsend=\'[1, 100676, {"index":1002}]\'>\n<li class="to-download"><i class="iconfont">&#xe621;</i>\n<h3>\u4e0b\u8f7d\u4efb\u52a1></h3>\n<p>\u4e0b\u8f7d\u6587\u5e93APP\uff0c\u9886\u53d6\u4e0b\u8f7d\u5238\u5956\u52b1</p>\n</li>\n</a>\n<a href="/task/browse/daily" target="_blank" class="log-xsend">\n<li class="to-yuedurenwu">\n<i class="iconfont">\n<div class="image-read" ></div>\n</i>\n<h3>\u6bcf\u65e5\u9605\u8bfb></h3>\n<p>\u8bbf\u95ee\u9605\u8bfbAPP\uff0c\u9886\u53d6\u4e0b\u8f7d\u5238\u5956\u52b1</p>\n</li>\n</a>\n<a href="/task/browse/other?from=view-reading" target="_blank" class="log-xsend yuedurenwu_link" data-logxsend=\'[1, 101102]\'>\n<li class="to-yuedurenwu"><i class="iconfont">&#xe760;</i>\n<h3>\u9605\u8bfb\u4efb\u52a1></h3>\n<p>\u4e0b\u8f7d\u9605\u8bfbAPP\uff0c\u9886\u53d6\u4e0b\u8f7d\u5238\u5956\u52b1</p>\n</li>\n</a>\n<% if(+newshare_info_state === 0){ %>\n<a href="/task/browse/daily#shareTask" target="_blank">\n<li class="to-share"><i class="iconfont">&#xe605;</i>\n<h3>\u6bcf\u65e5\u5206\u4eab></h3>\n<p>\u7ed9\u597d\u53cb\u5206\u4eab\u7cbe\u9009\u6587\u6863\u8d62\u53d6\u4e0b\u8f7d\u5238</p>\n</li>\n</a>\n<% } %>\n</ul>\n</div>\n',i.data);s(e.getcoupons).append(n),s(e.getcoupons).find(".to-share").on("click",function(){c.xsend(1,100504,{index:2})}),s(e.getcoupons).find(".to-sign").on("click",function(){c.xsend(1,100504,{index:3})}),s(e.getcoupons).find(".to-reward").on("click",function(){c.xsend(1,100504,{index:4})}),s(e.getcoupons).find(".to-plugin").on("click",function(){c.xsend(1,101054,{index:2})}),s.event.trigger("viewyuedurenwurukou")}})},dialogShow:function(e,i){var a=this,n=s(a.el).children("a:visible").index(s(e));s(i).css("top",58*n).show()},vipRecomment:function(){var e=this;u.getVipInfo().done(function(i){i=i||{},e.isJiaoyuVip=i.isJiaoyuVip}).always(function(){var i=n.cookie.get("isJiaoyuVip");i||n.cookie.set("isJiaoyuVip","1",{path:"/",expires:864e5}),void 0!==e.isJiaoyuVip?1===+e.isJiaoyuVip?(s(e.el).find(".novip").remove(),i?(s(e.vipContainer).hide(),s(e.videoContainer).hide()):(e.vipFirstDisplay=!0,c.xsend(1,101178,{index:1}))):(s(e.vipContainer).hide(),s(e.videoContainer).hide(),s(e.collectBtn).hide(),s(e.readBtn).text("\u52a0\u5165VIP\u514d\u8d39\u8bfb\u5168\u672c").css({width:"160px"}).removeAttr("data-logxsend").attr("data-logxsend","[1, 101183]")):(e.isJiaoyuVip=0,s(e.readBtn).text("\u52a0\u5165VIP\u514d\u8d39\u8bfb\u5168\u672c").css({width:"160px"}),s(e.vipContainer).hide(),s(e.videoContainer).hide()),s(e.vipBtn).hover(function(){e.isJiaoyuVip?(c.xsend(1,101179,{index:1}),c.xsend(1,101178,{index:1})):(c.xsend(1,101179,{index:2}),c.xsend(1,101178,{index:2})),e.hasGetData?(10===e.recType&&e.dialogShow(this,e.vipContainer),30===e.recType&&(e.dialogShow(this,s(e.videoContainer)),e.isJiaoyuVip?c.xsend(1,101469):c.xsend(1,101467))):(e.hasDisplay=!0,e.getRecomentData(e.findisJiaoyuVip,this))},function(){e.vipFirstDisplay||setTimeout(function(){e.canHide&&s(e.vipContainer).hide(),e.canHide&&s(e.videoContainer).hide()},100)}),s(e.videoContainer).hover(function(){e.vipFirstDisplay||(e.canHide=!1)},function(){e.vipFirstDisplay||(e.canHide=!0,s(e.videoContainer).hide())}),s(e.vipContainer).hover(function(){e.vipFirstDisplay||(e.canHide=!1)},function(){e.vipFirstDisplay||(e.canHide=!0,s(e.vipContainer).hide())}),s(e.vipCloseBtn).on("click",function(){e.vipFirstDisplay=!1,s(e.vipContainer).hide()}),s(e.collectBtn).on("click",function(){c.xsend(1,101181),s.ajax({url:"/nauser/collect?na_uncheck=1&opid=wk_na&bid=2&doc_id="+e.doc_id,dataType:"jsonp",success:function(){e.collect(e)}})})})},getRecomentData:function(e,i){var a=this,n="",o="";if(window.localStorage){var t=window.localStorage,d=t.getItem("saveTime");if(d){var r=+new Date-d;if(864e5>r){if(n=t.getItem("bookInfo"),o=t.getItem("videoInfo"),n)return a.recType=10,a.hasGetData=!0,void a.bookData(window.JSON.parse(n),e,i);if(o)return a.recType=30,a.hasGetData=!0,void a.videoData(JSON.parse(o),e,i)}}}s.ajax({url:"//wenku.baidu.com/edu-rec-mix/mixpr?app_name=WENKU-VIP-REC&rn=2",dataType:"jsonp",success:function(n){a.hasGetData=!0;var o=n&&n.rec_list&&n.rec_list[0]&&n.rec_list[0].info,t=n&&n.rec_list&&n.rec_list[0]&&n.rec_list[0].type;if(a.recType=t,o){if(a.doc_id=o.doc_id,window.localStorage){var d=window.localStorage;d.setItem("saveTime",+new Date),10===t&&(d.setItem("bookInfo",window.JSON.stringify(o)),a.bookData(o,e,i)),30===t&&(d.setItem("videoInfo",window.JSON.stringify(o)),a.videoData(o,e,i))}}else s(a.vipContainer).hide(),s(".reader-back2top-wrap").find(".novip").remove(),s(".reader-back2top-wrap").find(".app-qrcode-wrap").css("top",0),s(".reader-back2top-wrap").find(".reader-app-qrcode-wrap").css("top","58px")}})},videoData:function(e,i,a){var n=this,o="";o=n.isJiaoyuVip?"vip":"novip";var t={thumbImg:e.thumb_img,title:e.title,vid:e.vid,usertype:o},d="/user/browse/vip/",r=n.videoTpl({data:t,videoUrl:d});s(n.videoContainer).html(r),n.dialogShow(a,s(n.videoContainer))},collect:function(e){s(e.vipContainer).find(".icon").addClass("collected"),s(e.vipContainer).find(".shoucang").text("\u5df2\u6536\u85cf");var i=s(e.vipContainer).find(".collect-wrap");i.show();var a=setTimeout(function(){i.hide()},3e3);s(e.collectBtn).off(),s(e.collectBtn).hover(function(){i.show(),a=setTimeout(function(){i.hide()},500)}),i.hover(function(){return clearTimeout(a),!1},function(){return i.hide(),!1})},bookData:function(e,i,a){var n=this;n.doc_id=e.doc_id,e.summary=e.summary.replace(/^\s*/,""),s(n.el).find(".left-wrap img").attr("src",e.small_pic_url),s(n.el).find(".right-wrap .big").text(e.title),s(n.el).find(".right-wrap .small").text(e.summary.length>26?e.summary.slice(0,25)+"...":e.summary),i?s(n.el).find(".right-wrap .read").attr("href","https://yuedu.baidu.com/ebook/"+e.doc_id):(s(n.el).find(".right-wrap .read").attr("href","/cashier/browse/jiaoyuvipcashier?cashier_code=tj"),s(n.el).find(".title .text").text("\u767e\u5ea6\u6587\u5e93VIP\u4e13\u4eab\u9650\u514d\u8d44\u6e90")),n.hascollect||s.ajax({url:"//appwk.baidu.com/nabook/noveldetail?na_uncheck=1&opid=wk_na&doc_id="+e.doc_id,dataType:"jsonp",success:function(e){n.hascollect=!0,e.docInfo.mydoc&&n.collect(n)}}),n.dialogShow(a,n.vipContainer)}},{superClass:d});a.exports.backToTop=g});
;define("wkview:widget/common_toc_toolbar/item/bookmark/bookmark.js",function(o,t,e){var a,i,s=o("wkcommon:widget/lib/tangram/base/base.js"),n=o("wkcommon:widget/ui/js_core/widget/widget.js").widget,r=o("wkcommon:widget/ui/js_core/util/util.js"),d=o("wkcommon:widget/ui/js_core/log/log.js"),m=o("wkview:widget/common_toc_toolbar/item/toolsItem.js").toolsItem,l=o("wkview:widget/common_toc_toolbar/config.js").config,c=o("wkcommon:widget/ui/js_core/login/login.js").login,k=o("wkview:widget/common_item/setting/setting.js").setting,v=o("wkview:widget/common_toc_toolbar/toolsTip/toolsTip.js").toolsTip,u=o("wkcommon:widget/lib/fis/data/data.js"),b=o("wkcommon:widget/lib/doT/doT.min.js"),g=u.get("WkInfo"),w=0,f=b.template('<div class="addBookmark-fail">\n\u8be5\u6587\u6863\u4e3a\u79c1\u6709\u6587\u6863\uff0c\u6682\u65e0\u6cd5\u4f7f\u7528\u4e66\u7b7e\u529f\u80fd\u3002</div>')(),p=b.template('<div class="addBookmark-success">\n<b class="ic ic-addBoomark-success"></b>\n\u6dfb\u52a0\u4e66\u7b7e\u6210\u529f\uff0c\u53ef\u4ee5\u8fdb\u5165\u6211\u4e66\u623f\u4e2d\u67e5\u770b<a target="_blank" href="/room">&gt;&gt;\u70b9\u51fb\u67e5\u770b</a>\n</div>')(),h=b.template('<div class="addBookmark-success">\n<b class="ic ic-addBoomark-success"></b>\u6dfb\u52a0\u4e66\u7b7e\u6210\u529f\uff01<br/>\n\u65b0\u6dfb\u52a0\u7684\u4e66\u7b7e\u5c06\u8986\u76d6\u4e4b\u524d\u7684\u4e66\u7b7e\u3002<a target="_blank" href="/room">&gt;&gt;\u70b9\u51fb\u67e5\u770b</a>\n</div>')(),B=b.template('<div class="addBookmark-fail">\n\u6dfb\u52a0\u4e66\u7b7e\u5931\u8d25\uff0c\u8bf7\u60a8\u7a0d\u540e\u91cd\u65b0\u5c1d\u8bd5\uff01</div>')(),j=n({Options:{position:"left"},_init:function(){var o=this,t=b.template('<a class="ic reader-bookmark" title="\u4e66\u7b7e" href="###"\n    data-toolsBar-log="bookmark"\n    alog-action="htmltoolbar.bookmark">\n</a>')();o.el=r.createDom(t),k.bookmark=l.bookmark,o.bindEvent()},bindEvent:function(){var o=this;s.event.on(o.el,"click",function(t){if(s.event.preventDefault(t),d.xsend(1,100033),l.isPrivate)return void o.showTip(f);if(!s.dom.hasClass(this,"isBookmark")){var e=k.currentPage,a=1;o.addBookmark(e,a)}}),s.lang.eventCenter.addEventListener("Reader.scroll",s.fn.bind(o.btnStatus,o)),s.lang.eventCenter.addEventListener("ToolsTipShow.before",function(){a&&a.hide()})},toolsTipCreater:function(){if(!a){var o=this;a=new v,s.event.on(a.el,"mouseenter",function(){clearTimeout(w)}),s.event.on(a.el,"mouseleave",function(){o.tipHide()})}return a},btnStatus:function(){var o=this,t=k.currentPage;return k.bookmark?(o.hasBookmark=!0,void(k.bookmark[0]===t?(s.dom.addClass(o.el,"isBookmark"),s.dom.setAttr(o.el,"title","")):(s.dom.removeClass(o.el,"isBookmark"),s.dom.setAttr(o.el,"title","\u4e66\u7b7e")))):(s.dom.removeClass(o.el,"isBookmark"),void(o.hasBookmark=!1))},addBookmark:function(o,t){var e=this;c.checksynch(s.fn.bind(e.addCallBack,e,o,t))},addCallBack:function(o,t){var e=this;i=o,s.ajax.post(g.Urls.submitBookmark,["ct=20109","doc_id="+l.doc_id,"page="+o,"offset="+t].join("&"),s.fn.bind(e.addCallBackAfter,e))},addCallBackAfter:function(o,t){var e=this,a=s.json.parse(t);a.save?(k.bookmark=[i,1],e.showTip(e.hasBookmark?h:p)):e.showTip(B)},showTip:function(o){var t=this,e=t.toolsTipCreater();clearTimeout(w),e.show({contentEl:r.createDom('<div class="bookmark-tip-content">'+o+"</div>"),parent:t.el.parentNode,className:"tools-bookmark-tip",dispose:!0}),t.tipHide(),t.btnStatus()},tipHide:function(){w=setTimeout(function(){a.hide()},3e3)}},{superClass:m});e.exports.bookmark=j});