define("wkview:widget/common_toc_reader/common/ad/ad.js",function(e,d,a){var t=e("wkview:widget/common_item/endPageFcShow/endPageFcShow.js"),i=e("wkview:widget/view_recom_thirdad/endPageGoldClueAd/endPageGoldClueAd.js"),o=e("wkcommon:widget/ui/js_core/log/log.js"),n=e("wkcommon:widget/lib/fis/data/data.js"),s=e("wkcommon:widget/ui/js_core/log/xshowLog.js"),c=function(){};c.prototype={constructor:c,init:function(e,d,a,c){if(0===c){var g={zy:!0,fc:!0,wm:!0,adswitch:"1"},r={adpos_11:g,adpos_12:g},w=(new Date).getTime();$(window).on("handleEndpageAd",function(e,i){var c=i.adpos_11;if(c&&"1"===c.adswitch){c.zy&&o.xsend(1,101649,{index:1}),s.send({adPid:1,adId:"zy",act:"back"});var g=d.isJobHunt;g&&c.zy&&($(".wubai-rukou").html(d.buttonTips).attr("href",d.url).attr("data-logxsend","[1, "+d.statisticsClickId+"]").css({width:"auto",padding:"0 18px"}),$(".wubai-title p").html(d.pageTips),$(".wubai-wrap").show(),s.send({adPid:1,adId:"zy",act:"show"}),$("#html-reader-go-more").length>0&&$("#html-reader-go-more").addClass("wubaiding-height"),o.xsend(1,d.statisticsDisplayId),$(".wubai-rukou").click(function(){$.post("/browse/interface/successjobhunting",{doc_id:a.docId,title:a.title,statistics_click_id:d.statisticsClickId,keyword:d.keyword}),s.send({adPid:1,adId:"zy",act:"click"})}),o.xsend(1,101649,{index:2})),g&&c.zy&&g||(t.endPageFcShow(),n.set("isEndPageLoadFcWmAd",1))}}),s.send({adPid:1,adId:"zy",act:"req"}),$.ajax({url:"/xpage/interface/getadmanageconf?merge=1&end_type=1&ad_pos=11,12&t="+w,type:"get"}).done(function(e){e&&e.status&&0===e.status.code&&(n.set("admanageconf",e.data||r),$.event.trigger("handleEndpageAd",e.data||r))}).fail(function(){n.set("admanageconf",r),$.event.trigger("handleEndpageAd",r)}),i.endPageGoldClueAd()}}},a.exports=new c});
;define("wkview:widget/common_toc_reader/common/doc_banner/compAsync/btns/handlePayVip.js",function(e,a,i){var o=e("wkview:widget/common_item/commonUtil/commonUtil.js"),t=function(){};t.prototype={constructor:t,data:{userType:0,docValueType:0,docInfo:{},vipInfo:{},wkInfo:{}},trigger:function(e){$.extend(!0,this.data,e);var a={doc_id:this.data.docInfo.docId};switch(e.userType){case o.USER_TYPE.VIP_JIAOYU:this.handlePayVipJiaoyu(a);break;case o.USER_TYPE.VIP_WENKU:this.handlePayVipWenku(a);break;case o.USER_TYPE.VIP_CLASSIC:this.handlePayVipClassic(a);break;case o.USER_TYPE.LOGIN_NOT_VIP:this.handlePayLoginNotVip(a);break;case o.USER_TYPE.NOT_LOGIN:this.handlePayNotLogin(a);break;case o.USER_TYPE.VIP_WENKUEDU:this.handlePayVipWenkuedu(a)}},getCashierCode:function(e){return this.data.docValueType===+o.DOC_VALUE_TYPE.PROFESSIONAL?"ViewproDownloadTry":e},handlePayVipJiaoyu:function(e){var a=this.data.docInfo||{},i=this.data.downloadResource||{},t=this.data.vipInfo||{},_=this.data.renewalVipInfo||{},s="/cashier/browse/jiaoyuvipcashier",d="view_middle_xfjy";switch(+_.pro_download_ticket_total>1&&+_.normal_download_ticket_total>1?(d+="_fortime",_.jiaoyu_vip_info.pro_download_ticket+_.jiaoyu_vip_info.normal_download_ticket<=0&&(s="/cashier/browse/dispatch")):d+="_forprivilege",this.data.docValueType){case o.DOC_VALUE_TYPE.TICKET:a.docTicket>0&&!(i.isWealthEnough||i.isTicketEnough||+t.shareDownloadRights>0)&&(d="view_middle_special");break;case o.DOC_VALUE_TYPE.TICKET_VIP_FREE:break;case o.DOC_VALUE_TYPE.PARTNER_NORMAL:break;case o.DOC_VALUE_TYPE.PAY_NORMAL:break;case o.DOC_VALUE_TYPE.PAY_DISCOUNT:break;case o.DOC_VALUE_TYPE.PAY_PACK:break;case o.DOC_VALUE_TYPE.PROFESSIONAL:+t.proDownloadRights>0||(d="view_middle_special")}d=this.getCashierCode(d),o.gotoCashier(s,d,e)},handlePayVipWenku:function(e){var a=this.data.docInfo||{},i=this.data.downloadResource||{},t=this.data.vipInfo||{},_=this.data.renewalVipInfo||{},s="/cashier/browse/dispatch",d="view_middle_xfwk";switch(d+=+_.pro_download_ticket_total>1&&+_.normal_download_ticket_total>1?"_fortime":"_forprivilege",this.data.docValueType){case o.DOC_VALUE_TYPE.TICKET:a.docTicket>0&&!(i.isWealthEnough||i.isTicketEnough||+t.shareDownloadRights>0)&&(d="view_middle_special");break;case o.DOC_VALUE_TYPE.PARTNER_NORMAL:break;case o.DOC_VALUE_TYPE.TICKET_VIP_FREE:break;case o.DOC_VALUE_TYPE.PAY_NORMAL:break;case o.DOC_VALUE_TYPE.PAY_DISCOUNT:break;case o.DOC_VALUE_TYPE.PAY_PACK:break;case o.DOC_VALUE_TYPE.PROFESSIONAL:+t.proDownloadRights>0||(d="view_middle_special")}d=this.getCashierCode(d),o.gotoCashier(s,d,e)},handlePayVipClassic:function(e){var a=this.data.docInfo||{},i=this.data.downloadResource||{},t=this.data.vipInfo||{},_=this.data.renewalVipInfo||{},s="/cashier/browse/dispatch",d="view_middle_jdsj";switch(d+=+_.pro_download_ticket_total>1&&+_.normal_download_ticket_total>1?"_fortime":"_forprivilege",this.data.docValueType){case o.DOC_VALUE_TYPE.TICKET:a.docTicket>0&&!(i.isWealthEnough||i.isTicketEnough||+t.shareDownloadRights>0)&&(d="view_middle_special");break;case o.DOC_VALUE_TYPE.TICKET_VIP_FREE:break;case o.DOC_VALUE_TYPE.PARTNER_NORMAL:break;case o.DOC_VALUE_TYPE.PAY_NORMAL:break;case o.DOC_VALUE_TYPE.PAY_DISCOUNT:break;case o.DOC_VALUE_TYPE.PAY_PACK:break;case o.DOC_VALUE_TYPE.PROFESSIONAL:+t.proDownloadRights>0||(d="view_middle_special")}d=this.getCashierCode(d),o.gotoCashier(s,d,e)},handlePayLoginNotVip:function(e){var a=this.data.docInfo||{},i=this.data.downloadResource||{},t="/cashier/browse/dispatch",_="";switch(_="view_middle_joinVIP",this.data.docValueType){case o.DOC_VALUE_TYPE.TICKET:a.docTicket>0&&!i.isWealthEnough&&!i.isTicketEnough&&(_="view_middle_special");break;case o.DOC_VALUE_TYPE.TICKET_VIP_FREE:i.isWealthEnough||i.isTicketEnough||(_="view_middle_special");break;case o.DOC_VALUE_TYPE.PARTNER_NORMAL:break;case o.DOC_VALUE_TYPE.PAY_NORMAL:break;case o.DOC_VALUE_TYPE.PAY_DISCOUNT:break;case o.DOC_VALUE_TYPE.PAY_PACK:a.ispaied||(t='/cashier/browse/vipwithdoccashier?doc_ids=["'+a.docId+'"]');break;case o.DOC_VALUE_TYPE.PROFESSIONAL:}_=this.getCashierCode(_),o.gotoCashier(t,_,e)},handlePayNotLogin:function(e){var a=this.data.docInfo||{},i="/cashier/browse/dispatch",t="";switch(t="view_middle_joinVIP",this.data.docValueType){case o.DOC_VALUE_TYPE.PAY_PACK:i='/cashier/browse/vipwithdoccashier?doc_ids=["'+a.docId+'"]'}t=this.getCashierCode(t),o.gotoCashier(i,t,e)},handlePayVipWenkuedu:function(e){var a="/cashier/browse/dispatch",i="view_middle_jdsj";i=this.getCashierCode(i),o.gotoCashier(a,i,e)}},i.exports=new t});
;define("wkview:widget/common_toc_reader/common/doc_banner/compAsync/btns/btns.js",function(i,n,d){var o,a,s=i("wkcommon:widget/ui/lib/jquery/jquery.js"),t=i("wkcommon:widget/lib/doT/doT.min.js"),v=i("wkcommon:widget/ui/js_core/log/log.js"),e=i("wkview:widget/common_item/commonUtil/commonUtil.js"),c=i("wkcommon:widget/ui/js_core/_dialog/_dialog.js").alert,l=i("wkcommon:widget/ui/js_core/login/login.js").login,p=i("wkview:widget/ui/view/pay_org_vip/pay_org_vip.js"),_=i("wkview:widget/doc_download_main/doc_download_main.js"),P=i("wkview:widget/doc_download_main/doc_download_pro.js").downDoc,V=i("wkview:widget/common_toc_reader/common/doc_banner/compAsync/btns/handlePayVip.js"),I=function(i,n){s.extend(!0,this.data,i),this.$root=n||s(document)};I.prototype={constructor:I,$root:s(document),data:{userType:0,docValueType:0,docInfo:{},vipInfo:{},wkInfo:{}},bindEvent:function(){return this.$root.on("click",".btn-download",s.proxy(this.handleDownload,this)).on("click",".btn-pay-vip",s.proxy(this.handlePayVip,this)).on("click",".btn-pay-doc",s.proxy(this.handlePayDoc,this)),this},makeTemplate:function(){var i="",n=s.extend(!0,{},this.data,e);switch(this.data.userType){case e.USER_TYPE.VIP_JIAOYU:i=t.template('<div class="doc-banner-btns super-vip">\n{{? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET }}        {{? +it.docInfo.docTicket === 0}}<div class="btn-download">\n<i></i>\u4e0b\u8f7d</div>\n<div class="btn-pay-vip">\n<i></i>\u7eed\u8d39VIP</div>\n{{??}}                    {{? it.downloadResource.isWealthEnough || it.downloadResource.isTicketEnough || +it.vipInfo.shareDownloadRights > 0}}<div class="btn-download">\n<i></i>VIP\u514d\u5238\u4e0b\u8f7d</div>\n<div class="btn-pay-vip">\n<i></i>\u7eed\u8d39VIP</div>\n{{??}}<div class="btn-pay-vip">\n<i></i>\u7eed\u8d39VIP\u514d\u5238\u4e0b\u8f7d</div>\n{{?}}        {{?}}    {{?? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET_VIP_FREE }}<div class="btn-download">\n<i></i>VIP\u514d\u8d39\u4e0b\u8f7d</div>\n<div class="btn-pay-vip">\n<i></i>\u7eed\u8d39VIP</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PARTNER_NORMAL }}        {{? it.docInfo.ispaied}}<div class="btn-download">\n<i></i>\u4e0b\u8f7d</div>\n{{??}}<div class="btn-pay-doc">\n<i></i>\u8d2d\u4e70</div>\n{{?}}    {{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_NORMAL }}        {{? it.docInfo.ispaied}}<div class="btn-download">\n<i></i>\u4e0b\u8f7d</div>\n{{??}}<div class="btn-pay-doc">\n<i></i>\u8d2d\u4e70</div>\n{{?}}    {{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_DISCOUNT }}        {{? it.docInfo.ispaied}}<div class="btn-download">\n<i></i>\u4e0b\u8f7d</div>\n{{??}}<div class="btn-pay-doc">\n<i></i>VIP 8\u6298\u8d2d\u4e70</div>\n{{?}}<div class="btn-pay-vip">\n<i></i>\u7eed\u8d39VIP</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_PACK }}        {{? it.docInfo.ispaied}}<div class="btn-download">\n<i></i>\u4e0b\u8f7d</div>\n{{??}}<div class="btn-pay-doc">\n<i></i>\u8d2d\u4e70</div>\n{{?}}    {{?? +it.docValueType === +it.DOC_VALUE_TYPE.PROFESSIONAL }}        {{? +it.vipInfo.proDownloadRights > 0}}<div class="btn-download">\n<i></i>VIP\u4e13\u4eab\u4e0b\u8f7d</div>\n<div class="btn-pay-vip btn-pay-vip-pro-doc">\n<i></i>\u7eed\u8d39VIP</div>\n{{??}}<div class="btn-pay-vip btn-pay-vip-pro-doc">\n<i></i>\u7eed\u8d39VIP</div>\n{{?}}    {{?}}</div>')(n);break;case e.USER_TYPE.VIP_WENKU:i=t.template('<div class="doc-banner-btns super-vip">\n{{? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET }}        {{? +it.docInfo.docTicket === 0}}<div class="btn-download">\n<i></i>\u4e0b\u8f7d</div>\n<div class="btn-pay-vip">\n<i></i>\u5347\u7ea7VIP</div>\n{{??}}                    {{? it.downloadResource.isWealthEnough || it.downloadResource.isTicketEnough || +it.vipInfo.shareDownloadRights > 0}}<div class="btn-download">\n<i></i>VIP\u514d\u5238\u4e0b\u8f7d</div>\n<div class="btn-pay-vip">\n<i></i>\u5347\u7ea7VIP</div>\n{{??}}<div class="btn-pay-vip">\n<i></i>\u5347\u7ea7VIP\u514d\u5238\u4e0b\u8f7d</div>\n{{?}}        {{?}}    {{?? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET_VIP_FREE }}<div class="btn-download">\n<i></i>VIP\u514d\u8d39\u4e0b\u8f7d</div>\n<div class="btn-pay-vip">\n<i></i>\u5347\u7ea7VIP</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PARTNER_NORMAL }}        {{? it.docInfo.ispaied}}<div class="btn-download">\n<i></i>\u4e0b\u8f7d</div>\n{{??}}<div class="btn-pay-doc">\n<i></i>\u8d2d\u4e70</div>\n{{?}}    {{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_NORMAL }}        {{? it.docInfo.ispaied}}<div class="btn-download">\n<i></i>\u4e0b\u8f7d</div>\n{{??}}<div class="btn-pay-doc">\n<i></i>\u8d2d\u4e70</div>\n{{?}}    {{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_DISCOUNT }}        {{? it.docInfo.ispaied}}<div class="btn-download">\n<i></i>\u4e0b\u8f7d</div>\n{{??}}<div class="btn-pay-doc">\n<i></i>VIP 8\u6298\u8d2d\u4e70</div>\n{{?}}<div class="btn-pay-vip">\n<i></i>\u5347\u7ea7VIP</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_PACK }}        {{? it.docInfo.ispaied}}<div class="btn-download">\n<i></i>\u4e0b\u8f7d</div>\n{{??}}<div class="btn-pay-doc">\n<i></i>\u8d2d\u4e70</div>\n{{?}}    {{?? +it.docValueType === +it.DOC_VALUE_TYPE.PROFESSIONAL }}        {{? +it.vipInfo.proDownloadRights > 0}}<div class="btn-download">\n<i></i>VIP\u4e13\u4eab\u4e0b\u8f7d</div>\n<div class="btn-pay-vip btn-pay-vip-pro-doc">\n<i></i>\u5347\u7ea7VIP</div>\n{{??}}<div class="btn-pay-vip btn-pay-vip-pro-doc">\n<i></i>\u5347\u7ea7VIP</div>\n{{?}}    {{?}}</div>')(n);break;case e.USER_TYPE.VIP_CLASSIC:i=t.template('<div class="doc-banner-btns super-vip">\n{{? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET }}        {{? +it.docInfo.docTicket === 0}}<div class="btn-download">\n<i></i>\u4e0b\u8f7d</div>\n<div class="btn-pay-vip">\n<i></i>\u5347\u7ea7VIP</div>\n{{??}}                    {{? it.downloadResource.isWealthEnough || it.downloadResource.isTicketEnough || +it.vipInfo.shareDownloadRights > 0}}<div class="btn-download">\n<i></i>VIP\u514d\u5238\u4e0b\u8f7d</div>\n<div class="btn-pay-vip">\n<i></i>\u5347\u7ea7VIP</div>\n{{??}}<div class="btn-pay-vip">\n<i></i>\u5347\u7ea7VIP\u514d\u5238\u4e0b\u8f7d</div>\n{{?}}        {{?}}    {{?? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET_VIP_FREE }}<div class="btn-download">\n<i></i>VIP\u514d\u8d39\u4e0b\u8f7d</div>\n<div class="btn-pay-vip">\n<i></i>\u5347\u7ea7VIP</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PARTNER_NORMAL }}        {{? it.docInfo.ispaied}}<div class="btn-download">\n<i></i>\u4e0b\u8f7d</div>\n{{??}}<div class="btn-pay-doc">\n<i></i>\u8d2d\u4e70</div>\n{{?}}    {{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_NORMAL }}        {{? it.docInfo.ispaied}}<div class="btn-download">\n<i></i>\u4e0b\u8f7d</div>\n{{??}}<div class="btn-pay-doc">\n<i></i>\u8d2d\u4e70</div>\n{{?}}    {{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_DISCOUNT }}        {{? it.docInfo.ispaied}}<div class="btn-download">\n<i></i>\u4e0b\u8f7d</div>\n{{??}}<div class="btn-pay-doc">\n<i></i>VIP 8\u6298\u8d2d\u4e70</div>\n{{?}}<div class="btn-pay-vip">\n<i></i>\u5347\u7ea7VIP</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_PACK }}        {{? it.docInfo.ispaied}}<div class="btn-download">\n<i></i>\u4e0b\u8f7d</div>\n{{??}}<div class="btn-pay-doc">\n<i></i>\u8d2d\u4e70</div>\n{{?}}    {{?? +it.docValueType === +it.DOC_VALUE_TYPE.PROFESSIONAL }}        {{? +it.vipInfo.proDownloadRights > 0}}<div class="btn-download">\n<i></i>VIP\u4e13\u4eab\u4e0b\u8f7d</div>\n<div class="btn-pay-vip btn-pay-vip-pro-doc">\n<i></i>\u5347\u7ea7VIP</div>\n{{??}}<div class="btn-pay-vip btn-pay-vip-pro-doc">\n<i></i>\u5347\u7ea7VIP\u514d\u8d39\u4e13\u4eab</div>\n{{?}}    {{?}}</div>')(n);break;case e.USER_TYPE.LOGIN_NOT_VIP:i=t.template('<div class="doc-banner-btns super-vip">\n{{? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET }}        {{? +it.docInfo.docTicket === 0}}<div class="btn-download">\n<i></i>\u4e0b\u8f7d</div>\n<div class="btn-pay-vip">\n<i></i>\u52a0\u5165VIP                {{? +it.vipInfo.is_new_user === 1}}<div class="new-user-discount-tip">VIP\u65b0\u5ba2\u7acb\u51cf2\u5143</div>\n{{?}}</div>\n{{??}}            {{? it.downloadResource.isWealthEnough || it.downloadResource.isTicketEnough }}<div class="btn-download">\n<i></i>\u4e0b\u8f7d</div>\n{{??}}            {{?}}<div class="btn-pay-vip">\n<i></i>VIP\u514d\u5238\u4e0b\u8f7d                {{? +it.vipInfo.is_new_user === 1}}<div class="new-user-discount-tip">VIP\u65b0\u5ba2\u7acb\u51cf2\u5143</div>\n{{?}}</div>\n{{?}}    {{?? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET_VIP_FREE }}        {{? it.downloadResource.isWealthEnough || it.downloadResource.isTicketEnough }}<div class="btn-download">\n<i></i>\u4e0b\u8f7d</div>\n{{??}}        {{?}}<div class="btn-pay-vip">\n<i></i>VIP\u514d\u8d39\u4e0b\u8f7d</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PARTNER_NORMAL }}        {{? it.docInfo.ispaied}}<div class="btn-download">\n<i></i>\u4e0b\u8f7d</div>\n{{??}}<div class="btn-pay-doc">\n<i></i>\u8d2d\u4e70</div>\n{{?}}    {{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_NORMAL }}        {{? it.docInfo.ispaied}}<div class="btn-download">\n<i></i>\u4e0b\u8f7d</div>\n{{??}}<div class="btn-pay-doc">\n<i></i>\u8d2d\u4e70</div>\n{{?}}    {{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_DISCOUNT }}        {{? it.docInfo.ispaied}}<div class="btn-download">\n<i></i>\u4e0b\u8f7d</div>\n<div class="btn-pay-vip">\n<i></i>\u52a0\u5165VIP                {{? +it.vipInfo.is_new_user === 1}}<div class="new-user-discount-tip">VIP\u65b0\u5ba2\u7acb\u51cf2\u5143</div>\n{{?}}</div>\n{{??}}<div class="btn-pay-doc">\n<i></i>\u8d2d\u4e70</div>\n<div class="btn-pay-vip">\n<i></i>VIP 8\u6298\u8d2d\u4e70                {{? +it.vipInfo.is_new_user === 1}}<div class="new-user-discount-tip">VIP\u65b0\u5ba2\u7acb\u51cf2\u5143</div>\n{{?}}</div>\n{{?}}    {{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_PACK }}        {{? it.docInfo.ispaied}}<div class="btn-download">\n<i></i>\u4e0b\u8f7d</div>\n<div class="btn-pay-vip">\n<i></i>\u52a0\u5165VIP                {{? +it.vipInfo.is_new_user === 1}}<div class="new-user-discount-tip">VIP\u65b0\u5ba2\u7acb\u51cf2\u5143</div>\n{{?}}</div>\n{{??}}<div class="btn-pay-doc">\n<i></i>\u8d2d\u4e70</div>\n<div class="btn-pay-vip">\n<i></i>\u52a0\u5165VIP\u514d\u8d39\u9001\u672c\u6587                {{? +it.vipInfo.is_new_user === 1}}<div class="new-user-discount-tip">VIP\u65b0\u5ba2\u7acb\u51cf2\u5143</div>\n{{?}}</div>\n{{?}}    {{?? +it.docValueType === +it.DOC_VALUE_TYPE.PROFESSIONAL }}<div class="btn-pay-vip btn-pay-vip-pro-doc">\n<i></i>VIP\u514d\u8d39\u4e13\u4eab            {{? +it.vipInfo.is_new_user === 1}}<div class="new-user-discount-tip">VIP\u65b0\u5ba2\u7acb\u51cf2\u5143</div>\n{{?}}</div>\n{{?}}</div>')(n);break;case e.USER_TYPE.NOT_LOGIN:i=t.template('<div class="doc-banner-btns super-vip">\n{{? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET }}        {{? +it.docInfo.docTicket === 0}}<div class="btn-download">\n<i></i>\u4e0b\u8f7d</div>\n<div class="btn-pay-vip">\n<i></i>\u52a0\u5165VIP                {{? +it.vipInfo.is_new_user === 1}}<div class="new-user-discount-tip">VIP\u65b0\u5ba2\u7acb\u51cf2\u5143</div>\n{{?}}</div>\n{{??}}<div class="btn-download">\n<i></i>\u4e0b\u8f7d</div>\n<div class="btn-pay-vip">\n<i></i>VIP\u514d\u5238\u4e0b\u8f7d                {{? +it.vipInfo.is_new_user === 1}}<div class="new-user-discount-tip">VIP\u65b0\u5ba2\u7acb\u51cf2\u5143</div>\n{{?}}</div>\n{{?}}    {{?? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET_VIP_FREE }}<div class="btn-download">\n<i></i>\u4e0b\u8f7d</div>\n<div class="btn-pay-vip">\n<i></i>VIP\u514d\u8d39\u4e0b\u8f7d</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PARTNER_NORMAL }}<div class="btn-pay-doc">\n<i></i>\u8d2d\u4e70</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_NORMAL }}<div class="btn-pay-doc">\n<i></i>\u8d2d\u4e70</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_DISCOUNT }}<div class="btn-pay-doc">\n<i></i>\u8d2d\u4e70</div>\n<div class="btn-pay-vip">\n<i></i>VIP 8\u6298\u8d2d\u4e70            {{? +it.vipInfo.is_new_user === 1}}<div class="new-user-discount-tip">VIP\u65b0\u5ba2\u7acb\u51cf2\u5143</div>\n{{?}}</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_PACK }}<div class="btn-pay-doc">\n<i></i>\u8d2d\u4e70</div>\n<div class="btn-pay-vip">\n<i></i>\u52a0\u5165VIP\u514d\u8d39\u9001\u672c\u6587            {{? +it.vipInfo.is_new_user === 1}}<div class="new-user-discount-tip">VIP\u65b0\u5ba2\u7acb\u51cf2\u5143</div>\n{{?}}</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PROFESSIONAL }}<div class="btn-pay-vip btn-pay-vip-pro-doc">\n<i></i>VIP\u514d\u8d39\u4e13\u4eab            {{? +it.vipInfo.is_new_user === 1}}<div class="new-user-discount-tip">VIP\u65b0\u5ba2\u7acb\u51cf2\u5143</div>\n{{?}}</div>\n{{?}}</div>')(n);break;case e.USER_TYPE.VIP_WENKUEDU:i=t.template('<div class="doc-banner-btns super-vip">\n{{? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET }}        {{? +it.docInfo.docTicket === 0}}<div class="btn-download">\n<i></i>\u4e0b\u8f7d</div>\n<div class="btn-pay-vip">\n<i></i>\u5347\u7ea7VIP</div>\n{{??}}                    {{? it.downloadResource.isWealthEnough || it.downloadResource.isTicketEnough || +it.vipInfo.shareDownloadRights > 0}}<div class="btn-download">\n<i></i>VIP\u514d\u5238\u4e0b\u8f7d</div>\n<div class="btn-pay-vip">\n<i></i>\u5347\u7ea7VIP</div>\n{{??}}<div class="btn-pay-vip">\n<i></i>\u5347\u7ea7VIP\u514d\u5238\u4e0b\u8f7d</div>\n{{?}}        {{?}}    {{?? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET_VIP_FREE }}<div class="btn-download">\n<i></i>VIP\u514d\u8d39\u4e0b\u8f7d</div>\n<div class="btn-pay-vip">\n<i></i>\u5347\u7ea7VIP</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PARTNER_NORMAL }}        {{? it.docInfo.ispaied}}<div class="btn-download">\n<i></i>\u4e0b\u8f7d</div>\n{{??}}<div class="btn-pay-doc">\n<i></i>\u8d2d\u4e70</div>\n{{?}}    {{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_NORMAL }}        {{? it.docInfo.ispaied}}<div class="btn-download">\n<i></i>\u4e0b\u8f7d</div>\n{{??}}<div class="btn-pay-doc">\n<i></i>\u8d2d\u4e70</div>\n{{?}}    {{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_DISCOUNT }}        {{? it.docInfo.ispaied}}<div class="btn-download">\n<i></i>\u4e0b\u8f7d</div>\n{{??}}<div class="btn-pay-doc">\n<i></i>VIP 8\u6298\u8d2d\u4e70</div>\n{{?}}<div class="btn-pay-vip">\n<i></i>\u5347\u7ea7VIP</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_PACK }}        {{? it.docInfo.ispaied}}<div class="btn-download">\n<i></i>\u4e0b\u8f7d</div>\n{{??}}<div class="btn-pay-doc">\n<i></i>\u8d2d\u4e70</div>\n{{?}}    {{?? +it.docValueType === +it.DOC_VALUE_TYPE.PROFESSIONAL }}        {{? +it.vipInfo.proDownloadRights > 0}}<div class="btn-download">\n<i></i>VIP\u4e13\u4eab\u4e0b\u8f7d</div>\n<div class="btn-pay-vip btn-pay-vip-pro-doc">\n<i></i>\u5347\u7ea7VIP</div>\n{{??}}<div class="btn-pay-vip btn-pay-vip-pro-doc">\n<i></i>\u5347\u7ea7VIP\u514d\u8d39\u4e13\u4eab</div>\n{{?}}    {{?}}</div>')(n)}return i},handleDownload:function(){v.xsend(1,102340,{type:"download",from:"reader"}),v.xsend(1,101166);var i=this.data.docInfo||{};if(e.isDownloadDisabled(this.data.docInfo)){var n=i.isInRoomButDeletedByCreater?"\u6743\u9650\u95ee\u9898":"\u7248\u6743\u65b9\u8981\u6c42";c({title:"\u63d0\u793a",content:['<p class="download-disabled-info">',"\u8be5\u6587\u6863\u56e0"+n+"\uff0c\u4ec5\u652f\u6301\u5728\u7ebf\u9605\u8bfb\u54e6\u3002","</p>"].join(""),width:350,height:180})}else this.data.docValueType===e.DOC_VALUE_TYPE.PROFESSIONAL?(!(a instanceof P)&&(a=new P),a.start()):_.goSpecialDownload(this.data.wkInfo||{})},handlePayDoc:function(){v.xsend(1,102340,{type:"doc",from:"reader"});var i=this.data.docInfo||{};v.xsend(1,100351),l.verlogin(function(){o||(o=p({goods_type:1,goods_id:i.docId}));var n="view_middle_doc";1===+i.fufeiFreeReadOpen?n="trialReadingMiddle":2===+i.fufeiFreeReadOpen&&(n="trialReadingMiddleDuizhao");var d={query:{fr:i.player+"_view",q:"view_middle_doc",pn:i.totalPageNum||0,click_type:"13011003",dqStatCode:n}};o.init(d)})},handlePayVip:function(){v.xsend(1,102340,{type:"vip",from:"reader"}),V.trigger(this.data)}},d.exports=I});
;define("wkview:widget/common_toc_reader/common/doc_banner/compAsync/text/text.js",function(t,n,o){var e=t("wkcommon:widget/ui/lib/jquery/jquery.js"),d=t("wkcommon:widget/lib/doT/doT.min.js"),i=t("wkview:widget/common_item/commonUtil/commonUtil.js"),c=function(t,n){e.extend(!0,this.data,t),this.$root=n||e(document)};c.prototype={constructor:c,$root:e(document),data:{userType:0,docValueType:0,docInfo:{},vipInfo:{},wkInfo:{}},bindEvent:function(){return this},makeTemplate:function(){var t="",n=e.extend(!0,{},this.data,i);return t=d.template('{{? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET }}<div class="doc-banner-text">\n\u4e0b\u8f7d\u6587\u6863\u5230\u7535\u8111\uff0c\u4f7f\u7528\u66f4\u65b9\u4fbf</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET_VIP_FREE }}<div class="doc-banner-text">\n\u4e0b\u8f7d\u6587\u6863\u5230\u7535\u8111\uff0c\u4f7f\u7528\u66f4\u65b9\u4fbf</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PARTNER_NORMAL }}<div class="doc-banner-text">\n\u83b7\u53d6\u6587\u6863\uff0c\u4f7f\u7528\u66f4\u65b9\u4fbf</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_NORMAL }}<div class="doc-banner-text">\n\u83b7\u53d6\u6587\u6863\uff0c\u4f7f\u7528\u66f4\u65b9\u4fbf</div>\n{{? it.docInfo.isdownloaded == 0 }}<div class="doc-bottom-text warning">\n\u6ce8\uff1a\u7531\u4e8e\u7248\u6743\u8981\u6c42\uff0c\u8d2d\u4e70\u540e\u8be5\u6587\u6863\u4ec5\u652f\u6301\u5728\u7ebf\u9605\u8bfb</div>\n{{?}}{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_DISCOUNT }}<div class="doc-banner-text">\n\u83b7\u53d6\u6587\u6863\uff0c\u4f7f\u7528\u66f4\u65b9\u4fbf</div>\n{{? it.docInfo.isdownloaded == 0 }}<div class="doc-bottom-text warning">\n\u6ce8\uff1a\u7531\u4e8e\u7248\u6743\u8981\u6c42\uff0c\u8d2d\u4e70\u540e\u8be5\u6587\u6863\u4ec5\u652f\u6301\u5728\u7ebf\u9605\u8bfb</div>\n{{?}}{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_PACK }}<div class="doc-banner-text">\n\u83b7\u53d6\u6587\u6863\uff0c\u4f7f\u7528\u66f4\u65b9\u4fbf</div>\n{{? it.docInfo.isdownloaded == 0 }}<div class="doc-bottom-text warning">\n\u6ce8\uff1a\u7531\u4e8e\u7248\u6743\u8981\u6c42\uff0c\u8d2d\u4e70\u540e\u8be5\u6587\u6863\u4ec5\u652f\u6301\u5728\u7ebf\u9605\u8bfb</div>\n{{?}}{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PROFESSIONAL }}<div class="doc-banner-text">\n\u83b7\u53d6\u6587\u6863\uff0c\u4f7f\u7528\u66f4\u65b9\u4fbf</div>\n{{?}}')(n)}},o.exports=c});
;define("wkview:widget/common_toc_reader/common/doc_banner/compAsync/value/value.js",function(i,n,e){var o=i("wkcommon:widget/ui/lib/jquery/jquery.js"),d=i("wkcommon:widget/lib/doT/doT.min.js"),a=i("wkview:widget/common_item/commonUtil/commonUtil.js"),c=function(i,n){o.extend(!0,this.data,i),this.$root=n||o(document)};c.prototype={constructor:c,$root:o(document),data:{userType:0,docValueType:0,docInfo:{},vipInfo:{},wkInfo:{}},bindEvent:function(){return this},makeTemplate:function(){var i="",n=o.extend(!0,{},this.data,a);switch(this.data.userType){case a.USER_TYPE.VIP_JIAOYU:i=d.template('{{? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET }}<div class="doc-banner-value">\n<div><span class="icon-ticket"></span>{{=it.docInfo.docTicket}}\u4e0b\u8f7d\u5238</div>\n{{? +it.docInfo.docTicket > 0}}            {{? it.downloadResource.isWealthEnough || it.downloadResource.isTicketEnough || +it.vipInfo.shareDownloadRights > 0}}            {{??}}<div class="doc-banner-ticket-rights">\n\uff08\u60a8\u6301\u6709<span>0</span>\u4e0b\u8f7d\u7279\u6743\uff0c<span>{{= it.downloadResource.uticket || 0 }}</span>\u4e0b\u8f7d\u5238\uff0c\u79ef\u5206\u4e0d\u8db3\u65e0\u6cd5\u5151\u6362\uff09</div>\n{{?}}        {{?}}</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET_VIP_FREE }}<div class="doc-banner-value">\n<div><span class="icon-ticket"></span>{{=it.docInfo.docTicket}}\u4e0b\u8f7d\u5238</div>\n</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PARTNER_NORMAL }}<div class="doc-banner-value">\n\uffe5{{=((it.docInfo.payPrice || 1) / 100).toFixed(2)}}</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_NORMAL }}<div class="doc-banner-value">\n\uffe5{{=((it.docInfo.payPrice || 1) / 100).toFixed(2)}}</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_DISCOUNT }}<div class="doc-banner-value">\n<span>\uffe5{{=((it.docInfo.vip_price || 1) / 100).toFixed(2)}}</span>\n<span class="line-value">\uffe5{{=((it.docInfo.payPrice || 1) / 100).toFixed(2)}}</span>\n</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_PACK }}<div class="doc-banner-value">\n\uffe5{{=((it.docInfo.payPrice || 1) / 100).toFixed(2)}}</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PROFESSIONAL }}<div class="doc-banner-pro-rights">\n\uff08\u60a8\u6301\u6709<span>{{= it.vipInfo.proDownloadRights || 0 }}</span>VIP\u4e13\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743\uff09</div>\n{{?}}')(n);break;case a.USER_TYPE.VIP_WENKU:i=d.template('{{? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET }}<div class="doc-banner-value">\n<div><span class="icon-ticket"></span>{{=it.docInfo.docTicket}}\u4e0b\u8f7d\u5238</div>\n{{? +it.docInfo.docTicket > 0}}            {{? it.downloadResource.isWealthEnough || it.downloadResource.isTicketEnough || +it.vipInfo.shareDownloadRights > 0}}            {{??}}<div class="doc-banner-ticket-rights">\n\uff08\u60a8\u6301\u6709<span>0</span>\u4e0b\u8f7d\u7279\u6743\uff0c<span>{{= it.downloadResource.uticket || 0 }}</span>\u4e0b\u8f7d\u5238\uff0c\u79ef\u5206\u4e0d\u8db3\u65e0\u6cd5\u5151\u6362\uff09</div>\n{{?}}        {{?}}</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET_VIP_FREE }}<div class="doc-banner-value">\n<div><span class="icon-ticket"></span>{{=it.docInfo.docTicket}}\u4e0b\u8f7d\u5238</div>\n</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PARTNER_NORMAL }}<div class="doc-banner-value">\n\uffe5{{=((it.docInfo.payPrice || 1) / 100).toFixed(2)}}</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_NORMAL }}<div class="doc-banner-value">\n\uffe5{{=((it.docInfo.payPrice || 1) / 100).toFixed(2)}}</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_DISCOUNT }}<div class="doc-banner-value">\n<span>\uffe5{{=((it.docInfo.vip_price || 1) / 100).toFixed(2)}}</span>\n<span class="line-value">\uffe5{{=((it.docInfo.payPrice || 1) / 100).toFixed(2)}}</span>\n</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_PACK }}<div class="doc-banner-value">\n\uffe5{{=((it.docInfo.payPrice || 1) / 100).toFixed(2)}}</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PROFESSIONAL }}<div class="doc-banner-pro-rights">\n\uff08\u60a8\u6301\u6709<span>{{= it.vipInfo.proDownloadRights || 0 }}</span>VIP\u4e13\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743\uff09</div>\n{{?}}')(n);break;case a.USER_TYPE.VIP_CLASSIC:i=d.template('{{? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET }}<div class="doc-banner-value">\n<div><span class="icon-ticket"></span>{{=it.docInfo.docTicket}}\u4e0b\u8f7d\u5238</div>\n{{? +it.docInfo.docTicket > 0}}            {{? it.downloadResource.isWealthEnough || it.downloadResource.isTicketEnough || +it.vipInfo.shareDownloadRights > 0}}            {{??}}<div class="doc-banner-ticket-rights">\n\uff08\u60a8\u6301\u6709<span>0</span>\u4e0b\u8f7d\u7279\u6743\uff0c<span>{{= it.downloadResource.uticket || 0 }}</span>\u4e0b\u8f7d\u5238\uff0c\u79ef\u5206\u4e0d\u8db3\u65e0\u6cd5\u5151\u6362\uff09</div>\n{{?}}        {{?}}</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET_VIP_FREE }}<div class="doc-banner-value">\n<div><span class="icon-ticket"></span>{{=it.docInfo.docTicket}}\u4e0b\u8f7d\u5238</div>\n</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PARTNER_NORMAL }}<div class="doc-banner-value">\n\uffe5{{=((it.docInfo.payPrice || 1) / 100).toFixed(2)}}</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_NORMAL }}<div class="doc-banner-value">\n\uffe5{{=((it.docInfo.payPrice || 1) / 100).toFixed(2)}}</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_DISCOUNT }}<div class="doc-banner-value">\n<span>\uffe5{{=((it.docInfo.vip_price || 1) / 100).toFixed(2)}}</span>\n<span class="line-value">\uffe5{{=((it.docInfo.payPrice || 1) / 100).toFixed(2)}}</span>\n</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_PACK }}<div class="doc-banner-value">\n\uffe5{{=((it.docInfo.payPrice || 1) / 100).toFixed(2)}}</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PROFESSIONAL }}<div class="doc-banner-pro-rights">\n\uff08\u60a8\u6301\u6709<span>{{= it.vipInfo.proDownloadRights || 0 }}</span>VIP\u4e13\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743\uff09</div>\n{{?}}')(n);break;case a.USER_TYPE.LOGIN_NOT_VIP:i=d.template('{{? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET }}    {{? +it.docInfo.docTicket === 0}}<div class="doc-banner-value">\n<div><span class="icon-ticket"></span>{{=it.docInfo.docTicket}}\u4e0b\u8f7d\u5238</div>\n</div>\n{{??}}        {{? it.downloadResource.isWealthEnough || it.downloadResource.isTicketEnough }}<div class="doc-banner-value">\n<div><span class="icon-ticket"></span>{{=it.docInfo.docTicket}}\u4e0b\u8f7d\u5238</div>\n</div>\n{{??}}<div class="doc-banner-value">\n<div><span class="icon-ticket"></span>{{=it.docInfo.docTicket}}\u4e0b\u8f7d\u5238</div>\n<div class="doc-banner-ticket-rights">\n\uff08\u60a8\u6301\u6709<span>{{= it.downloadResource.uticket || 0 }}</span>\u4e0b\u8f7d\u5238\uff0c\u79ef\u5206\u4e0d\u8db3\u65e0\u6cd5\u5151\u6362\uff09</div>\n</div>\n{{?}}    {{?}}{{?? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET_VIP_FREE }}    {{? it.downloadResource.isWealthEnough || it.downloadResource.isTicketEnough }}<div class="doc-banner-value">\n<div><span class="icon-ticket"></span>{{=it.docInfo.docTicket}}\u4e0b\u8f7d\u5238</div>\n</div>\n{{??}}<div class="doc-banner-value">\n<div><span class="icon-ticket"></span>{{=it.docInfo.docTicket}}\u4e0b\u8f7d\u5238</div>\n<div class="doc-banner-ticket-rights">\n\uff08\u60a8\u6301\u6709<span>{{= it.downloadResource.uticket || 0 }}</span>\u4e0b\u8f7d\u5238\uff0c\u79ef\u5206\u4e0d\u8db3\u65e0\u6cd5\u5151\u6362\uff09</div>\n</div>\n{{?}}{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PARTNER_NORMAL }}<div class="doc-banner-value">\n\uffe5{{=((it.docInfo.payPrice || 1) / 100).toFixed(2)}}</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_NORMAL }}<div class="doc-banner-value">\n\uffe5{{=((it.docInfo.payPrice || 1) / 100).toFixed(2)}}</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_DISCOUNT }}<div class="doc-banner-value">\n\uffe5{{=((it.docInfo.payPrice || 1) / 100).toFixed(2)}}</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_PACK }}<div class="doc-banner-value">\n\uffe5{{=((it.docInfo.payPrice || 1) / 100).toFixed(2)}}</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PROFESSIONAL }}{{?}}')(n);break;case a.USER_TYPE.NOT_LOGIN:i=d.template('{{? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET }}<div class="doc-banner-value">\n<div><span class="icon-ticket"></span>{{=it.docInfo.docTicket}}\u4e0b\u8f7d\u5238</div>\n</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET_VIP_FREE }}<div class="doc-banner-value">\n<div><span class="icon-ticket"></span>{{=it.docInfo.docTicket}}\u4e0b\u8f7d\u5238</div>\n</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PARTNER_NORMAL }}<div class="doc-banner-value">\n\uffe5{{=((it.docInfo.payPrice || 1) / 100).toFixed(2)}}</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_NORMAL }}<div class="doc-banner-value">\n\uffe5{{=((it.docInfo.payPrice || 1) / 100).toFixed(2)}}</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_DISCOUNT }}<div class="doc-banner-value">\n\uffe5{{=((it.docInfo.payPrice || 1) / 100).toFixed(2)}}</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_PACK }}<div class="doc-banner-value">\n\uffe5{{=((it.docInfo.payPrice || 1) / 100).toFixed(2)}}</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PROFESSIONAL }}{{?}}')(n);break;case a.USER_TYPE.VIP_WENKUEDU:i=d.template('{{? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET }}<div class="doc-banner-value">\n<div><span class="icon-ticket"></span>{{=it.docInfo.docTicket}}\u4e0b\u8f7d\u5238</div>\n{{? +it.docInfo.docTicket > 0}}            {{? it.downloadResource.isWealthEnough || it.downloadResource.isTicketEnough || +it.vipInfo.shareDownloadRights > 0}}            {{??}}<div class="doc-banner-ticket-rights">\n\uff08\u60a8\u6301\u6709<span>0</span>\u4e0b\u8f7d\u7279\u6743\uff0c<span>{{= it.downloadResource.uticket || 0 }}</span>\u4e0b\u8f7d\u5238\uff0c\u79ef\u5206\u4e0d\u8db3\u65e0\u6cd5\u5151\u6362\uff09</div>\n{{?}}        {{?}}</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET_VIP_FREE }}<div class="doc-banner-value">\n<div><span class="icon-ticket"></span>{{=it.docInfo.docTicket}}\u4e0b\u8f7d\u5238</div>\n</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PARTNER_NORMAL }}<div class="doc-banner-value">\n\uffe5{{=((it.docInfo.payPrice || 1) / 100).toFixed(2)}}</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_NORMAL }}<div class="doc-banner-value">\n\uffe5{{=((it.docInfo.payPrice || 1) / 100).toFixed(2)}}</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_DISCOUNT }}<div class="doc-banner-value">\n<span>\uffe5{{=((it.docInfo.vip_price || 1) / 100).toFixed(2)}}</span>\n<span class="line-value">\uffe5{{=((it.docInfo.payPrice || 1) / 100).toFixed(2)}}</span>\n</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_PACK }}<div class="doc-banner-value">\n\uffe5{{=((it.docInfo.payPrice || 1) / 100).toFixed(2)}}</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PROFESSIONAL }}<div class="doc-banner-pro-rights">\n\uff08\u60a8\u6301\u6709<span>{{= it.vipInfo.proDownloadRights || 0 }}</span>VIP\u4e13\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743\uff09</div>\n{{?}}')(n)}return i}},e.exports=c});
;define("wkview:widget/common_toc_reader/common/doc_banner/compAsync/tip/tip.js",function(n,i,a){var o=n("wkcommon:widget/ui/lib/jquery/jquery.js"),t=n("wkcommon:widget/lib/doT/doT.min.js"),e=n("wkview:widget/common_item/commonUtil/commonUtil.js"),d=n("wkcommon:widget/lib/fis/data/data.js"),l=(d.get("WkInfo")||{},function(n,i){o.extend(!0,this.data,n),this.$root=i||o(document)});l.prototype={constructor:l,$root:o(document),data:{userType:0,docValueType:0,docInfo:{},vipInfo:{},renewalVipInfo:{},wkInfo:{}},bindEvent:function(){return this},makeTemplate:function(){var n="",i=o.extend(!0,{},this.data,e),a=i.renewalVipInfo||{};switch(this.data.userType){case e.USER_TYPE.VIP_JIAOYU:+a.pro_download_ticket_total>1&&+a.normal_download_ticket_total>1&&a.jiaoyu_vip_info.pro_download_ticket+a.jiaoyu_vip_info.normal_download_ticket<=0&&(i.isWenkuVipRenew=!0),n=t.template('{{? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET }}<div class="doc-banner-tip super-vip">\n<div class="doc-banner-rights-wrap">\n<span class="icon-triangle"></span>\n<div class="{{? it.isWenkuVipRenew}}renew-vip{{??}}renew-vip-jiaoyu{{?}}">\n<i></i>\n{{? +it.renewalVipInfo.pro_download_ticket_total<= 1 && +it.renewalVipInfo.normal_download_ticket_total >1 }}                \u9650\u65f6\u7eed\u8d39\u8d60VIP\u4e13\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743<span class="red">4</span>\u4e2a                {{?? +it.renewalVipInfo.pro_download_ticket_total > 1 && +it.renewalVipInfo.normal_download_ticket_total<= 1 }}\n                \u9650\u65f6\u7eed\u8d39\u8d60\u5171\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743<span class="red">12</span>\u4e2a                {{?? +it.renewalVipInfo.pro_download_ticket_total<= 1 && +it.renewalVipInfo.normal_download_ticket_total <= 1 }}\n                \u9650\u65f6\u7eed\u8d39\u8d60\u4e24\u79cd\u4e0b\u8f7d\u7279\u6743<span class="red">\u54048</span>\u4e2a                {{??}}                    {{? (+it.renewalVipInfo.jiaoyu_vip_info.pro_download_ticket + +it.renewalVipInfo.jiaoyu_vip_info.normal_download_ticket) > 0}}                    \u9650\u65f6\u7eed\u8d39\u5269\u4f59<span class="red">{{=(+it.renewalVipInfo.jiaoyu_vip_info.pro_download_ticket + +it.renewalVipInfo.jiaoyu_vip_info.normal_download_ticket)}}</span>\u4e2a\u4e0b\u8f7d\u7279\u6743 \u5ef6\u65f6<span class="red">30</span>\u5929                    {{??}}                    \u9650\u65f6{{? it.renewalVipInfo.vip_info.flag === 1}}\u7eed\u8d39{{??}}\u5347\u7ea7{{?}}\u5269\u4f59<span class="red">{{=(+it.renewalVipInfo.vip_info.pro_download_ticket + +it.renewalVipInfo.vip_info.normal_download_ticket)}}</span>\u4e2a\u4e0b\u8f7d\u7279\u6743\u5ef6\u65f6<span class="red">30</span>\u5929                    {{?}}                {{?}}</div>\n</div>\n</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET_VIP_FREE }}<div class="doc-banner-tip super-vip">\n<div class="doc-banner-rights-wrap">\n<span class="icon-triangle"></span>\n<div class="{{? it.isWenkuVipRenew}}renew-vip{{??}}renew-vip-jiaoyu{{?}}">\n<i></i>\n{{? +it.renewalVipInfo.pro_download_ticket_total<= 1 && +it.renewalVipInfo.normal_download_ticket_total >1 }}                \u9650\u65f6\u7eed\u8d39\u8d60VIP\u4e13\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743<span class="red">4</span>\u4e2a                {{?? +it.renewalVipInfo.pro_download_ticket_total > 1 && +it.renewalVipInfo.normal_download_ticket_total<= 1 }}\n                \u9650\u65f6\u7eed\u8d39\u8d60\u5171\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743<span class="red">12</span>\u4e2a                {{?? +it.renewalVipInfo.pro_download_ticket_total<= 1 && +it.renewalVipInfo.normal_download_ticket_total <= 1 }}\n                \u9650\u65f6\u7eed\u8d39\u8d60\u4e24\u79cd\u4e0b\u8f7d\u7279\u6743<span class="red">\u54048</span>\u4e2a                {{??}}                    {{? (+it.renewalVipInfo.jiaoyu_vip_info.pro_download_ticket + +it.renewalVipInfo.jiaoyu_vip_info.normal_download_ticket) > 0}}                    \u9650\u65f6\u7eed\u8d39\u5269\u4f59<span class="red">{{=(+it.renewalVipInfo.jiaoyu_vip_info.pro_download_ticket + +it.renewalVipInfo.jiaoyu_vip_info.normal_download_ticket)}}</span>\u4e2a\u4e0b\u8f7d\u7279\u6743 \u5ef6\u65f6<span class="red">30</span>\u5929                    {{??}}                    \u9650\u65f6{{? it.renewalVipInfo.vip_info.flag === 1}}\u7eed\u8d39{{??}}\u5347\u7ea7{{?}}\u5269\u4f59<span class="red">{{=(+it.renewalVipInfo.vip_info.pro_download_ticket + +it.renewalVipInfo.vip_info.normal_download_ticket)}}</span>\u4e2a\u4e0b\u8f7d\u7279\u6743\u5ef6\u65f6<span class="red">30</span>\u5929                    {{?}}                {{?}}</div>\n</div>\n</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PARTNER_NORMAL }}{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_NORMAL }}{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_DISCOUNT }}<div class="doc-banner-tip super-vip">\n<div class="doc-banner-rights-wrap">\n<span class="icon-triangle"></span>\n<div class="{{? it.isWenkuVipRenew}}renew-vip{{??}}renew-vip-jiaoyu{{?}}">\n<i></i>\n{{? +it.renewalVipInfo.pro_download_ticket_total<= 1 && +it.renewalVipInfo.normal_download_ticket_total >1 }}                \u9650\u65f6\u7eed\u8d39\u8d60VIP\u4e13\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743<span class="red">4</span>\u4e2a                {{?? +it.renewalVipInfo.pro_download_ticket_total > 1 && +it.renewalVipInfo.normal_download_ticket_total<= 1 }}\n                \u9650\u65f6\u7eed\u8d39\u8d60\u5171\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743<span class="red">12</span>\u4e2a                {{?? +it.renewalVipInfo.pro_download_ticket_total<= 1 && +it.renewalVipInfo.normal_download_ticket_total <= 1 }}\n                \u9650\u65f6\u7eed\u8d39\u8d60\u4e24\u79cd\u4e0b\u8f7d\u7279\u6743<span class="red">\u54048</span>\u4e2a                {{??}}                    {{? (+it.renewalVipInfo.jiaoyu_vip_info.pro_download_ticket + +it.renewalVipInfo.jiaoyu_vip_info.normal_download_ticket) > 0}}                    \u9650\u65f6\u7eed\u8d39\u5269\u4f59<span class="red">{{=(+it.renewalVipInfo.jiaoyu_vip_info.pro_download_ticket + +it.renewalVipInfo.jiaoyu_vip_info.normal_download_ticket)}}</span>\u4e2a\u4e0b\u8f7d\u7279\u6743 \u5ef6\u65f6<span class="red">30</span>\u5929                    {{??}}                    \u9650\u65f6{{? it.renewalVipInfo.vip_info.flag === 1}}\u7eed\u8d39{{??}}\u5347\u7ea7{{?}}\u5269\u4f59<span class="red">{{=(+it.renewalVipInfo.vip_info.pro_download_ticket + +it.renewalVipInfo.vip_info.normal_download_ticket)}}</span>\u4e2a\u4e0b\u8f7d\u7279\u6743\u5ef6\u65f6<span class="red">30</span>\u5929                    {{?}}                {{?}}</div>\n</div>\n</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_PACK }}{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PROFESSIONAL }}<div class="doc-banner-tip super-vip">\n<div class="doc-banner-rights-wrap">\n<span class="icon-triangle"></span>\n<div class="{{? it.isWenkuVipRenew}}renew-vip{{??}}renew-vip-jiaoyu{{?}}">\n<i></i>\n{{? +it.renewalVipInfo.pro_download_ticket_total<= 1 && +it.renewalVipInfo.normal_download_ticket_total >1 }}                \u9650\u65f6\u7eed\u8d39\u8d60VIP\u4e13\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743<span class="red">4</span>\u4e2a                {{?? +it.renewalVipInfo.pro_download_ticket_total > 1 && +it.renewalVipInfo.normal_download_ticket_total<= 1 }}\n                \u9650\u65f6\u7eed\u8d39\u8d60\u5171\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743<span class="red">12</span>\u4e2a                {{?? +it.renewalVipInfo.pro_download_ticket_total<= 1 && +it.renewalVipInfo.normal_download_ticket_total <= 1 }}\n                \u9650\u65f6\u7eed\u8d39\u8d60\u4e24\u79cd\u4e0b\u8f7d\u7279\u6743<span class="red">\u54048</span>\u4e2a                {{??}}                    {{? (+it.renewalVipInfo.jiaoyu_vip_info.pro_download_ticket + +it.renewalVipInfo.jiaoyu_vip_info.normal_download_ticket) > 0}}                    \u9650\u65f6\u7eed\u8d39\u5269\u4f59<span class="red">{{=(+it.renewalVipInfo.jiaoyu_vip_info.pro_download_ticket + +it.renewalVipInfo.jiaoyu_vip_info.normal_download_ticket)}}</span>\u4e2a\u4e0b\u8f7d\u7279\u6743 \u5ef6\u65f6<span class="red">30</span>\u5929                    {{??}}                    \u9650\u65f6{{? it.renewalVipInfo.vip_info.flag === 1}}\u7eed\u8d39{{??}}\u5347\u7ea7{{?}}\u5269\u4f59<span class="red">{{=(+it.renewalVipInfo.vip_info.pro_download_ticket + +it.renewalVipInfo.vip_info.normal_download_ticket)}}</span>\u4e2a\u4e0b\u8f7d\u7279\u6743\u5ef6\u65f6<span class="red">30</span>\u5929                    {{?}}                {{?}}</div>\n</div>\n</div>\n{{?}}')(i);break;case e.USER_TYPE.VIP_WENKU:n=t.template('{{? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET }}<div class="doc-banner-tip super-vip">\n<div class="doc-banner-rights-wrap">\n<span class="icon-triangle"></span>\n<div class="renew-vip">\n<i></i>\n{{? +it.renewalVipInfo.pro_download_ticket_total<= 1 && +it.renewalVipInfo.normal_download_ticket_total >1 }}                \u9650\u65f6\u5347\u7ea7\u8d60VIP\u4e13\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743<span class="red">4</span>\u4e2a                {{?? +it.renewalVipInfo.pro_download_ticket_total > 1 && +it.renewalVipInfo.normal_download_ticket_total<= 1 }}\n                \u9650\u65f6\u5347\u7ea7\u8d60\u5171\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743<span class="red">12</span>\u4e2a                {{?? +it.renewalVipInfo.pro_download_ticket_total<= 1 && +it.renewalVipInfo.normal_download_ticket_total <= 1 }}\n                \u9650\u65f6\u5347\u7ea7\u8d60\u4e24\u79cd\u4e0b\u8f7d\u7279\u6743<span class="red">\u54048</span>\u4e2a                {{??}}                \u9650\u65f6\u5347\u7ea7\u5269\u4f59<span class="red">{{=(+it.renewalVipInfo.vip_info.pro_download_ticket + +it.renewalVipInfo.vip_info.normal_download_ticket)}}</span>\u4e2a\u4e0b\u8f7d\u7279\u6743\u5ef6\u65f6<span class="red">30</span>\u5929                {{?}}</div>\n</div>\n</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET_VIP_FREE }}<div class="doc-banner-tip super-vip">\n<div class="doc-banner-rights-wrap">\n<span class="icon-triangle"></span>\n<div class="renew-vip">\n<i></i>\n{{? +it.renewalVipInfo.pro_download_ticket_total<= 1 && +it.renewalVipInfo.normal_download_ticket_total >1 }}                \u9650\u65f6\u5347\u7ea7\u8d60VIP\u4e13\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743<span class="red">4</span>\u4e2a                {{?? +it.renewalVipInfo.pro_download_ticket_total > 1 && +it.renewalVipInfo.normal_download_ticket_total<= 1 }}\n                \u9650\u65f6\u5347\u7ea7\u8d60\u5171\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743<span class="red">12</span>\u4e2a                {{?? +it.renewalVipInfo.pro_download_ticket_total<= 1 && +it.renewalVipInfo.normal_download_ticket_total <= 1 }}\n                \u9650\u65f6\u5347\u7ea7\u8d60\u4e24\u79cd\u4e0b\u8f7d\u7279\u6743<span class="red">\u54048</span>\u4e2a                {{??}}                \u9650\u65f6\u5347\u7ea7\u5269\u4f59<span class="red">{{=(+it.renewalVipInfo.vip_info.pro_download_ticket + +it.renewalVipInfo.vip_info.normal_download_ticket)}}</span>\u4e2a\u4e0b\u8f7d\u7279\u6743\u5ef6\u65f6<span class="red">30</span>\u5929                {{?}}</div>\n</div>\n</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PARTNER_NORMAL }}{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_NORMAL }}{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_DISCOUNT }}<div class="doc-banner-tip super-vip">\n<div class="doc-banner-rights-wrap">\n<span class="icon-triangle"></span>\n<div class="renew-vip">\n<i></i>\n{{? +it.renewalVipInfo.pro_download_ticket_total<= 1 && +it.renewalVipInfo.normal_download_ticket_total >1 }}                \u9650\u65f6\u5347\u7ea7\u8d60VIP\u4e13\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743<span class="red">4</span>\u4e2a                {{?? +it.renewalVipInfo.pro_download_ticket_total > 1 && +it.renewalVipInfo.normal_download_ticket_total<= 1 }}\n                \u9650\u65f6\u5347\u7ea7\u8d60\u5171\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743<span class="red">12</span>\u4e2a                {{?? +it.renewalVipInfo.pro_download_ticket_total<= 1 && +it.renewalVipInfo.normal_download_ticket_total <= 1 }}\n                \u9650\u65f6\u5347\u7ea7\u8d60\u4e24\u79cd\u4e0b\u8f7d\u7279\u6743<span class="red">\u54048</span>\u4e2a                {{??}}                \u9650\u65f6\u5347\u7ea7\u5269\u4f59<span class="red">{{=(+it.renewalVipInfo.vip_info.pro_download_ticket + +it.renewalVipInfo.vip_info.normal_download_ticket)}}</span>\u4e2a\u4e0b\u8f7d\u7279\u6743\u5ef6\u65f6<span class="red">30</span>\u5929                {{?}}</div>\n</div>\n</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_PACK }}{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PROFESSIONAL }}<div class="doc-banner-tip super-vip">\n<div class="doc-banner-rights-wrap">\n<span class="icon-triangle"></span>\n<div class="renew-vip">\n<i></i>\n{{? +it.renewalVipInfo.pro_download_ticket_total<= 1 && +it.renewalVipInfo.normal_download_ticket_total >1 }}                \u9650\u65f6\u5347\u7ea7\u8d60VIP\u4e13\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743<span class="red">4</span>\u4e2a                {{?? +it.renewalVipInfo.pro_download_ticket_total > 1 && +it.renewalVipInfo.normal_download_ticket_total<= 1 }}\n                \u9650\u65f6\u5347\u7ea7\u8d60\u5171\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743<span class="red">12</span>\u4e2a                {{?? +it.renewalVipInfo.pro_download_ticket_total<= 1 && +it.renewalVipInfo.normal_download_ticket_total <= 1 }}\n                \u9650\u65f6\u5347\u7ea7\u8d60\u4e24\u79cd\u4e0b\u8f7d\u7279\u6743<span class="red">\u54048</span>\u4e2a                {{??}}                \u9650\u65f6\u5347\u7ea7\u5269\u4f59<span class="red">{{=(+it.renewalVipInfo.vip_info.pro_download_ticket + +it.renewalVipInfo.vip_info.normal_download_ticket)}}</span>\u4e2a\u4e0b\u8f7d\u7279\u6743\u5ef6\u65f6<span class="red">30</span>\u5929                {{?}}</div>\n</div>\n</div>\n{{?}}')(i);break;case e.USER_TYPE.VIP_CLASSIC:n=t.template('{{? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET }}<div class="doc-banner-tip super-vip">\n<div class="doc-banner-rights-wrap">\n<span class="icon-triangle"></span>\n<div class="upgrade-vip">\n<i></i>\n{{? +it.renewalVipInfo.pro_download_ticket_total<= 1 && +it.renewalVipInfo.normal_download_ticket_total >1 }}                \u9650\u65f6\u5347\u7ea7\u8d60VIP\u4e13\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743<span class="red">4</span>\u4e2a                {{?? +it.renewalVipInfo.pro_download_ticket_total > 1 && +it.renewalVipInfo.normal_download_ticket_total<= 1 }}\n                \u9650\u65f6\u5347\u7ea7\u8d60\u5171\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743<span class="red">12</span>\u4e2a                {{?? +it.renewalVipInfo.pro_download_ticket_total<= 1 && +it.renewalVipInfo.normal_download_ticket_total <= 1 }}\n                \u9650\u65f6\u5347\u7ea7\u8d60\u4e24\u79cd\u4e0b\u8f7d\u7279\u6743<span class="red">\u54048</span>\u4e2a                {{??}}                \u9650\u65f6\u5347\u7ea7\u5269\u4f59<span class="red">{{=(+it.renewalVipInfo.vip_info.pro_download_ticket + +it.renewalVipInfo.vip_info.normal_download_ticket)}}</span>\u4e2a\u4e0b\u8f7d\u7279\u6743\u5ef6\u65f6<span class="red">30</span>\u5929                {{?}}</div>\n</div>\n</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET_VIP_FREE }}<div class="doc-banner-tip super-vip">\n<div class="doc-banner-rights-wrap">\n<span class="icon-triangle"></span>\n<div class="upgrade-vip">\n<i></i>\n{{? +it.renewalVipInfo.pro_download_ticket_total<= 1 && +it.renewalVipInfo.normal_download_ticket_total >1 }}                \u9650\u65f6\u5347\u7ea7\u8d60VIP\u4e13\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743<span class="red">4</span>\u4e2a                {{?? +it.renewalVipInfo.pro_download_ticket_total > 1 && +it.renewalVipInfo.normal_download_ticket_total<= 1 }}\n                \u9650\u65f6\u5347\u7ea7\u8d60\u5171\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743<span class="red">12</span>\u4e2a                {{?? +it.renewalVipInfo.pro_download_ticket_total<= 1 && +it.renewalVipInfo.normal_download_ticket_total <= 1 }}\n                \u9650\u65f6\u5347\u7ea7\u8d60\u4e24\u79cd\u4e0b\u8f7d\u7279\u6743<span class="red">\u54048</span>\u4e2a                {{??}}                \u9650\u65f6\u5347\u7ea7\u5269\u4f59<span class="red">{{=(+it.renewalVipInfo.vip_info.pro_download_ticket + +it.renewalVipInfo.vip_info.normal_download_ticket)}}</span>\u4e2a\u4e0b\u8f7d\u7279\u6743\u5ef6\u65f6<span class="red">30</span>\u5929                {{?}}</div>\n</div>\n</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PARTNER_NORMAL }}{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_NORMAL }}{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_DISCOUNT }}<div class="doc-banner-tip super-vip">\n<div class="doc-banner-rights-wrap">\n<span class="icon-triangle"></span>\n<div class="upgrade-vip">\n<i></i>\n{{? +it.renewalVipInfo.pro_download_ticket_total<= 1 && +it.renewalVipInfo.normal_download_ticket_total >1 }}                \u9650\u65f6\u5347\u7ea7\u8d60VIP\u4e13\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743<span class="red">4</span>\u4e2a                {{?? +it.renewalVipInfo.pro_download_ticket_total > 1 && +it.renewalVipInfo.normal_download_ticket_total<= 1 }}\n                \u9650\u65f6\u5347\u7ea7\u8d60\u5171\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743<span class="red">12</span>\u4e2a                {{?? +it.renewalVipInfo.pro_download_ticket_total<= 1 && +it.renewalVipInfo.normal_download_ticket_total <= 1 }}\n                \u9650\u65f6\u5347\u7ea7\u8d60\u4e24\u79cd\u4e0b\u8f7d\u7279\u6743<span class="red">\u54048</span>\u4e2a                {{??}}                \u9650\u65f6\u5347\u7ea7\u5269\u4f59<span class="red">{{=(+it.renewalVipInfo.vip_info.pro_download_ticket + +it.renewalVipInfo.vip_info.normal_download_ticket)}}</span>\u4e2a\u4e0b\u8f7d\u7279\u6743\u5ef6\u65f6<span class="red">30</span>\u5929                {{?}}</div>\n</div>\n</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_PACK }}{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PROFESSIONAL }}<div class="doc-banner-tip super-vip">\n<div class="doc-banner-rights-wrap">\n<span class="icon-triangle"></span>\n<div class="download-pro-doc">\n<i></i>\u4eabVIP\u4e13\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743</div>\n<div class="download-share-doc">\n<i></i>\u8d60\u5171\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743</div>\n<div class="yuedu-vip">\n<i></i>\u8d60\u767e\u5ea6\u9605\u8bfbVIP\u7cbe\u54c1\u7248</div>\n</div>\n</div>\n{{?}}')(i);break;case e.USER_TYPE.LOGIN_NOT_VIP:n=t.template('{{? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET }}<div class="doc-banner-tip super-vip">\n<div class="doc-banner-rights-wrap">\n<span class="icon-triangle"></span>\n<div class="download-pro-doc">\n<i></i>\u4eabVIP\u4e13\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743</div>\n<div class="download-share-doc">\n<i></i>\u8d60\u5171\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743</div>\n<div class="yuedu-vip">\n<i></i>\u8d60\u767e\u5ea6\u9605\u8bfbVIP\u7cbe\u54c1\u7248</div>\n</div>\n</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET_VIP_FREE }}<div class="doc-banner-tip super-vip">\n<div class="doc-banner-rights-wrap">\n<span class="icon-triangle"></span>\n<div class="download-pro-doc">\n<i></i>\u4eabVIP\u4e13\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743</div>\n<div class="download-share-doc">\n<i></i>\u8d60\u5171\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743</div>\n<div class="yuedu-vip">\n<i></i>\u8d60\u767e\u5ea6\u9605\u8bfbVIP\u7cbe\u54c1\u7248</div>\n</div>\n</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PARTNER_NORMAL }}{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_NORMAL }}{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_DISCOUNT }}<div class="doc-banner-tip super-vip">\n<div class="doc-banner-rights-wrap">\n<span class="icon-triangle"></span>\n<div class="download-pro-doc">\n<i></i>\u4eabVIP\u4e13\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743</div>\n<div class="download-share-doc">\n<i></i>\u8d60\u5171\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743</div>\n<div class="yuedu-vip">\n<i></i>\u8d60\u767e\u5ea6\u9605\u8bfbVIP\u7cbe\u54c1\u7248</div>\n</div>\n</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_PACK }}<div class="doc-banner-tip super-vip">\n<div class="doc-banner-rights-wrap">\n<span class="icon-triangle"></span>\n<div class="download-pro-doc">\n<i></i>\u4eabVIP\u4e13\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743</div>\n<div class="download-share-doc">\n<i></i>\u8d60\u5171\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743</div>\n<div class="yuedu-vip">\n<i></i>\u8d60\u767e\u5ea6\u9605\u8bfbVIP\u7cbe\u54c1\u7248</div>\n</div>\n</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PROFESSIONAL }}<div class="doc-banner-tip super-vip">\n<div class="doc-banner-rights-wrap">\n<span class="icon-triangle"></span>\n<div class="download-pro-doc">\n<i></i>\u4eabVIP\u4e13\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743</div>\n<div class="download-share-doc">\n<i></i>\u8d60\u5171\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743</div>\n<div class="yuedu-vip">\n<i></i>\u8d60\u767e\u5ea6\u9605\u8bfbVIP\u7cbe\u54c1\u7248</div>\n</div>\n</div>\n{{?}}')(i);break;case e.USER_TYPE.NOT_LOGIN:n=t.template('{{? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET }}<div class="doc-banner-tip super-vip">\n<div class="doc-banner-rights-wrap">\n<span class="icon-triangle"></span>\n<div class="download-pro-doc">\n<i></i>\u4eabVIP\u4e13\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743</div>\n<div class="download-share-doc">\n<i></i>\u8d60\u5171\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743</div>\n<div class="yuedu-vip">\n<i></i>\u8d60\u767e\u5ea6\u9605\u8bfbVIP\u7cbe\u54c1\u7248</div>\n</div>\n</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET_VIP_FREE }}<div class="doc-banner-tip super-vip">\n<div class="doc-banner-rights-wrap">\n<span class="icon-triangle"></span>\n<div class="download-pro-doc">\n<i></i>\u4eabVIP\u4e13\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743</div>\n<div class="download-share-doc">\n<i></i>\u8d60\u5171\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743</div>\n<div class="yuedu-vip">\n<i></i>\u8d60\u767e\u5ea6\u9605\u8bfbVIP\u7cbe\u54c1\u7248</div>\n</div>\n</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PARTNER_NORMAL }}{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_NORMAL }}{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_DISCOUNT }}<div class="doc-banner-tip super-vip">\n<div class="doc-banner-rights-wrap">\n<span class="icon-triangle"></span>\n<div class="download-pro-doc">\n<i></i>\u4eabVIP\u4e13\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743</div>\n<div class="download-share-doc">\n<i></i>\u8d60\u5171\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743</div>\n<div class="yuedu-vip">\n<i></i>\u8d60\u767e\u5ea6\u9605\u8bfbVIP\u7cbe\u54c1\u7248</div>\n</div>\n</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_PACK }}<div class="doc-banner-tip super-vip">\n<div class="doc-banner-rights-wrap">\n<span class="icon-triangle"></span>\n<div class="download-pro-doc">\n<i></i>\u4eabVIP\u4e13\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743</div>\n<div class="download-share-doc">\n<i></i>\u8d60\u5171\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743</div>\n<div class="yuedu-vip">\n<i></i>\u8d60\u767e\u5ea6\u9605\u8bfbVIP\u7cbe\u54c1\u7248</div>\n</div>\n</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PROFESSIONAL }}<div class="doc-banner-tip super-vip">\n<div class="doc-banner-rights-wrap">\n<span class="icon-triangle"></span>\n<div class="download-pro-doc">\n<i></i>\u4eabVIP\u4e13\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743</div>\n<div class="download-share-doc">\n<i></i>\u8d60\u5171\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743</div>\n<div class="yuedu-vip">\n<i></i>\u8d60\u767e\u5ea6\u9605\u8bfbVIP\u7cbe\u54c1\u7248</div>\n</div>\n</div>\n{{?}}')(i);break;case e.USER_TYPE.VIP_WENKUEDU:n=t.template('{{? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET }}<div class="doc-banner-tip super-vip">\n<div class="doc-banner-rights-wrap">\n<span class="icon-triangle"></span>\n<div class="upgrade-vip">\n<i></i>\n{{? +it.renewalVipInfo.pro_download_ticket_total<= 1 && +it.renewalVipInfo.normal_download_ticket_total >1 }}                \u9650\u65f6\u5347\u7ea7\u8d60VIP\u4e13\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743<span class="red">4</span>\u4e2a                {{?? +it.renewalVipInfo.pro_download_ticket_total > 1 && +it.renewalVipInfo.normal_download_ticket_total<= 1 }}\n                \u9650\u65f6\u5347\u7ea7\u8d60\u5171\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743<span class="red">12</span>\u4e2a                {{?? +it.renewalVipInfo.pro_download_ticket_total<= 1 && +it.renewalVipInfo.normal_download_ticket_total <= 1 }}\n                \u9650\u65f6\u5347\u7ea7\u8d60\u4e24\u79cd\u4e0b\u8f7d\u7279\u6743<span class="red">\u54048</span>\u4e2a                {{??}}                \u9650\u65f6\u5347\u7ea7\u5269\u4f59<span class="red">{{=(+it.renewalVipInfo.vip_info.pro_download_ticket + +it.renewalVipInfo.vip_info.normal_download_ticket)}}</span>\u4e2a\u4e0b\u8f7d\u7279\u6743\u5ef6\u65f6<span class="red">30</span>\u5929                {{?}}</div>\n</div>\n</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET_VIP_FREE }}<div class="doc-banner-tip super-vip">\n<div class="doc-banner-rights-wrap">\n<span class="icon-triangle"></span>\n<div class="upgrade-vip">\n<i></i>\n{{? +it.renewalVipInfo.pro_download_ticket_total<= 1 && +it.renewalVipInfo.normal_download_ticket_total >1 }}                \u9650\u65f6\u5347\u7ea7\u8d60VIP\u4e13\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743<span class="red">4</span>\u4e2a                {{?? +it.renewalVipInfo.pro_download_ticket_total > 1 && +it.renewalVipInfo.normal_download_ticket_total<= 1 }}\n                \u9650\u65f6\u5347\u7ea7\u8d60\u5171\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743<span class="red">12</span>\u4e2a                {{?? +it.renewalVipInfo.pro_download_ticket_total<= 1 && +it.renewalVipInfo.normal_download_ticket_total <= 1 }}\n                \u9650\u65f6\u5347\u7ea7\u8d60\u4e24\u79cd\u4e0b\u8f7d\u7279\u6743<span class="red">\u54048</span>\u4e2a                {{??}}                \u9650\u65f6\u5347\u7ea7\u5269\u4f59<span class="red">{{=(+it.renewalVipInfo.vip_info.pro_download_ticket + +it.renewalVipInfo.vip_info.normal_download_ticket)}}</span>\u4e2a\u4e0b\u8f7d\u7279\u6743\u5ef6\u65f6<span class="red">30</span>\u5929                {{?}}</div>\n</div>\n</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PARTNER_NORMAL }}{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_NORMAL }}{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_DISCOUNT }}<div class="doc-banner-tip super-vip">\n<div class="doc-banner-rights-wrap">\n<span class="icon-triangle"></span>\n<div class="upgrade-vip">\n<i></i>\n{{? +it.renewalVipInfo.pro_download_ticket_total<= 1 && +it.renewalVipInfo.normal_download_ticket_total >1 }}                \u9650\u65f6\u5347\u7ea7\u8d60VIP\u4e13\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743<span class="red">4</span>\u4e2a                {{?? +it.renewalVipInfo.pro_download_ticket_total > 1 && +it.renewalVipInfo.normal_download_ticket_total<= 1 }}\n                \u9650\u65f6\u5347\u7ea7\u8d60\u5171\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743<span class="red">12</span>\u4e2a                {{?? +it.renewalVipInfo.pro_download_ticket_total<= 1 && +it.renewalVipInfo.normal_download_ticket_total <= 1 }}\n                \u9650\u65f6\u5347\u7ea7\u8d60\u4e24\u79cd\u4e0b\u8f7d\u7279\u6743<span class="red">\u54048</span>\u4e2a                {{??}}                \u9650\u65f6\u5347\u7ea7\u5269\u4f59<span class="red">{{=(+it.renewalVipInfo.vip_info.pro_download_ticket + +it.renewalVipInfo.vip_info.normal_download_ticket)}}</span>\u4e2a\u4e0b\u8f7d\u7279\u6743\u5ef6\u65f6<span class="red">30</span>\u5929                {{?}}</div>\n</div>\n</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_PACK }}{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PROFESSIONAL }}<div class="doc-banner-tip super-vip">\n<div class="doc-banner-rights-wrap">\n<span class="icon-triangle"></span>\n<div class="download-pro-doc">\n<i></i>\u4eabVIP\u4e13\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743</div>\n<div class="download-share-doc">\n<i></i>\u8d60\u5171\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743</div>\n<div class="yuedu-vip">\n<i></i>\u8d60\u767e\u5ea6\u9605\u8bfbVIP\u7cbe\u54c1\u7248</div>\n</div>\n</div>\n{{?}}')(i)}return n},afterRender:function(){var n=o(".btn-pay-vip",this.$root),i=o(".doc-banner-rights-wrap",this.$root);if(n.length&&i.length){var a=n.position(),t=n.outerWidth(),e=i.position(),d=a.left-e.left+t/2;o(".icon-triangle",this.$root).css({left:d+"px"})}}},a.exports=l});
;define("wkview:widget/common_toc_reader/common/doc_banner/compAsync/index.js",function(e,o,n){var t=e("wkcommon:widget/lib/fis/data/data.js"),i=e("wkview:widget/common_item/commonUtil/commonUtil.js"),c=e("wkview:widget/model/vipData.js"),r=e("wkcommon:widget/ui/js_core/xform/xform.js"),s=e("wkcommon:widget/lib/doT/doT.min.js"),a=e("wkview:widget/common_toc_reader/common/doc_banner/compAsync/text/text.js"),d=e("wkview:widget/common_toc_reader/common/doc_banner/compAsync/value/value.js"),m=e("wkview:widget/common_toc_reader/common/doc_banner/compAsync/btns/btns.js"),w=e("wkview:widget/common_toc_reader/common/doc_banner/compAsync/tip/tip.js"),p=t.get("WkInfo")||{},l=p.DocInfo,f=$(".banner-core-wrap"),b=function(){this.init()};b.prototype={constructor:b,init:function(){c.run($.proxy(this.render,this),$.proxy(this.render,this))},render:function(){var e=window.vipInfo||{},o=e.renewal_vip_info||{},n=window.downloadResource||{};l.isVipFreeDoc=window.isVipFreeDoc;var t=i.calculateUserType(e),c=i.calcualteDocValueType(l),b={userType:t,docValueType:c,docInfo:l,vipInfo:e,renewalVipInfo:o,wkInfo:p,downloadResource:n},g=[new a(b,f),new d(b,f),new m(b,f),new w(b,f)],u=[];if($(g).each(function(){this.bindEvent(),u.push(this.makeTemplate())}),f.html(u.join("")),$(g).each(function(){$.isFunction(this.afterRender)&&this.afterRender()}),l&&!l.ispaied&&"1"===l.isOrgDoc&&t!==i.USER_TYPE.NOT_LOGIN){var _,v,T=l.createUserId,h=!1,k={},x=new Date;r.getJSON("org_buybtn_control",{success:function(e){if(e.orgs)for(var o=0;o<e.orgs.length;o++)if(_=new Date(e.orgs[o].startTime),v=new Date(e.orgs[o].endTime),e.orgs[o].orgId===T&&x>_&&v>x){h=!0,k.btnTxtTop=e.orgs[o].text1,k.btnTxtBottom=e.orgs[o].text2;break}if(h&&$(".doc-banner-btns").length>0){var n=s.template('<div class="btn-download-disable">\n{{=it.btnTxtTop}}, {{=it.btnTxtBottom}}</div>')(k);$(".doc-banner-btns").html(n)}}})}}},n.exports=b});
;define("wkview:widget/common_toc_reader/common/doc_banner/index.js",function(e,n,t){var o=e("wkcommon:widget/lib/tangram/base/base.js"),r=e("wkcommon:widget/ui/lib/jquery/jquery.js"),i=e("wkcommon:widget/ui/js_core/log/log.js"),d=e("wkcommon:widget/ui/js_core/login/login.js"),a=e("wkcommon:widget/lib/fis/data/data.js"),l=e("wkview:widget/ui/detectImgBlock/detectImgBlock.js"),c=a.get("WkInfo")||{},s=c.DocInfo||{},g=function(e){r.extend(!0,this.options,e),this.bindEvent().render().addLog()};g.prototype={constructor:g,options:{},bindEvent:function(){var e=this.options,n=e.id,t=o.dom.g("html-reader-banner-"+n);t&&(r("body").on("click",".banner-block",function(e){var n=r(".banner-block").attr("data-url");n&&"a"!==e.target.nodeName.toLowerCase()&&window.open(n,"_blank")}),o.lang.eventCenter.addEventListener("Reader.zoomChange",function(){setTimeout(function(){o.browser.ie&&(t.style.position="static",t.style.position="relative")},100)}));var c=0,g=0;return r(".hidden-doc-banner").hide(),r("body").on("click",".btn-buy-rightnow",function(){var e=a.get("WkInfo"),n=e.PageInfo.isLogin;n?window.location.href="/org/browse/report?fr=btn&cashier_code=buy_report_doc&id="+s.docId:d.login.verlogin(function(){})}),r("body").on("click",".goBtn",function(){window.BCat&&window.BCat.miaowu(),c=1,r(".hidden-doc-banner").show(),r(window).trigger("show.hiddenDocBanner"),r(".more-btn-banner").hide(),r("#doc_bottom_wrap").show(),o.lang.eventCenter.dispatchEvent("Reader.initZoom",{}),g&&r(".reader-fullScreen").trigger("click");var e="";(r(".newTools").length>0||r(".flowPPt").length>0)&&(e="newtools"),i.xsend(1,100582,{pcViewChange:e}),r(window).trigger("doc:clickShowAll"),r("#html-reader-AD-3t4").length>0&&(l.requestBlock(),l.domBlock(r("#html-reader-AD-3t4"))),r("#html-reader-AD-4t5").length>0&&(l.requestBlock(),l.domBlock(r("#html-reader-AD-4t5")))}),o.lang.eventCenter.addEventListener("Reader.zoomChange",function(e,n){n.noNeedZoomChange||r(".more-btn-banner").length&&1===c&&setTimeout(function(){o.lang.eventCenter.dispatchEvent("readMoreBtn.after")},500)}),o.lang.eventCenter.addEventListener("InFullScreen.after",function(){g=1}),o.lang.eventCenter.addEventListener("OutFullScreen.after",function(){g=0}),this},render:function(){var e=this.options,n=e.id,t=window.reader,d=function(){if(t=window.reader,!t)return void setTimeout(d,200);var e=o.dom.g("html-reader-banner-"+n);e&&t.insert(e,1);var r=o.dom.g("html-reader-AD-5");r&&t.insert(r,2);var a=o.dom.g("html-reader-AD-3t4");a&&t.insert(a,3);var l=o.dom.g("html-reader-AD-4t5");l&&t.insert(l,4);var c=o.dom.g("html-reader-AD-5t6");c&&t.insert(c,5);var s=o.dom.g("html-reader-go-more");s&&(t.insert(s,3),i.xsend(1,100581))};return t?r(d):o.lang.eventCenter.addEventListener("ReaderCreate.after",d),this},addLog:function(){"ppt"===s.player?o.lang.eventCenter.addEventListener("FlowPPT.firstRender",this.addElViewLog):o.lang.eventCenter.addEventListener("Reader.firstRender",this.addElViewLog)},addElViewLog:function(){var e=r("#html-reader-go-more");if(0!==e.length){var n=r(window).height(),t=!1;r(window).scroll(function(){var o=r(window).scrollTop(),d=e.offset().top;t||o>=d-n&&(i.xsend(1,102080),t=!0)})}}},t.exports=g});
;define("wkview:widget/common_toc_reader/common/doc_bottom/compAsync/btns/handlePayVip.js",function(a,e,o){var i=a("wkview:widget/common_item/commonUtil/commonUtil.js"),t=function(){};t.prototype={constructor:t,data:{userType:0,docValueType:0,docInfo:{},vipInfo:{},wkInfo:{}},trigger:function(a){$.extend(!0,this.data,a);var e={doc_id:this.data.docInfo.docId};switch(a.userType){case i.USER_TYPE.VIP_JIAOYU:this.handlePayVipJiaoyu(e);break;case i.USER_TYPE.VIP_WENKU:this.handlePayVipWenku(e);break;case i.USER_TYPE.VIP_CLASSIC:this.handlePayVipClassic(e);break;case i.USER_TYPE.LOGIN_NOT_VIP:this.handlePayLoginNotVip(e);break;case i.USER_TYPE.NOT_LOGIN:this.handlePayNotLogin(e);break;case i.USER_TYPE.VIP_WENKUEDU:this.handlePayVipWenkuedu(e)}},getCashierCode:function(a){return this.data.docValueType===+i.DOC_VALUE_TYPE.PROFESSIONAL?"ViewproDownloadTry":a},handlePayVipJiaoyu:function(a){var e=this.data.docInfo||{},o=this.data.downloadResource||{},t=this.data.vipInfo||{},_=this.data.renewalVipInfo||{},s="/cashier/browse/jiaoyuvipcashier",c="view_bottom_xfjy";switch(+_.pro_download_ticket_total>1&&+_.normal_download_ticket_total>1?(c+="_fortime",_.jiaoyu_vip_info.pro_download_ticket+_.jiaoyu_vip_info.normal_download_ticket<=0&&(s="/cashier/browse/dispatch")):c+="_forprivilege",this.data.docValueType){case i.DOC_VALUE_TYPE.TICKET:e.docTicket>0&&!(o.isWealthEnough||o.isTicketEnough||+t.shareDownloadRights>0)&&(c="view_bottom_special");break;case i.DOC_VALUE_TYPE.TICKET_VIP_FREE:break;case i.DOC_VALUE_TYPE.PARTNER_NORMAL:break;case i.DOC_VALUE_TYPE.PAY_NORMAL:break;case i.DOC_VALUE_TYPE.PAY_DISCOUNT:break;case i.DOC_VALUE_TYPE.PAY_PACK:break;case i.DOC_VALUE_TYPE.PROFESSIONAL:+t.proDownloadRights>0||(c="view_bottom_special")}c=this.getCashierCode(c),i.gotoCashier(s,c,a)},handlePayVipWenku:function(a){var e=this.data.docInfo||{},o=this.data.downloadResource||{},t=this.data.vipInfo||{},_=this.data.renewalVipInfo||{},s="/cashier/browse/dispatch",c="view_bottom_xfwk";switch(c+=+_.pro_download_ticket_total>1&&+_.normal_download_ticket_total>1?"_fortime":"_forprivilege",this.data.docValueType){case i.DOC_VALUE_TYPE.TICKET:e.docTicket>0&&!(o.isWealthEnough||o.isTicketEnough||+t.shareDownloadRights>0)&&(c="view_bottom_special");break;case i.DOC_VALUE_TYPE.TICKET_VIP_FREE:break;case i.DOC_VALUE_TYPE.PARTNER_NORMAL:break;case i.DOC_VALUE_TYPE.PAY_NORMAL:break;case i.DOC_VALUE_TYPE.PAY_DISCOUNT:break;case i.DOC_VALUE_TYPE.PAY_PACK:break;case i.DOC_VALUE_TYPE.PROFESSIONAL:+t.proDownloadRights>0||(c="view_bottom_special")}c=this.getCashierCode(c),i.gotoCashier(s,c,a)},handlePayVipClassic:function(a){var e=this.data.docInfo||{},o=this.data.downloadResource||{},t=this.data.vipInfo||{},_=this.data.renewalVipInfo||{},s="/cashier/browse/dispatch",c="view_bottom_jdsj";switch(c+=+_.pro_download_ticket_total>1&&+_.normal_download_ticket_total>1?"_fortime":"_forprivilege",this.data.docValueType){case i.DOC_VALUE_TYPE.TICKET:e.docTicket>0&&!(o.isWealthEnough||o.isTicketEnough||+t.shareDownloadRights>0)&&(c="view_bottom_special");break;case i.DOC_VALUE_TYPE.TICKET_VIP_FREE:break;case i.DOC_VALUE_TYPE.PARTNER_NORMAL:break;case i.DOC_VALUE_TYPE.PAY_NORMAL:break;case i.DOC_VALUE_TYPE.PAY_DISCOUNT:break;case i.DOC_VALUE_TYPE.PAY_PACK:break;case i.DOC_VALUE_TYPE.PROFESSIONAL:+t.proDownloadRights>0||(c="view_bottom_special")}c=this.getCashierCode(c),i.gotoCashier(s,c,a)},handlePayLoginNotVip:function(a){var e=this.data.docInfo||{},o=this.data.downloadResource||{},t="/cashier/browse/dispatch",_="";switch(_="view_bottom_joinVIP",this.data.docValueType){case i.DOC_VALUE_TYPE.TICKET:e.docTicket>0&&!o.isWealthEnough&&!o.isTicketEnough&&(_="view_bottom_special");break;case i.DOC_VALUE_TYPE.TICKET_VIP_FREE:o.isWealthEnough||o.isTicketEnough||(_="view_bottom_special");break;case i.DOC_VALUE_TYPE.PARTNER_NORMAL:break;case i.DOC_VALUE_TYPE.PAY_NORMAL:break;case i.DOC_VALUE_TYPE.PAY_DISCOUNT:break;case i.DOC_VALUE_TYPE.PAY_PACK:e.ispaied||(t='/cashier/browse/vipwithdoccashier?doc_ids=["'+e.docId+'"]');break;case i.DOC_VALUE_TYPE.PROFESSIONAL:}_=this.getCashierCode(_),i.gotoCashier(t,_,a)},handlePayNotLogin:function(a){var e=this.data.docInfo||{},o="/cashier/browse/dispatch",t="";switch(t="view_bottom_joinVIP",this.data.docValueType){case i.DOC_VALUE_TYPE.PAY_PACK:o='/cashier/browse/vipwithdoccashier?doc_ids=["'+e.docId+'"]'}t=this.getCashierCode(t),i.gotoCashier(o,t,a)},handlePayVipWenkuedu:function(a){var e="/cashier/browse/dispatch",o="view_bottom_jdsj";o=this.getCashierCode(o),i.gotoCashier(e,o,a)}},o.exports=new t});
;define("wkview:widget/common_toc_reader/common/doc_bottom/compAsync/btns/btns.js",function(i,d,n){var o,t,a=i("wkcommon:widget/ui/lib/jquery/jquery.js"),s=i("wkcommon:widget/lib/doT/doT.min.js"),v=i("wkcommon:widget/ui/js_core/log/log.js"),c=i("wkview:widget/common_item/commonUtil/commonUtil.js"),e=i("wkcommon:widget/ui/js_core/_dialog/_dialog.js").alert,l=i("wkcommon:widget/ui/js_core/login/login.js").login,p=i("wkview:widget/ui/view/pay_org_vip/pay_org_vip.js"),_=i("wkview:widget/doc_download_main/doc_download_main.js"),P=i("wkview:widget/doc_download_main/doc_download_pro.js").downDoc,V=i("wkview:widget/common_toc_reader/common/doc_bottom/compAsync/btns/handlePayVip.js"),I=function(i,d){a.extend(!0,this.data,i),this.$root=d||a(document)};I.prototype={constructor:I,$root:a(document),data:{userType:0,docValueType:0,docInfo:{},vipInfo:{},wkInfo:{}},bindEvent:function(){return this.$root.on("click",".btn-download",a.proxy(this.handleDownload,this)).on("click",".btn-pay-vip",a.proxy(this.handlePayVip,this)).on("click",".btn-pay-doc",a.proxy(this.handlePayDoc,this)),this},makeTemplate:function(){var i="",d=a.extend(!0,{},this.data,c);switch(this.data.userType){case c.USER_TYPE.VIP_JIAOYU:i=s.template('<div class="doc-bottom-btns super-vip">\n{{? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET }}        {{? +it.docInfo.docTicket === 0}}<div class="btn-download">\n<i></i>\u4e0b\u8f7d</div>\n<div class="btn-pay-vip">\n<i></i>\u7eed\u8d39VIP</div>\n{{??}}                    {{? it.downloadResource.isWealthEnough || it.downloadResource.isTicketEnough || +it.vipInfo.shareDownloadRights > 0}}<div class="btn-download">\n<i></i>VIP\u514d\u5238\u4e0b\u8f7d</div>\n<div class="btn-pay-vip">\n<i></i>\u7eed\u8d39VIP</div>\n{{??}}<div class="btn-pay-vip">\n<i></i>\u7eed\u8d39VIP\u514d\u5238\u4e0b\u8f7d</div>\n{{?}}        {{?}}    {{?? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET_VIP_FREE }}<div class="btn-download">\n<i></i>VIP\u514d\u8d39\u4e0b\u8f7d</div>\n<div class="btn-pay-vip">\n<i></i>\u7eed\u8d39VIP</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PARTNER_NORMAL }}        {{? it.docInfo.ispaied}}<div class="btn-download">\n<i></i>\u4e0b\u8f7d</div>\n{{??}}<div class="btn-pay-doc">\n<i></i>\u8d2d\u4e70</div>\n{{?}}    {{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_NORMAL }}        {{? it.docInfo.ispaied}}<div class="btn-download">\n<i></i>\u4e0b\u8f7d</div>\n{{??}}<div class="btn-pay-doc">\n<i></i>\u8d2d\u4e70</div>\n{{?}}    {{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_DISCOUNT }}        {{? it.docInfo.ispaied}}<div class="btn-download">\n<i></i>\u4e0b\u8f7d</div>\n{{??}}<div class="btn-pay-doc">\n<i></i>VIP 8\u6298\u8d2d\u4e70</div>\n{{?}}<div class="btn-pay-vip">\n<i></i>\u7eed\u8d39VIP</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_PACK }}        {{? it.docInfo.ispaied}}<div class="btn-download">\n<i></i>\u4e0b\u8f7d</div>\n{{??}}<div class="btn-pay-doc">\n<i></i>\u8d2d\u4e70</div>\n{{?}}    {{?? +it.docValueType === +it.DOC_VALUE_TYPE.PROFESSIONAL }}        {{? +it.vipInfo.proDownloadRights > 0}}<div class="btn-download">\n<i></i>VIP\u4e13\u4eab\u4e0b\u8f7d</div>\n<div class="btn-pay-vip btn-pay-vip-pro-doc">\n<i></i>\u7eed\u8d39VIP</div>\n{{??}}<div class="btn-pay-vip btn-pay-vip-pro-doc">\n<i></i>\u7eed\u8d39VIP</div>\n{{?}}    {{?}}</div>')(d);break;case c.USER_TYPE.VIP_WENKU:i=s.template('<div class="doc-bottom-btns super-vip">\n{{? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET }}        {{? +it.docInfo.docTicket === 0}}<div class="btn-download">\n<i></i>\u4e0b\u8f7d</div>\n<div class="btn-pay-vip">\n<i></i>\u5347\u7ea7VIP</div>\n{{??}}                    {{? it.downloadResource.isWealthEnough || it.downloadResource.isTicketEnough || +it.vipInfo.shareDownloadRights > 0}}<div class="btn-download">\n<i></i>VIP\u514d\u5238\u4e0b\u8f7d</div>\n<div class="btn-pay-vip">\n<i></i>\u5347\u7ea7VIP</div>\n{{??}}<div class="btn-pay-vip">\n<i></i>\u5347\u7ea7VIP\u514d\u5238\u4e0b\u8f7d</div>\n{{?}}        {{?}}    {{?? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET_VIP_FREE }}<div class="btn-download">\n<i></i>VIP\u514d\u8d39\u4e0b\u8f7d</div>\n<div class="btn-pay-vip">\n<i></i>\u5347\u7ea7VIP</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PARTNER_NORMAL }}        {{? it.docInfo.ispaied}}<div class="btn-download">\n<i></i>\u4e0b\u8f7d</div>\n{{??}}<div class="btn-pay-doc">\n<i></i>\u8d2d\u4e70</div>\n{{?}}    {{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_NORMAL }}        {{? it.docInfo.ispaied}}<div class="btn-download">\n<i></i>\u4e0b\u8f7d</div>\n{{??}}<div class="btn-pay-doc">\n<i></i>\u8d2d\u4e70</div>\n{{?}}    {{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_DISCOUNT }}        {{? it.docInfo.ispaied}}<div class="btn-download">\n<i></i>\u4e0b\u8f7d</div>\n{{??}}<div class="btn-pay-doc">\n<i></i>VIP 8\u6298\u8d2d\u4e70</div>\n{{?}}<div class="btn-pay-vip">\n<i></i>\u5347\u7ea7VIP</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_PACK }}        {{? it.docInfo.ispaied}}<div class="btn-download">\n<i></i>\u4e0b\u8f7d</div>\n{{??}}<div class="btn-pay-doc">\n<i></i>\u8d2d\u4e70</div>\n{{?}}    {{?? +it.docValueType === +it.DOC_VALUE_TYPE.PROFESSIONAL }}        {{? +it.vipInfo.proDownloadRights > 0}}<div class="btn-download">\n<i></i>VIP\u4e13\u4eab\u4e0b\u8f7d</div>\n<div class="btn-pay-vip btn-pay-vip-pro-doc">\n<i></i>\u5347\u7ea7VIP</div>\n{{??}}<div class="btn-pay-vip btn-pay-vip-pro-doc">\n<i></i>\u5347\u7ea7VIP</div>\n{{?}}    {{?}}</div>')(d);break;case c.USER_TYPE.VIP_CLASSIC:i=s.template('<div class="doc-bottom-btns super-vip">\n{{? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET }}        {{? +it.docInfo.docTicket === 0}}<div class="btn-download">\n<i></i>\u4e0b\u8f7d</div>\n<div class="btn-pay-vip">\n<i></i>\u5347\u7ea7VIP</div>\n{{??}}                    {{? it.downloadResource.isWealthEnough || it.downloadResource.isTicketEnough || +it.vipInfo.shareDownloadRights > 0}}<div class="btn-download">\n<i></i>VIP\u514d\u5238\u4e0b\u8f7d</div>\n<div class="btn-pay-vip">\n<i></i>\u5347\u7ea7VIP</div>\n{{??}}<div class="btn-pay-vip">\n<i></i>\u5347\u7ea7VIP\u514d\u5238\u4e0b\u8f7d</div>\n{{?}}        {{?}}    {{?? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET_VIP_FREE }}<div class="btn-download">\n<i></i>VIP\u514d\u8d39\u4e0b\u8f7d</div>\n<div class="btn-pay-vip">\n<i></i>\u5347\u7ea7VIP</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PARTNER_NORMAL }}        {{? it.docInfo.ispaied}}<div class="btn-download">\n<i></i>\u4e0b\u8f7d</div>\n{{??}}<div class="btn-pay-doc">\n<i></i>\u8d2d\u4e70</div>\n{{?}}    {{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_NORMAL }}        {{? it.docInfo.ispaied}}<div class="btn-download">\n<i></i>\u4e0b\u8f7d</div>\n{{??}}<div class="btn-pay-doc">\n<i></i>\u8d2d\u4e70</div>\n{{?}}    {{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_DISCOUNT }}        {{? it.docInfo.ispaied}}<div class="btn-download">\n<i></i>\u4e0b\u8f7d</div>\n{{??}}<div class="btn-pay-doc">\n<i></i>VIP 8\u6298\u8d2d\u4e70</div>\n{{?}}<div class="btn-pay-vip">\n<i></i>\u5347\u7ea7VIP</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_PACK }}        {{? it.docInfo.ispaied}}<div class="btn-download">\n<i></i>\u4e0b\u8f7d</div>\n{{??}}<div class="btn-pay-doc">\n<i></i>\u8d2d\u4e70</div>\n{{?}}    {{?? +it.docValueType === +it.DOC_VALUE_TYPE.PROFESSIONAL }}        {{? +it.vipInfo.proDownloadRights > 0}}<div class="btn-download">\n<i></i>VIP\u4e13\u4eab\u4e0b\u8f7d</div>\n<div class="btn-pay-vip btn-pay-vip-pro-doc">\n<i></i>\u5347\u7ea7VIP</div>\n{{??}}<div class="btn-pay-vip btn-pay-vip-pro-doc">\n<i></i>\u5347\u7ea7VIP\u514d\u8d39\u4e13\u4eab</div>\n{{?}}    {{?}}</div>')(d);break;case c.USER_TYPE.LOGIN_NOT_VIP:i=s.template('<div class="doc-bottom-btns super-vip">\n{{? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET }}        {{? +it.docInfo.docTicket === 0}}<div class="btn-download">\n<i></i>\u4e0b\u8f7d</div>\n<div class="btn-pay-vip">\n<i></i>\u52a0\u5165VIP                {{? +it.vipInfo.is_new_user === 1}}<div class="new-user-discount-tip">VIP\u65b0\u5ba2\u7acb\u51cf2\u5143</div>\n{{?}}</div>\n{{??}}            {{? it.downloadResource.isWealthEnough || it.downloadResource.isTicketEnough }}<div class="btn-download">\n<i></i>\u4e0b\u8f7d</div>\n{{??}}            {{?}}<div class="btn-pay-vip">\n<i></i>VIP\u514d\u5238\u4e0b\u8f7d                {{? +it.vipInfo.is_new_user === 1}}<div class="new-user-discount-tip">VIP\u65b0\u5ba2\u7acb\u51cf2\u5143</div>\n{{?}}</div>\n{{?}}    {{?? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET_VIP_FREE }}        {{? it.downloadResource.isWealthEnough || it.downloadResource.isTicketEnough }}<div class="btn-download">\n<i></i>\u4e0b\u8f7d</div>\n{{??}}        {{?}}<div class="btn-pay-vip">\n<i></i>VIP\u514d\u8d39\u4e0b\u8f7d</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PARTNER_NORMAL }}        {{? it.docInfo.ispaied}}<div class="btn-download">\n<i></i>\u4e0b\u8f7d</div>\n{{??}}<div class="btn-pay-doc">\n<i></i>\u8d2d\u4e70</div>\n{{?}}    {{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_NORMAL }}        {{? it.docInfo.ispaied}}<div class="btn-download">\n<i></i>\u4e0b\u8f7d</div>\n{{??}}<div class="btn-pay-doc">\n<i></i>\u8d2d\u4e70</div>\n{{?}}    {{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_DISCOUNT }}        {{? it.docInfo.ispaied}}<div class="btn-download">\n<i></i>\u4e0b\u8f7d</div>\n<div class="btn-pay-vip">\n<i></i>\u52a0\u5165VIP                {{? +it.vipInfo.is_new_user === 1}}<div class="new-user-discount-tip">VIP\u65b0\u5ba2\u7acb\u51cf2\u5143</div>\n{{?}}</div>\n{{??}}<div class="btn-pay-doc">\n<i></i>\u8d2d\u4e70</div>\n<div class="btn-pay-vip">\n<i></i>VIP 8\u6298\u8d2d\u4e70                {{? +it.vipInfo.is_new_user === 1}}<div class="new-user-discount-tip">VIP\u65b0\u5ba2\u7acb\u51cf2\u5143</div>\n{{?}}</div>\n{{?}}    {{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_PACK }}        {{? it.docInfo.ispaied}}<div class="btn-download">\n<i></i>\u4e0b\u8f7d</div>\n<div class="btn-pay-vip">\n<i></i>\u52a0\u5165VIP                {{? +it.vipInfo.is_new_user === 1}}<div class="new-user-discount-tip">VIP\u65b0\u5ba2\u7acb\u51cf2\u5143</div>\n{{?}}</div>\n{{??}}<div class="btn-pay-doc">\n<i></i>\u8d2d\u4e70</div>\n<div class="btn-pay-vip">\n<i></i>\u52a0\u5165VIP\u514d\u8d39\u9001\u672c\u6587                {{? +it.vipInfo.is_new_user === 1}}<div class="new-user-discount-tip">VIP\u65b0\u5ba2\u7acb\u51cf2\u5143</div>\n{{?}}</div>\n{{?}}    {{?? +it.docValueType === +it.DOC_VALUE_TYPE.PROFESSIONAL }}<div class="btn-pay-vip btn-pay-vip-pro-doc">\n<i></i>VIP\u514d\u8d39\u4e13\u4eab            {{? +it.vipInfo.is_new_user === 1}}<div class="new-user-discount-tip">VIP\u65b0\u5ba2\u7acb\u51cf2\u5143</div>\n{{?}}</div>\n{{?}}</div>')(d);break;case c.USER_TYPE.NOT_LOGIN:i=s.template('<div class="doc-bottom-btns super-vip">\n{{? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET }}        {{? +it.docInfo.docTicket === 0}}<div class="btn-download">\n<i></i>\u4e0b\u8f7d</div>\n<div class="btn-pay-vip">\n<i></i>\u52a0\u5165VIP                {{? +it.vipInfo.is_new_user === 1}}<div class="new-user-discount-tip">VIP\u65b0\u5ba2\u7acb\u51cf2\u5143</div>\n{{?}}</div>\n{{??}}<div class="btn-download">\n<i></i>\u4e0b\u8f7d</div>\n<div class="btn-pay-vip">\n<i></i>VIP\u514d\u5238\u4e0b\u8f7d                {{? +it.vipInfo.is_new_user === 1}}<div class="new-user-discount-tip">VIP\u65b0\u5ba2\u7acb\u51cf2\u5143</div>\n{{?}}</div>\n{{?}}    {{?? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET_VIP_FREE }}<div class="btn-download">\n<i></i>\u4e0b\u8f7d</div>\n<div class="btn-pay-vip">\n<i></i>VIP\u514d\u8d39\u4e0b\u8f7d</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PARTNER_NORMAL }}<div class="btn-pay-doc">\n<i></i>\u8d2d\u4e70</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_NORMAL }}<div class="btn-pay-doc">\n<i></i>\u8d2d\u4e70</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_DISCOUNT }}<div class="btn-pay-doc">\n<i></i>\u8d2d\u4e70</div>\n<div class="btn-pay-vip">\n<i></i>VIP 8\u6298\u8d2d\u4e70            {{? +it.vipInfo.is_new_user === 1}}<div class="new-user-discount-tip">VIP\u65b0\u5ba2\u7acb\u51cf2\u5143</div>\n{{?}}</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_PACK }}<div class="btn-pay-doc">\n<i></i>\u8d2d\u4e70</div>\n<div class="btn-pay-vip">\n<i></i>\u52a0\u5165VIP\u514d\u8d39\u9001\u672c\u6587            {{? +it.vipInfo.is_new_user === 1}}<div class="new-user-discount-tip">VIP\u65b0\u5ba2\u7acb\u51cf2\u5143</div>\n{{?}}</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PROFESSIONAL }}<div class="btn-pay-vip btn-pay-vip-pro-doc">\n<i></i>VIP\u514d\u8d39\u4e13\u4eab            {{? +it.vipInfo.is_new_user === 1}}<div class="new-user-discount-tip">VIP\u65b0\u5ba2\u7acb\u51cf2\u5143</div>\n{{?}}</div>\n{{?}}</div>')(d);break;case c.USER_TYPE.VIP_WENKUEDU:i=s.template('<div class="doc-bottom-btns super-vip">\n{{? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET }}        {{? +it.docInfo.docTicket === 0}}<div class="btn-download">\n<i></i>\u4e0b\u8f7d</div>\n<div class="btn-pay-vip">\n<i></i>\u5347\u7ea7VIP</div>\n{{??}}                    {{? it.downloadResource.isWealthEnough || it.downloadResource.isTicketEnough || +it.vipInfo.shareDownloadRights > 0}}<div class="btn-download">\n<i></i>VIP\u514d\u5238\u4e0b\u8f7d</div>\n<div class="btn-pay-vip">\n<i></i>\u5347\u7ea7VIP</div>\n{{??}}<div class="btn-pay-vip">\n<i></i>\u5347\u7ea7VIP\u514d\u5238\u4e0b\u8f7d</div>\n{{?}}        {{?}}    {{?? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET_VIP_FREE }}<div class="btn-download">\n<i></i>VIP\u514d\u8d39\u4e0b\u8f7d</div>\n<div class="btn-pay-vip">\n<i></i>\u5347\u7ea7VIP</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PARTNER_NORMAL }}        {{? it.docInfo.ispaied}}<div class="btn-download">\n<i></i>\u4e0b\u8f7d</div>\n{{??}}<div class="btn-pay-doc">\n<i></i>\u8d2d\u4e70</div>\n{{?}}    {{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_NORMAL }}        {{? it.docInfo.ispaied}}<div class="btn-download">\n<i></i>\u4e0b\u8f7d</div>\n{{??}}<div class="btn-pay-doc">\n<i></i>\u8d2d\u4e70</div>\n{{?}}    {{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_DISCOUNT }}        {{? it.docInfo.ispaied}}<div class="btn-download">\n<i></i>\u4e0b\u8f7d</div>\n{{??}}<div class="btn-pay-doc">\n<i></i>VIP 8\u6298\u8d2d\u4e70</div>\n{{?}}<div class="btn-pay-vip">\n<i></i>\u5347\u7ea7VIP</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_PACK }}        {{? it.docInfo.ispaied}}<div class="btn-download">\n<i></i>\u4e0b\u8f7d</div>\n{{??}}<div class="btn-pay-doc">\n<i></i>\u8d2d\u4e70</div>\n{{?}}    {{?? +it.docValueType === +it.DOC_VALUE_TYPE.PROFESSIONAL }}        {{? +it.vipInfo.proDownloadRights > 0}}<div class="btn-download">\n<i></i>VIP\u4e13\u4eab\u4e0b\u8f7d</div>\n<div class="btn-pay-vip btn-pay-vip-pro-doc">\n<i></i>\u5347\u7ea7VIP</div>\n{{??}}<div class="btn-pay-vip btn-pay-vip-pro-doc">\n<i></i>\u5347\u7ea7VIP\u514d\u8d39\u4e13\u4eab</div>\n{{?}}    {{?}}</div>')(d)}return i},handleDownload:function(){v.xsend(1,102340,{type:"download",from:"reader"}),v.xsend(1,101166);var i=this.data.docInfo||{};if(c.isDownloadDisabled(this.data.docInfo)){var d=i.isInRoomButDeletedByCreater?"\u6743\u9650\u95ee\u9898":"\u7248\u6743\u65b9\u8981\u6c42";e({title:"\u63d0\u793a",content:['<p class="download-disabled-info">',"\u8be5\u6587\u6863\u56e0"+d+"\uff0c\u4ec5\u652f\u6301\u5728\u7ebf\u9605\u8bfb\u54e6\u3002","</p>"].join(""),width:350,height:180})}else i.isPartnerDoc&&v.xsend(1,101792,{index:12}),this.data.docValueType===c.DOC_VALUE_TYPE.PROFESSIONAL?(!(t instanceof P)&&(t=new P),t.start()):_.goSpecialDownload(this.data.wkInfo||{})},handlePayDoc:function(){v.xsend(1,102340,{type:"doc",from:"reader"});var i=this.data.docInfo||{};v.xsend(1,100351),l.verlogin(function(){o||(o=p({goods_type:1,goods_id:i.docId}));var d="view_middle_doc";1===+i.fufeiFreeReadOpen?d="trialReadingMiddle":2===+i.fufeiFreeReadOpen&&(d="trialReadingMiddleDuizhao");var n={query:{fr:i.player+"_view",q:"view_middle_doc",pn:i.totalPageNum||0,click_type:"13011003",dqStatCode:d}};o.init(n)})},handlePayVip:function(){v.xsend(1,102340,{type:"vip",from:"reader"}),V.trigger(this.data)}},n.exports=I});
;define("wkview:widget/common_toc_reader/common/doc_bottom/compAsync/text/text.js",function(t,o,d){var i=t("wkcommon:widget/ui/lib/jquery/jquery.js"),n=t("wkcommon:widget/lib/doT/doT.min.js"),e=t("wkview:widget/common_item/commonUtil/commonUtil.js"),c=function(t,o){i.extend(!0,this.data,t),this.$root=o||i(document)};c.prototype={constructor:c,$root:i(document),data:{userType:0,docValueType:0,docInfo:{},vipInfo:{},wkInfo:{}},bindEvent:function(){return this},makeTemplate:function(){var t="",o=i.extend(!0,{},this.data,e);switch(this.data.userType){case e.USER_TYPE.VIP_JIAOYU:t=n.template('{{? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET }}    {{? +it.docInfo.docTicket === 0}}<div class="doc-bottom-text">\n\u9605\u8bfb\u5df2\u7ed3\u675f\uff0c\u4e0b\u8f7d\u672c\u6587\u9700\u8981</div>\n{{??}}            {{? it.downloadResource.isWealthEnough || it.downloadResource.isTicketEnough || +it.vipInfo.shareDownloadRights > 0}}<div class="doc-bottom-text">\n\u9605\u8bfb\u5df2\u7ed3\u675f\uff0c\u4e0b\u8f7d\u672c\u6587\u9700\u8981</div>\n{{??}}<div class="doc-bottom-text">\n\u8bd5\u8bfb\u5df2\u7ed3\u675f\uff0c\u5982\u9700\u7ee7\u7eed\u9605\u8bfb\u6216\u4e0b\u8f7d</div>\n{{?}}    {{?}}{{?? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET_VIP_FREE }}<div class="doc-bottom-text">\n\u9605\u8bfb\u5df2\u7ed3\u675f\uff0c\u4e0b\u8f7d\u672c\u6587\u9700\u8981</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PARTNER_NORMAL }}    {{? +it.docInfo.ispaied }}<div class="doc-bottom-text">\n\u8bd5\u8bfb\u7ed3\u675f\uff0c\u6587\u6863\u5df2\u8d2d\u4e70\uff0c\u4e0b\u8f7d\u540e\u53ef\u67e5\u770b\u5269\u4f59\u5185\u5bb9</div>\n{{??}}<div class="doc-bottom-text">\n\u8bd5\u8bfb\u7ed3\u675f\uff0c\u5269\u4f59\u5185\u5bb9\u8d2d\u4e70\u540e\u53ef\u4e0b\u8f7d\u67e5\u770b</div>\n{{?}}{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_NORMAL }}<div class="doc-bottom-text">\n\u8bd5\u8bfb\u5df2\u7ed3\u675f\uff0c\u5982\u9700\u7ee7\u7eed\u9605\u8bfb\u6216\u4e0b\u8f7d</div>\n{{? it.docInfo.isdownloaded == 0 }}<div class="doc-bottom-text warning">\n\u6ce8\uff1a\u7531\u4e8e\u7248\u6743\u8981\u6c42\uff0c\u8d2d\u4e70\u540e\u8be5\u6587\u6863\u4ec5\u652f\u6301\u5728\u7ebf\u9605\u8bfb</div>\n{{?}}{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_DISCOUNT }}<div class="doc-bottom-text">\n\u8bd5\u8bfb\u5df2\u7ed3\u675f\uff0c\u5982\u9700\u7ee7\u7eed\u9605\u8bfb\u6216\u4e0b\u8f7d</div>\n{{? it.docInfo.isdownloaded == 0 }}<div class="doc-bottom-text warning">\n\u6ce8\uff1a\u7531\u4e8e\u7248\u6743\u8981\u6c42\uff0c\u8d2d\u4e70\u540e\u8be5\u6587\u6863\u4ec5\u652f\u6301\u5728\u7ebf\u9605\u8bfb</div>\n{{?}}{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_PACK }}<div class="doc-bottom-text">\n\u8bd5\u8bfb\u5df2\u7ed3\u675f\uff0c\u5982\u9700\u7ee7\u7eed\u9605\u8bfb\u6216\u4e0b\u8f7d</div>\n{{? it.docInfo.isdownloaded == 0 }}<div class="doc-bottom-text warning">\n\u6ce8\uff1a\u7531\u4e8e\u7248\u6743\u8981\u6c42\uff0c\u8d2d\u4e70\u540e\u8be5\u6587\u6863\u4ec5\u652f\u6301\u5728\u7ebf\u9605\u8bfb</div>\n{{?}}{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PROFESSIONAL }}    {{? +it.vipInfo.proDownloadRights > 0}}<div class="doc-bottom-text">\n{{? +it.docInfo.totalPageNum > it.docInfo.freepagenum}}            \u8bd5\u8bfb\u5df2\u7ed3\u675f\uff0c\u4e0b\u8f7d\u672c\u6587\u53ef\u7ee7\u7eed\u9605\u8bfb            {{??}}            \u9605\u8bfb\u5df2\u7ed3\u675f\uff0c\u4e0b\u8f7d\u672c\u6587\u9700\u8981            {{?}}</div>\n{{??}}<div class="doc-bottom-text">\n\u8bd5\u8bfb\u5df2\u7ed3\u675f\uff0c\u5982\u9700\u7ee7\u7eed\u9605\u8bfb\u6216\u4e0b\u8f7d</div>\n{{?}}{{?}}')(o);break;case e.USER_TYPE.VIP_WENKU:t=n.template('{{? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET }}    {{? +it.docInfo.docTicket === 0}}<div class="doc-bottom-text">\n\u9605\u8bfb\u5df2\u7ed3\u675f\uff0c\u4e0b\u8f7d\u672c\u6587\u9700\u8981</div>\n{{??}}            {{? it.downloadResource.isWealthEnough || it.downloadResource.isTicketEnough || +it.vipInfo.shareDownloadRights > 0}}<div class="doc-bottom-text">\n\u9605\u8bfb\u5df2\u7ed3\u675f\uff0c\u4e0b\u8f7d\u672c\u6587\u9700\u8981</div>\n{{??}}<div class="doc-bottom-text">\n\u8bd5\u8bfb\u5df2\u7ed3\u675f\uff0c\u5982\u9700\u7ee7\u7eed\u9605\u8bfb\u6216\u4e0b\u8f7d</div>\n{{?}}    {{?}}{{?? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET_VIP_FREE }}<div class="doc-bottom-text">\n\u9605\u8bfb\u5df2\u7ed3\u675f\uff0c\u4e0b\u8f7d\u672c\u6587\u9700\u8981</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PARTNER_NORMAL }}    {{? +it.docInfo.ispaied }}<div class="doc-bottom-text">\n\u8bd5\u8bfb\u7ed3\u675f\uff0c\u6587\u6863\u5df2\u8d2d\u4e70\uff0c\u4e0b\u8f7d\u540e\u53ef\u67e5\u770b\u5269\u4f59\u5185\u5bb9</div>\n{{??}}<div class="doc-bottom-text">\n\u8bd5\u8bfb\u7ed3\u675f\uff0c\u5269\u4f59\u5185\u5bb9\u8d2d\u4e70\u540e\u53ef\u4e0b\u8f7d\u67e5\u770b</div>\n{{?}}{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_NORMAL }}<div class="doc-bottom-text">\n\u8bd5\u8bfb\u5df2\u7ed3\u675f\uff0c\u5982\u9700\u7ee7\u7eed\u9605\u8bfb\u6216\u4e0b\u8f7d</div>\n{{? it.docInfo.isdownloaded == 0 }}<div class="doc-bottom-text warning">\n\u6ce8\uff1a\u7531\u4e8e\u7248\u6743\u8981\u6c42\uff0c\u8d2d\u4e70\u540e\u8be5\u6587\u6863\u4ec5\u652f\u6301\u5728\u7ebf\u9605\u8bfb</div>\n{{?}}{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_DISCOUNT }}<div class="doc-bottom-text">\n\u8bd5\u8bfb\u5df2\u7ed3\u675f\uff0c\u5982\u9700\u7ee7\u7eed\u9605\u8bfb\u6216\u4e0b\u8f7d</div>\n{{? it.docInfo.isdownloaded == 0 }}<div class="doc-bottom-text warning">\n\u6ce8\uff1a\u7531\u4e8e\u7248\u6743\u8981\u6c42\uff0c\u8d2d\u4e70\u540e\u8be5\u6587\u6863\u4ec5\u652f\u6301\u5728\u7ebf\u9605\u8bfb</div>\n{{?}}{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_PACK }}<div class="doc-bottom-text">\n\u8bd5\u8bfb\u5df2\u7ed3\u675f\uff0c\u5982\u9700\u7ee7\u7eed\u9605\u8bfb\u6216\u4e0b\u8f7d</div>\n{{? it.docInfo.isdownloaded == 0 }}<div class="doc-bottom-text warning">\n\u6ce8\uff1a\u7531\u4e8e\u7248\u6743\u8981\u6c42\uff0c\u8d2d\u4e70\u540e\u8be5\u6587\u6863\u4ec5\u652f\u6301\u5728\u7ebf\u9605\u8bfb</div>\n{{?}}{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PROFESSIONAL }}    {{? +it.vipInfo.proDownloadRights > 0}}<div class="doc-bottom-text">\n{{? +it.docInfo.totalPageNum > it.docInfo.freepagenum}}            \u8bd5\u8bfb\u5df2\u7ed3\u675f\uff0c\u4e0b\u8f7d\u672c\u6587\u53ef\u7ee7\u7eed\u9605\u8bfb            {{??}}            \u9605\u8bfb\u5df2\u7ed3\u675f\uff0c\u4e0b\u8f7d\u672c\u6587\u9700\u8981            {{?}}</div>\n{{??}}<div class="doc-bottom-text">\n\u8bd5\u8bfb\u5df2\u7ed3\u675f\uff0c\u5982\u9700\u7ee7\u7eed\u9605\u8bfb\u6216\u4e0b\u8f7d</div>\n{{?}}{{?}}')(o);break;case e.USER_TYPE.VIP_CLASSIC:t=n.template('{{? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET }}    {{? +it.docInfo.docTicket === 0}}<div class="doc-bottom-text">\n\u9605\u8bfb\u5df2\u7ed3\u675f\uff0c\u4e0b\u8f7d\u672c\u6587\u9700\u8981</div>\n{{??}}            {{? it.downloadResource.isWealthEnough || it.downloadResource.isTicketEnough || +it.vipInfo.shareDownloadRights > 0}}<div class="doc-bottom-text">\n\u9605\u8bfb\u5df2\u7ed3\u675f\uff0c\u4e0b\u8f7d\u672c\u6587\u9700\u8981</div>\n{{??}}<div class="doc-bottom-text">\n\u8bd5\u8bfb\u5df2\u7ed3\u675f\uff0c\u5982\u9700\u7ee7\u7eed\u9605\u8bfb\u6216\u4e0b\u8f7d</div>\n{{?}}    {{?}}{{?? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET_VIP_FREE }}<div class="doc-bottom-text">\n\u9605\u8bfb\u5df2\u7ed3\u675f\uff0c\u4e0b\u8f7d\u672c\u6587\u9700\u8981</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PARTNER_NORMAL }}    {{? +it.docInfo.ispaied }}<div class="doc-bottom-text">\n\u8bd5\u8bfb\u7ed3\u675f\uff0c\u6587\u6863\u5df2\u8d2d\u4e70\uff0c\u4e0b\u8f7d\u540e\u53ef\u67e5\u770b\u5269\u4f59\u5185\u5bb9</div>\n{{??}}<div class="doc-bottom-text">\n\u8bd5\u8bfb\u7ed3\u675f\uff0c\u5269\u4f59\u5185\u5bb9\u8d2d\u4e70\u540e\u53ef\u4e0b\u8f7d\u67e5\u770b</div>\n{{?}}{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_NORMAL }}<div class="doc-bottom-text">\n\u8bd5\u8bfb\u5df2\u7ed3\u675f\uff0c\u5982\u9700\u7ee7\u7eed\u9605\u8bfb\u6216\u4e0b\u8f7d</div>\n{{? it.docInfo.isdownloaded == 0 }}<div class="doc-bottom-text warning">\n\u6ce8\uff1a\u7531\u4e8e\u7248\u6743\u8981\u6c42\uff0c\u8d2d\u4e70\u540e\u8be5\u6587\u6863\u4ec5\u652f\u6301\u5728\u7ebf\u9605\u8bfb</div>\n{{?}}{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_DISCOUNT }}<div class="doc-bottom-text">\n\u8bd5\u8bfb\u5df2\u7ed3\u675f\uff0c\u5982\u9700\u7ee7\u7eed\u9605\u8bfb\u6216\u4e0b\u8f7d</div>\n{{? it.docInfo.isdownloaded == 0 }}<div class="doc-bottom-text warning">\n\u6ce8\uff1a\u7531\u4e8e\u7248\u6743\u8981\u6c42\uff0c\u8d2d\u4e70\u540e\u8be5\u6587\u6863\u4ec5\u652f\u6301\u5728\u7ebf\u9605\u8bfb</div>\n{{?}}{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_PACK }}<div class="doc-bottom-text">\n\u8bd5\u8bfb\u5df2\u7ed3\u675f\uff0c\u5982\u9700\u7ee7\u7eed\u9605\u8bfb\u6216\u4e0b\u8f7d</div>\n{{? it.docInfo.isdownloaded == 0 }}<div class="doc-bottom-text warning">\n\u6ce8\uff1a\u7531\u4e8e\u7248\u6743\u8981\u6c42\uff0c\u8d2d\u4e70\u540e\u8be5\u6587\u6863\u4ec5\u652f\u6301\u5728\u7ebf\u9605\u8bfb</div>\n{{?}}{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PROFESSIONAL }}    {{? +it.vipInfo.proDownloadRights > 0}}<div class="doc-bottom-text">\n{{? +it.docInfo.totalPageNum > it.docInfo.freepagenum}}            \u8bd5\u8bfb\u5df2\u7ed3\u675f\uff0c\u4e0b\u8f7d\u672c\u6587\u53ef\u7ee7\u7eed\u9605\u8bfb            {{??}}            \u9605\u8bfb\u5df2\u7ed3\u675f\uff0c\u4e0b\u8f7d\u672c\u6587\u9700\u8981            {{?}}</div>\n{{??}}<div class="doc-bottom-text">\n\u8bd5\u8bfb\u5df2\u7ed3\u675f\uff0c\u5982\u9700\u7ee7\u7eed\u9605\u8bfb\u6216\u4e0b\u8f7d</div>\n{{?}}{{?}}')(o);break;case e.USER_TYPE.LOGIN_NOT_VIP:t=n.template('{{? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET }}<div class="doc-bottom-text">\n\u9605\u8bfb\u5df2\u7ed3\u675f\uff0c\u4e0b\u8f7d\u672c\u6587\u9700\u8981</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET_VIP_FREE }}<div class="doc-bottom-text">\n\u9605\u8bfb\u5df2\u7ed3\u675f\uff0c\u4e0b\u8f7d\u672c\u6587\u9700\u8981</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PARTNER_NORMAL }}    {{? +it.docInfo.ispaied }}<div class="doc-bottom-text">\n\u8bd5\u8bfb\u7ed3\u675f\uff0c\u6587\u6863\u5df2\u8d2d\u4e70\uff0c\u4e0b\u8f7d\u540e\u53ef\u67e5\u770b\u5269\u4f59\u5185\u5bb9</div>\n{{??}}<div class="doc-bottom-text">\n\u8bd5\u8bfb\u7ed3\u675f\uff0c\u5269\u4f59\u5185\u5bb9\u8d2d\u4e70\u540e\u53ef\u4e0b\u8f7d\u67e5\u770b</div>\n{{?}}{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_NORMAL }}<div class="doc-bottom-text">\n\u8bd5\u8bfb\u5df2\u7ed3\u675f\uff0c\u5982\u9700\u7ee7\u7eed\u9605\u8bfb\u6216\u4e0b\u8f7d</div>\n{{? it.docInfo.isdownloaded == 0 }}<div class="doc-bottom-text warning">\n\u6ce8\uff1a\u7531\u4e8e\u7248\u6743\u8981\u6c42\uff0c\u8d2d\u4e70\u540e\u8be5\u6587\u6863\u4ec5\u652f\u6301\u5728\u7ebf\u9605\u8bfb</div>\n{{?}}{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_DISCOUNT }}<div class="doc-bottom-text">\n\u8bd5\u8bfb\u5df2\u7ed3\u675f\uff0c\u5982\u9700\u7ee7\u7eed\u9605\u8bfb\u6216\u4e0b\u8f7d</div>\n{{? it.docInfo.isdownloaded == 0 }}<div class="doc-bottom-text warning">\n\u6ce8\uff1a\u7531\u4e8e\u7248\u6743\u8981\u6c42\uff0c\u8d2d\u4e70\u540e\u8be5\u6587\u6863\u4ec5\u652f\u6301\u5728\u7ebf\u9605\u8bfb</div>\n{{?}}{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_PACK }}<div class="doc-bottom-text">\n\u8bd5\u8bfb\u5df2\u7ed3\u675f\uff0c\u5982\u9700\u7ee7\u7eed\u9605\u8bfb\u6216\u4e0b\u8f7d</div>\n{{? it.docInfo.isdownloaded == 0 }}<div class="doc-bottom-text warning">\n\u6ce8\uff1a\u7531\u4e8e\u7248\u6743\u8981\u6c42\uff0c\u8d2d\u4e70\u540e\u8be5\u6587\u6863\u4ec5\u652f\u6301\u5728\u7ebf\u9605\u8bfb</div>\n{{?}}{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PROFESSIONAL }}<div class="doc-bottom-text">\n\u8bd5\u8bfb\u5df2\u7ed3\u675f\uff0c\u5982\u9700\u7ee7\u7eed\u9605\u8bfb\u6216\u4e0b\u8f7d</div>\n{{?}}')(o);break;case e.USER_TYPE.NOT_LOGIN:t=n.template('{{? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET }}<div class="doc-bottom-text">\n\u9605\u8bfb\u5df2\u7ed3\u675f\uff0c\u4e0b\u8f7d\u672c\u6587\u9700\u8981</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET_VIP_FREE }}<div class="doc-bottom-text">\n\u9605\u8bfb\u5df2\u7ed3\u675f\uff0c\u4e0b\u8f7d\u672c\u6587\u9700\u8981</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PARTNER_NORMAL }}    {{? +it.docInfo.ispaied }}<div class="doc-bottom-text">\n\u8bd5\u8bfb\u7ed3\u675f\uff0c\u6587\u6863\u5df2\u8d2d\u4e70\uff0c\u4e0b\u8f7d\u540e\u53ef\u67e5\u770b\u5269\u4f59\u5185\u5bb9</div>\n{{??}}<div class="doc-bottom-text">\n\u8bd5\u8bfb\u7ed3\u675f\uff0c\u5269\u4f59\u5185\u5bb9\u8d2d\u4e70\u540e\u53ef\u4e0b\u8f7d\u67e5\u770b</div>\n{{?}}{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_NORMAL }}<div class="doc-bottom-text">\n\u8bd5\u8bfb\u5df2\u7ed3\u675f\uff0c\u5982\u9700\u7ee7\u7eed\u9605\u8bfb\u6216\u4e0b\u8f7d</div>\n{{? it.docInfo.isdownloaded == 0 }}<div class="doc-bottom-text warning">\n\u6ce8\uff1a\u7531\u4e8e\u7248\u6743\u8981\u6c42\uff0c\u8d2d\u4e70\u540e\u8be5\u6587\u6863\u4ec5\u652f\u6301\u5728\u7ebf\u9605\u8bfb</div>\n{{?}}{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_DISCOUNT }}<div class="doc-bottom-text">\n\u8bd5\u8bfb\u5df2\u7ed3\u675f\uff0c\u5982\u9700\u7ee7\u7eed\u9605\u8bfb\u6216\u4e0b\u8f7d</div>\n{{? it.docInfo.isdownloaded == 0 }}<div class="doc-bottom-text warning">\n\u6ce8\uff1a\u7531\u4e8e\u7248\u6743\u8981\u6c42\uff0c\u8d2d\u4e70\u540e\u8be5\u6587\u6863\u4ec5\u652f\u6301\u5728\u7ebf\u9605\u8bfb</div>\n{{?}}{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_PACK }}<div class="doc-bottom-text">\n\u8bd5\u8bfb\u5df2\u7ed3\u675f\uff0c\u5982\u9700\u7ee7\u7eed\u9605\u8bfb\u6216\u4e0b\u8f7d</div>\n{{? it.docInfo.isdownloaded == 0 }}<div class="doc-bottom-text warning">\n\u6ce8\uff1a\u7531\u4e8e\u7248\u6743\u8981\u6c42\uff0c\u8d2d\u4e70\u540e\u8be5\u6587\u6863\u4ec5\u652f\u6301\u5728\u7ebf\u9605\u8bfb</div>\n{{?}}{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PROFESSIONAL }}<div class="doc-bottom-text">\n\u8bd5\u8bfb\u5df2\u7ed3\u675f\uff0c\u5982\u9700\u7ee7\u7eed\u9605\u8bfb\u6216\u4e0b\u8f7d</div>\n{{?}}')(o);break;case e.USER_TYPE.VIP_WENKUEDU:t=n.template('{{? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET }}    {{? +it.docInfo.docTicket === 0}}<div class="doc-bottom-text">\n\u9605\u8bfb\u5df2\u7ed3\u675f\uff0c\u4e0b\u8f7d\u672c\u6587\u9700\u8981</div>\n{{??}}            {{? it.downloadResource.isWealthEnough || it.downloadResource.isTicketEnough || +it.vipInfo.shareDownloadRights > 0}}<div class="doc-bottom-text">\n\u9605\u8bfb\u5df2\u7ed3\u675f\uff0c\u4e0b\u8f7d\u672c\u6587\u9700\u8981</div>\n{{??}}<div class="doc-bottom-text">\n\u8bd5\u8bfb\u5df2\u7ed3\u675f\uff0c\u5982\u9700\u7ee7\u7eed\u9605\u8bfb\u6216\u4e0b\u8f7d</div>\n{{?}}    {{?}}{{?? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET_VIP_FREE }}<div class="doc-bottom-text">\n\u9605\u8bfb\u5df2\u7ed3\u675f\uff0c\u4e0b\u8f7d\u672c\u6587\u9700\u8981</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PARTNER_NORMAL }}    {{? +it.docInfo.ispaied }}<div class="doc-bottom-text">\n\u8bd5\u8bfb\u7ed3\u675f\uff0c\u6587\u6863\u5df2\u8d2d\u4e70\uff0c\u4e0b\u8f7d\u540e\u53ef\u67e5\u770b\u5269\u4f59\u5185\u5bb9</div>\n{{??}}<div class="doc-bottom-text">\n\u8bd5\u8bfb\u7ed3\u675f\uff0c\u5269\u4f59\u5185\u5bb9\u8d2d\u4e70\u540e\u53ef\u4e0b\u8f7d\u67e5\u770b</div>\n{{?}}{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_NORMAL }}<div class="doc-bottom-text">\n\u8bd5\u8bfb\u5df2\u7ed3\u675f\uff0c\u5982\u9700\u7ee7\u7eed\u9605\u8bfb\u6216\u4e0b\u8f7d</div>\n{{? it.docInfo.isdownloaded == 0 }}<div class="doc-bottom-text warning">\n\u6ce8\uff1a\u7531\u4e8e\u7248\u6743\u8981\u6c42\uff0c\u8d2d\u4e70\u540e\u8be5\u6587\u6863\u4ec5\u652f\u6301\u5728\u7ebf\u9605\u8bfb</div>\n{{?}}{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_DISCOUNT }}<div class="doc-bottom-text">\n\u8bd5\u8bfb\u5df2\u7ed3\u675f\uff0c\u5982\u9700\u7ee7\u7eed\u9605\u8bfb\u6216\u4e0b\u8f7d</div>\n{{? it.docInfo.isdownloaded == 0 }}<div class="doc-bottom-text warning">\n\u6ce8\uff1a\u7531\u4e8e\u7248\u6743\u8981\u6c42\uff0c\u8d2d\u4e70\u540e\u8be5\u6587\u6863\u4ec5\u652f\u6301\u5728\u7ebf\u9605\u8bfb</div>\n{{?}}{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_PACK }}<div class="doc-bottom-text">\n\u8bd5\u8bfb\u5df2\u7ed3\u675f\uff0c\u5982\u9700\u7ee7\u7eed\u9605\u8bfb\u6216\u4e0b\u8f7d</div>\n{{? it.docInfo.isdownloaded == 0 }}<div class="doc-bottom-text warning">\n\u6ce8\uff1a\u7531\u4e8e\u7248\u6743\u8981\u6c42\uff0c\u8d2d\u4e70\u540e\u8be5\u6587\u6863\u4ec5\u652f\u6301\u5728\u7ebf\u9605\u8bfb</div>\n{{?}}{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PROFESSIONAL }}    {{? +it.vipInfo.proDownloadRights > 0}}<div class="doc-bottom-text">\n{{? +it.docInfo.totalPageNum > it.docInfo.freepagenum}}            \u8bd5\u8bfb\u5df2\u7ed3\u675f\uff0c\u4e0b\u8f7d\u672c\u6587\u53ef\u7ee7\u7eed\u9605\u8bfb            {{??}}            \u9605\u8bfb\u5df2\u7ed3\u675f\uff0c\u4e0b\u8f7d\u672c\u6587\u9700\u8981            {{?}}</div>\n{{??}}<div class="doc-bottom-text">\n\u8bd5\u8bfb\u5df2\u7ed3\u675f\uff0c\u5982\u9700\u7ee7\u7eed\u9605\u8bfb\u6216\u4e0b\u8f7d</div>\n{{?}}{{?}}')(o)}return t}},d.exports=c});
;define("wkview:widget/common_toc_reader/common/doc_bottom/compAsync/value/value.js",function(o,i,t){var d=o("wkcommon:widget/ui/lib/jquery/jquery.js"),c=o("wkcommon:widget/lib/doT/doT.min.js"),e=o("wkview:widget/common_item/commonUtil/commonUtil.js"),n=function(o,i){d.extend(!0,this.data,o),this.$root=i||d(document)};n.prototype={constructor:n,$root:d(document),data:{userType:0,docValueType:0,docInfo:{},vipInfo:{},wkInfo:{}},bindEvent:function(){return this},makeTemplate:function(){var o="",i=d.extend(!0,{},this.data,e);switch(this.data.userType){case e.USER_TYPE.VIP_JIAOYU:o=c.template('{{? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET }}<div class="doc-bottom-value">\n<div><span class="icon-ticket"></span>{{=it.docInfo.docTicket}}\u4e0b\u8f7d\u5238</div>\n{{? +it.docInfo.docTicket > 0}}            {{? it.downloadResource.isWealthEnough || it.downloadResource.isTicketEnough || +it.vipInfo.shareDownloadRights > 0}}            {{??}}<div class="doc-bottom-ticket-rights">\n\uff08\u60a8\u6301\u6709<span>0</span>\u4e0b\u8f7d\u7279\u6743\uff0c<span>{{= it.downloadResource.uticket || 0 }}</span>\u4e0b\u8f7d\u5238\uff0c\u79ef\u5206\u4e0d\u8db3\u65e0\u6cd5\u5151\u6362\uff09</div>\n{{?}}        {{?}}</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET_VIP_FREE }}<div class="doc-bottom-value">\n<div><span class="icon-ticket"></span>{{=it.docInfo.docTicket}}\u4e0b\u8f7d\u5238</div>\n</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PARTNER_NORMAL }}<div class="doc-bottom-value">\n\uffe5{{=((it.docInfo.payPrice || 1) / 100).toFixed(2)}}</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_NORMAL }}<div class="doc-bottom-value">\n\uffe5{{=((it.docInfo.payPrice || 1) / 100).toFixed(2)}}</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_DISCOUNT }}<div class="doc-bottom-value">\n<span>\uffe5{{=((it.docInfo.vip_price || 1) / 100).toFixed(2)}}</span>\n<span class="line-value">\uffe5{{=((it.docInfo.payPrice || 1) / 100).toFixed(2)}}</span>\n</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_PACK }}<div class="doc-bottom-value">\n\uffe5{{=((it.docInfo.payPrice || 1) / 100).toFixed(2)}}</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PROFESSIONAL }}<div class="doc-bottom-pro-rights">\n\uff08\u60a8\u6301\u6709<span>{{= it.vipInfo.proDownloadRights || 0 }}</span>VIP\u4e13\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743\uff09</div>\n{{?}}')(i);break;case e.USER_TYPE.VIP_WENKU:o=c.template('{{? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET }}<div class="doc-bottom-value">\n<div><span class="icon-ticket"></span>{{=it.docInfo.docTicket}}\u4e0b\u8f7d\u5238</div>\n{{? +it.docInfo.docTicket > 0}}            {{? it.downloadResource.isWealthEnough || it.downloadResource.isTicketEnough || +it.vipInfo.shareDownloadRights > 0}}            {{??}}<div class="doc-bottom-ticket-rights">\n\uff08\u60a8\u6301\u6709<span>0</span>\u4e0b\u8f7d\u7279\u6743\uff0c<span>{{= it.downloadResource.uticket || 0 }}</span>\u4e0b\u8f7d\u5238\uff0c\u79ef\u5206\u4e0d\u8db3\u65e0\u6cd5\u5151\u6362\uff09</div>\n{{?}}        {{?}}</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET_VIP_FREE }}<div class="doc-bottom-value">\n<div><span class="icon-ticket"></span>{{=it.docInfo.docTicket}}\u4e0b\u8f7d\u5238</div>\n</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PARTNER_NORMAL }}<div class="doc-bottom-value">\n\uffe5{{=((it.docInfo.payPrice || 1) / 100).toFixed(2)}}</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_NORMAL }}<div class="doc-bottom-value">\n\uffe5{{=((it.docInfo.payPrice || 1) / 100).toFixed(2)}}</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_DISCOUNT }}<div class="doc-bottom-value">\n<span>\uffe5{{=((it.docInfo.vip_price || 1) / 100).toFixed(2)}}</span>\n<span class="line-value">\uffe5{{=((it.docInfo.payPrice || 1) / 100).toFixed(2)}}</span>\n</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_PACK }}<div class="doc-bottom-value">\n\uffe5{{=((it.docInfo.payPrice || 1) / 100).toFixed(2)}}</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PROFESSIONAL }}<div class="doc-bottom-pro-rights">\n\uff08\u60a8\u6301\u6709<span>{{= it.vipInfo.proDownloadRights || 0 }}</span>VIP\u4e13\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743\uff09</div>\n{{?}}')(i);break;case e.USER_TYPE.VIP_CLASSIC:o=c.template('{{? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET }}<div class="doc-bottom-value">\n<div><span class="icon-ticket"></span>{{=it.docInfo.docTicket}}\u4e0b\u8f7d\u5238</div>\n{{? +it.docInfo.docTicket > 0}}            {{? it.downloadResource.isWealthEnough || it.downloadResource.isTicketEnough || +it.vipInfo.shareDownloadRights > 0}}            {{??}}<div class="doc-bottom-ticket-rights">\n\uff08\u60a8\u6301\u6709<span>0</span>\u4e0b\u8f7d\u7279\u6743\uff0c<span>{{= it.downloadResource.uticket || 0 }}</span>\u4e0b\u8f7d\u5238\uff0c\u79ef\u5206\u4e0d\u8db3\u65e0\u6cd5\u5151\u6362\uff09</div>\n{{?}}        {{?}}</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET_VIP_FREE }}<div class="doc-bottom-value">\n<div><span class="icon-ticket"></span>{{=it.docInfo.docTicket}}\u4e0b\u8f7d\u5238</div>\n</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PARTNER_NORMAL }}<div class="doc-bottom-value">\n\uffe5{{=((it.docInfo.payPrice || 1) / 100).toFixed(2)}}</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_NORMAL }}<div class="doc-bottom-value">\n\uffe5{{=((it.docInfo.payPrice || 1) / 100).toFixed(2)}}</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_DISCOUNT }}<div class="doc-bottom-value">\n<span>\uffe5{{=((it.docInfo.vip_price || 1) / 100).toFixed(2)}}</span>\n<span class="line-value">\uffe5{{=((it.docInfo.payPrice || 1) / 100).toFixed(2)}}</span>\n</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_PACK }}<div class="doc-bottom-value">\n\uffe5{{=((it.docInfo.payPrice || 1) / 100).toFixed(2)}}</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PROFESSIONAL }}<div class="doc-bottom-pro-rights">\n\uff08\u60a8\u6301\u6709<span>{{= it.vipInfo.proDownloadRights || 0 }}</span>VIP\u4e13\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743\uff09</div>\n{{?}}')(i);break;case e.USER_TYPE.LOGIN_NOT_VIP:o=c.template('{{? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET }}    {{? +it.docInfo.docTicket === 0}}<div class="doc-bottom-value">\n<div><span class="icon-ticket"></span>{{=it.docInfo.docTicket}}\u4e0b\u8f7d\u5238</div>\n</div>\n{{??}}        {{? it.downloadResource.isWealthEnough || it.downloadResource.isTicketEnough }}<div class="doc-bottom-value">\n<div><span class="icon-ticket"></span>{{=it.docInfo.docTicket}}\u4e0b\u8f7d\u5238</div>\n</div>\n{{??}}<div class="doc-bottom-value">\n<div><span class="icon-ticket"></span>{{=it.docInfo.docTicket}}\u4e0b\u8f7d\u5238</div>\n<div class="doc-bottom-ticket-rights">\n\uff08\u60a8\u6301\u6709<span>{{= it.downloadResource.uticket || 0 }}</span>\u4e0b\u8f7d\u5238\uff0c\u79ef\u5206\u4e0d\u8db3\u65e0\u6cd5\u5151\u6362\uff09</div>\n</div>\n{{?}}    {{?}}{{?? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET_VIP_FREE }}    {{? it.downloadResource.isWealthEnough || it.downloadResource.isTicketEnough }}<div class="doc-bottom-value">\n<div><span class="icon-ticket"></span>{{=it.docInfo.docTicket}}\u4e0b\u8f7d\u5238</div>\n</div>\n{{??}}<div class="doc-bottom-value">\n<div><span class="icon-ticket"></span>{{=it.docInfo.docTicket}}\u4e0b\u8f7d\u5238</div>\n<div class="doc-bottom-ticket-rights">\n\uff08\u60a8\u6301\u6709<span>{{= it.downloadResource.uticket || 0 }}</span>\u4e0b\u8f7d\u5238\uff0c\u79ef\u5206\u4e0d\u8db3\u65e0\u6cd5\u5151\u6362\uff09</div>\n</div>\n{{?}}{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PARTNER_NORMAL }}<div class="doc-bottom-value">\n\uffe5{{=((it.docInfo.payPrice || 1) / 100).toFixed(2)}}</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_NORMAL }}<div class="doc-bottom-value">\n\uffe5{{=((it.docInfo.payPrice || 1) / 100).toFixed(2)}}</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_DISCOUNT }}<div class="doc-bottom-value">\n\uffe5{{=((it.docInfo.payPrice || 1) / 100).toFixed(2)}}</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_PACK }}<div class="doc-bottom-value">\n\uffe5{{=((it.docInfo.payPrice || 1) / 100).toFixed(2)}}</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PROFESSIONAL }}{{?}}')(i);break;case e.USER_TYPE.NOT_LOGIN:o=c.template('{{? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET }}<div class="doc-bottom-value">\n<div><span class="icon-ticket"></span>{{=it.docInfo.docTicket}}\u4e0b\u8f7d\u5238</div>\n</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET_VIP_FREE }}<div class="doc-bottom-value">\n<div><span class="icon-ticket"></span>{{=it.docInfo.docTicket}}\u4e0b\u8f7d\u5238</div>\n</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PARTNER_NORMAL }}<div class="doc-bottom-value">\n\uffe5{{=((it.docInfo.payPrice || 1) / 100).toFixed(2)}}</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_NORMAL }}<div class="doc-bottom-value">\n\uffe5{{=((it.docInfo.payPrice || 1) / 100).toFixed(2)}}</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_DISCOUNT }}<div class="doc-bottom-value">\n\uffe5{{=((it.docInfo.payPrice || 1) / 100).toFixed(2)}}</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_PACK }}<div class="doc-bottom-value">\n\uffe5{{=((it.docInfo.payPrice || 1) / 100).toFixed(2)}}</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PROFESSIONAL }}{{?}}')(i);break;case e.USER_TYPE.VIP_WENKUEDU:o=c.template('{{? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET }}<div class="doc-bottom-value">\n<div><span class="icon-ticket"></span>{{=it.docInfo.docTicket}}\u4e0b\u8f7d\u5238</div>\n{{? +it.docInfo.docTicket > 0}}            {{? it.downloadResource.isWealthEnough || it.downloadResource.isTicketEnough || +it.vipInfo.shareDownloadRights > 0}}            {{??}}<div class="doc-bottom-ticket-rights">\n\uff08\u60a8\u6301\u6709<span>0</span>\u4e0b\u8f7d\u7279\u6743\uff0c<span>{{= it.downloadResource.uticket || 0 }}</span>\u4e0b\u8f7d\u5238\uff0c\u79ef\u5206\u4e0d\u8db3\u65e0\u6cd5\u5151\u6362\uff09</div>\n{{?}}        {{?}}</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET_VIP_FREE }}<div class="doc-bottom-value">\n<div><span class="icon-ticket"></span>{{=it.docInfo.docTicket}}\u4e0b\u8f7d\u5238</div>\n</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PARTNER_NORMAL }}<div class="doc-bottom-value">\n\uffe5{{=((it.docInfo.payPrice || 1) / 100).toFixed(2)}}</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_NORMAL }}<div class="doc-bottom-value">\n\uffe5{{=((it.docInfo.payPrice || 1) / 100).toFixed(2)}}</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_DISCOUNT }}<div class="doc-bottom-value">\n<span>\uffe5{{=((it.docInfo.vip_price || 1) / 100).toFixed(2)}}</span>\n<span class="line-value">\uffe5{{=((it.docInfo.payPrice || 1) / 100).toFixed(2)}}</span>\n</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_PACK }}<div class="doc-bottom-value">\n\uffe5{{=((it.docInfo.payPrice || 1) / 100).toFixed(2)}}</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PROFESSIONAL }}<div class="doc-bottom-pro-rights">\n\uff08\u60a8\u6301\u6709<span>{{= it.vipInfo.proDownloadRights || 0 }}</span>VIP\u4e13\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743\uff09</div>\n{{?}}')(i)}return o}},t.exports=n});
;define("wkview:widget/common_toc_reader/common/doc_bottom/compAsync/tip/tip.js",function(n,i,o){var a=n("wkcommon:widget/ui/lib/jquery/jquery.js"),t=n("wkcommon:widget/lib/doT/doT.min.js"),d=n("wkview:widget/common_item/commonUtil/commonUtil.js"),e=n("wkcommon:widget/lib/fis/data/data.js"),l=(e.get("WkInfo")||{},function(n,i){a.extend(!0,this.data,n),this.$root=i||a(document)});l.prototype={constructor:l,$root:a(document),data:{userType:0,docValueType:0,docInfo:{},vipInfo:{},renewalVipInfo:{},wkInfo:{}},bindEvent:function(){return this},makeTemplate:function(){var n="",i=a.extend(!0,{},this.data,d),o=i.renewalVipInfo||{};switch(this.data.userType){case d.USER_TYPE.VIP_JIAOYU:+o.pro_download_ticket_total>1&&+o.normal_download_ticket_total>1&&o.jiaoyu_vip_info.pro_download_ticket+o.jiaoyu_vip_info.normal_download_ticket<=0&&(i.isWenkuVipRenew=!0),n=t.template('{{? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET }}<div class="doc-bottom-tip super-vip">\n<div class="doc-bottom-rights-wrap">\n<span class="icon-triangle"></span>\n<div class="{{? it.isWenkuVipRenew}}renew-vip{{??}}renew-vip-jiaoyu{{?}}">\n<i></i>\n{{? +it.renewalVipInfo.pro_download_ticket_total<= 1 && +it.renewalVipInfo.normal_download_ticket_total >1 }}                \u9650\u65f6\u7eed\u8d39\u8d60VIP\u4e13\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743<span class="red">4</span>\u4e2a                {{?? +it.renewalVipInfo.pro_download_ticket_total > 1 && +it.renewalVipInfo.normal_download_ticket_total<= 1 }}\n                \u9650\u65f6\u7eed\u8d39\u8d60\u5171\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743<span class="red">12</span>\u4e2a                {{?? +it.renewalVipInfo.pro_download_ticket_total<= 1 && +it.renewalVipInfo.normal_download_ticket_total <= 1 }}\n                \u9650\u65f6\u7eed\u8d39\u8d60\u4e24\u79cd\u4e0b\u8f7d\u7279\u6743<span class="red">\u54048</span>\u4e2a                {{??}}                    {{? (+it.renewalVipInfo.jiaoyu_vip_info.pro_download_ticket + +it.renewalVipInfo.jiaoyu_vip_info.normal_download_ticket) > 0}}                    \u9650\u65f6\u7eed\u8d39\u5269\u4f59<span class="red">{{=(+it.renewalVipInfo.jiaoyu_vip_info.pro_download_ticket + +it.renewalVipInfo.jiaoyu_vip_info.normal_download_ticket)}}</span>\u4e2a\u4e0b\u8f7d\u7279\u6743\u5ef6\u65f6<span class="red">30</span>\u5929                    {{??}}                    \u9650\u65f6{{? it.renewalVipInfo.vip_info.flag === 1}}\u7eed\u8d39{{??}}\u5347\u7ea7{{?}}\u5269\u4f59<span class="red">{{=(+it.renewalVipInfo.vip_info.pro_download_ticket + +it.renewalVipInfo.vip_info.normal_download_ticket)}}</span>\u4e2a\u4e0b\u8f7d\u7279\u6743\u5ef6\u65f6<span class="red">30</span>\u5929                    {{?}}                {{?}}</div>\n</div>\n</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET_VIP_FREE }}<div class="doc-bottom-tip super-vip">\n<div class="doc-bottom-rights-wrap">\n<span class="icon-triangle"></span>\n<div class="{{? it.isWenkuVipRenew}}renew-vip{{??}}renew-vip-jiaoyu{{?}}">\n<i></i>\n{{? +it.renewalVipInfo.pro_download_ticket_total<= 1 && +it.renewalVipInfo.normal_download_ticket_total >1 }}                \u9650\u65f6\u7eed\u8d39\u8d60VIP\u4e13\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743<span class="red">4</span>\u4e2a                {{?? +it.renewalVipInfo.pro_download_ticket_total > 1 && +it.renewalVipInfo.normal_download_ticket_total<= 1 }}\n                \u9650\u65f6\u7eed\u8d39\u8d60\u5171\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743<span class="red">12</span>\u4e2a                {{?? +it.renewalVipInfo.pro_download_ticket_total<= 1 && +it.renewalVipInfo.normal_download_ticket_total <= 1 }}\n                \u9650\u65f6\u7eed\u8d39\u8d60\u4e24\u79cd\u4e0b\u8f7d\u7279\u6743<span class="red">\u54048</span>\u4e2a                {{??}}                    {{? (+it.renewalVipInfo.jiaoyu_vip_info.pro_download_ticket + +it.renewalVipInfo.jiaoyu_vip_info.normal_download_ticket) > 0}}                    \u9650\u65f6\u7eed\u8d39\u5269\u4f59<span class="red">{{=(+it.renewalVipInfo.jiaoyu_vip_info.pro_download_ticket + +it.renewalVipInfo.jiaoyu_vip_info.normal_download_ticket)}}</span>\u4e2a\u4e0b\u8f7d\u7279\u6743\u5ef6\u65f6<span class="red">30</span>\u5929                    {{??}}                    \u9650\u65f6{{? it.renewalVipInfo.vip_info.flag === 1}}\u7eed\u8d39{{??}}\u5347\u7ea7{{?}}\u5269\u4f59<span class="red">{{=(+it.renewalVipInfo.vip_info.pro_download_ticket + +it.renewalVipInfo.vip_info.normal_download_ticket)}}</span>\u4e2a\u4e0b\u8f7d\u7279\u6743\u5ef6\u65f6<span class="red">30</span>\u5929                    {{?}}                {{?}}</div>\n</div>\n</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PARTNER_NORMAL }}{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_NORMAL }}{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_DISCOUNT }}<div class="doc-bottom-tip super-vip">\n<div class="doc-bottom-rights-wrap">\n<span class="icon-triangle"></span>\n<div class="{{? it.isWenkuVipRenew}}renew-vip{{??}}renew-vip-jiaoyu{{?}}">\n<i></i>\n{{? +it.renewalVipInfo.pro_download_ticket_total<= 1 && +it.renewalVipInfo.normal_download_ticket_total >1 }}                \u9650\u65f6\u7eed\u8d39\u8d60VIP\u4e13\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743<span class="red">4</span>\u4e2a                {{?? +it.renewalVipInfo.pro_download_ticket_total > 1 && +it.renewalVipInfo.normal_download_ticket_total<= 1 }}\n                \u9650\u65f6\u7eed\u8d39\u8d60\u5171\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743<span class="red">12</span>\u4e2a                {{?? +it.renewalVipInfo.pro_download_ticket_total<= 1 && +it.renewalVipInfo.normal_download_ticket_total <= 1 }}\n                \u9650\u65f6\u7eed\u8d39\u8d60\u4e24\u79cd\u4e0b\u8f7d\u7279\u6743<span class="red">\u54048</span>\u4e2a                {{??}}                    {{? (+it.renewalVipInfo.jiaoyu_vip_info.pro_download_ticket + +it.renewalVipInfo.jiaoyu_vip_info.normal_download_ticket) > 0}}                    \u9650\u65f6\u7eed\u8d39\u5269\u4f59<span class="red">{{=(+it.renewalVipInfo.jiaoyu_vip_info.pro_download_ticket + +it.renewalVipInfo.jiaoyu_vip_info.normal_download_ticket)}}</span>\u4e2a\u4e0b\u8f7d\u7279\u6743\u5ef6\u65f6<span class="red">30</span>\u5929                    {{??}}                    \u9650\u65f6{{? it.renewalVipInfo.vip_info.flag === 1}}\u7eed\u8d39{{??}}\u5347\u7ea7{{?}}\u5269\u4f59<span class="red">{{=(+it.renewalVipInfo.vip_info.pro_download_ticket + +it.renewalVipInfo.vip_info.normal_download_ticket)}}</span>\u4e2a\u4e0b\u8f7d\u7279\u6743\u5ef6\u65f6<span class="red">30</span>\u5929                    {{?}}                {{?}}</div>\n</div>\n</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_PACK }}{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PROFESSIONAL }}<div class="doc-bottom-tip super-vip">\n<div class="doc-bottom-rights-wrap">\n<span class="icon-triangle"></span>\n<div class="{{? it.isWenkuVipRenew}}renew-vip{{??}}renew-vip-jiaoyu{{?}}">\n<i></i>\n{{? +it.renewalVipInfo.pro_download_ticket_total<= 1 && +it.renewalVipInfo.normal_download_ticket_total >1 }}                \u9650\u65f6\u7eed\u8d39\u8d60VIP\u4e13\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743<span class="red">4</span>\u4e2a                {{?? +it.renewalVipInfo.pro_download_ticket_total > 1 && +it.renewalVipInfo.normal_download_ticket_total<= 1 }}\n                \u9650\u65f6\u7eed\u8d39\u8d60\u5171\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743<span class="red">12</span>\u4e2a                {{?? +it.renewalVipInfo.pro_download_ticket_total<= 1 && +it.renewalVipInfo.normal_download_ticket_total <= 1 }}\n                \u9650\u65f6\u7eed\u8d39\u8d60\u4e24\u79cd\u4e0b\u8f7d\u7279\u6743<span class="red">\u54048</span>\u4e2a                {{??}}                    {{? (+it.renewalVipInfo.jiaoyu_vip_info.pro_download_ticket + +it.renewalVipInfo.jiaoyu_vip_info.normal_download_ticket) > 0}}                    \u9650\u65f6\u7eed\u8d39\u5269\u4f59<span class="red">{{=(+it.renewalVipInfo.jiaoyu_vip_info.pro_download_ticket + +it.renewalVipInfo.jiaoyu_vip_info.normal_download_ticket)}}</span>\u4e2a\u4e0b\u8f7d\u7279\u6743\u5ef6\u65f6<span class="red">30</span>\u5929                    {{??}}                    \u9650\u65f6{{? it.renewalVipInfo.vip_info.flag === 1}}\u7eed\u8d39{{??}}\u5347\u7ea7{{?}}\u5269\u4f59<span class="red">{{=(+it.renewalVipInfo.vip_info.pro_download_ticket + +it.renewalVipInfo.vip_info.normal_download_ticket)}}</span>\u4e2a\u4e0b\u8f7d\u7279\u6743\u5ef6\u65f6<span class="red">30</span>\u5929                    {{?}}                {{?}}</div>\n</div>\n</div>\n{{?}}')(i);break;case d.USER_TYPE.VIP_WENKU:n=t.template('{{? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET }}<div class="doc-bottom-tip super-vip">\n<div class="doc-bottom-rights-wrap">\n<span class="icon-triangle"></span>\n<div class="renew-vip">\n<i></i>\n{{? +it.renewalVipInfo.pro_download_ticket_total<= 1 && +it.renewalVipInfo.normal_download_ticket_total >1 }}                \u9650\u65f6\u5347\u7ea7\u8d60VIP\u4e13\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743<span class="red">4</span>\u4e2a                {{?? +it.renewalVipInfo.pro_download_ticket_total > 1 && +it.renewalVipInfo.normal_download_ticket_total<= 1 }}\n                \u9650\u65f6\u5347\u7ea7\u8d60\u5171\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743<span class="red">12</span>\u4e2a                {{?? +it.renewalVipInfo.pro_download_ticket_total<= 1 && +it.renewalVipInfo.normal_download_ticket_total <= 1 }}\n                \u9650\u65f6\u5347\u7ea7\u8d60\u4e24\u79cd\u4e0b\u8f7d\u7279\u6743<span class="red">\u54048</span>\u4e2a                {{??}}                \u9650\u65f6\u5347\u7ea7\u5269\u4f59<span class="red">{{=(+it.renewalVipInfo.vip_info.pro_download_ticket + +it.renewalVipInfo.vip_info.normal_download_ticket)}}</span>\u4e2a\u4e0b\u8f7d\u7279\u6743\u5ef6\u65f6<span class="red">30</span>\u5929                {{?}}</div>\n</div>\n</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET_VIP_FREE }}<div class="doc-bottom-tip super-vip">\n<div class="doc-bottom-rights-wrap">\n<span class="icon-triangle"></span>\n<div class="renew-vip">\n<i></i>\n{{? +it.renewalVipInfo.pro_download_ticket_total<= 1 && +it.renewalVipInfo.normal_download_ticket_total >1 }}                \u9650\u65f6\u5347\u7ea7\u8d60VIP\u4e13\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743<span class="red">4</span>\u4e2a                {{?? +it.renewalVipInfo.pro_download_ticket_total > 1 && +it.renewalVipInfo.normal_download_ticket_total<= 1 }}\n                \u9650\u65f6\u5347\u7ea7\u8d60\u5171\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743<span class="red">12</span>\u4e2a                {{?? +it.renewalVipInfo.pro_download_ticket_total<= 1 && +it.renewalVipInfo.normal_download_ticket_total <= 1 }}\n                \u9650\u65f6\u5347\u7ea7\u8d60\u4e24\u79cd\u4e0b\u8f7d\u7279\u6743<span class="red">\u54048</span>\u4e2a                {{??}}                \u9650\u65f6\u5347\u7ea7\u5269\u4f59<span class="red">{{=(+it.renewalVipInfo.vip_info.pro_download_ticket + +it.renewalVipInfo.vip_info.normal_download_ticket)}}</span>\u4e2a\u4e0b\u8f7d\u7279\u6743\u5ef6\u65f6<span class="red">30</span>\u5929                {{?}}</div>\n</div>\n</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PARTNER_NORMAL }}{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_NORMAL }}{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_DISCOUNT }}<div class="doc-bottom-tip super-vip">\n<div class="doc-bottom-rights-wrap">\n<span class="icon-triangle"></span>\n<div class="renew-vip">\n<i></i>\n{{? +it.renewalVipInfo.pro_download_ticket_total<= 1 && +it.renewalVipInfo.normal_download_ticket_total >1 }}                \u9650\u65f6\u5347\u7ea7\u8d60VIP\u4e13\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743<span class="red">4</span>\u4e2a                {{?? +it.renewalVipInfo.pro_download_ticket_total > 1 && +it.renewalVipInfo.normal_download_ticket_total<= 1 }}\n                \u9650\u65f6\u5347\u7ea7\u8d60\u5171\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743<span class="red">12</span>\u4e2a                {{?? +it.renewalVipInfo.pro_download_ticket_total<= 1 && +it.renewalVipInfo.normal_download_ticket_total <= 1 }}\n                \u9650\u65f6\u5347\u7ea7\u8d60\u4e24\u79cd\u4e0b\u8f7d\u7279\u6743<span class="red">\u54048</span>\u4e2a                {{??}}                \u9650\u65f6\u5347\u7ea7\u5269\u4f59<span class="red">{{=(+it.renewalVipInfo.vip_info.pro_download_ticket + +it.renewalVipInfo.vip_info.normal_download_ticket)}}</span>\u4e2a\u4e0b\u8f7d\u7279\u6743\u5ef6\u65f6<span class="red">30</span>\u5929                {{?}}</div>\n</div>\n</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_PACK }}{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PROFESSIONAL }}<div class="doc-bottom-tip super-vip">\n<div class="doc-bottom-rights-wrap">\n<span class="icon-triangle"></span>\n<div class="renew-vip">\n<i></i>\n{{? +it.renewalVipInfo.pro_download_ticket_total<= 1 && +it.renewalVipInfo.normal_download_ticket_total >1 }}                \u9650\u65f6\u5347\u7ea7\u8d60VIP\u4e13\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743<span class="red">4</span>\u4e2a                {{?? +it.renewalVipInfo.pro_download_ticket_total > 1 && +it.renewalVipInfo.normal_download_ticket_total<= 1 }}\n                \u9650\u65f6\u5347\u7ea7\u8d60\u5171\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743<span class="red">12</span>\u4e2a                {{?? +it.renewalVipInfo.pro_download_ticket_total<= 1 && +it.renewalVipInfo.normal_download_ticket_total <= 1 }}\n                \u9650\u65f6\u5347\u7ea7\u8d60\u4e24\u79cd\u4e0b\u8f7d\u7279\u6743<span class="red">\u54048</span>\u4e2a                {{??}}                \u9650\u65f6\u5347\u7ea7\u5269\u4f59<span class="red">{{=(+it.renewalVipInfo.vip_info.pro_download_ticket + +it.renewalVipInfo.vip_info.normal_download_ticket)}}</span>\u4e2a\u4e0b\u8f7d\u7279\u6743\u5ef6\u65f6<span class="red">30</span>\u5929                {{?}}</div>\n</div>\n</div>\n{{?}}')(i);break;case d.USER_TYPE.VIP_CLASSIC:n=t.template('{{? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET }}<div class="doc-bottom-tip super-vip">\n<div class="doc-bottom-rights-wrap">\n<span class="icon-triangle"></span>\n<div class="upgrade-vip">\n<i></i>\n{{? +it.renewalVipInfo.pro_download_ticket_total<= 1 && +it.renewalVipInfo.normal_download_ticket_total >1 }}                \u9650\u65f6\u5347\u7ea7\u8d60VIP\u4e13\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743<span class="red">4</span>\u4e2a                {{?? +it.renewalVipInfo.pro_download_ticket_total > 1 && +it.renewalVipInfo.normal_download_ticket_total<= 1 }}\n                \u9650\u65f6\u5347\u7ea7\u8d60\u5171\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743<span class="red">12</span>\u4e2a                {{?? +it.renewalVipInfo.pro_download_ticket_total<= 1 && +it.renewalVipInfo.normal_download_ticket_total <= 1 }}\n                \u9650\u65f6\u5347\u7ea7\u8d60\u4e24\u79cd\u4e0b\u8f7d\u7279\u6743<span class="red">\u54048</span>\u4e2a                {{??}}                \u9650\u65f6\u5347\u7ea7\u5269\u4f59<span class="red">{{=(+it.renewalVipInfo.vip_info.pro_download_ticket + +it.renewalVipInfo.vip_info.normal_download_ticket)}}</span>\u4e2a\u4e0b\u8f7d\u7279\u6743\u5ef6\u65f6<span class="red">30</span>\u5929                {{?}}</div>\n</div>\n</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET_VIP_FREE }}<div class="doc-bottom-tip super-vip">\n<div class="doc-bottom-rights-wrap">\n<span class="icon-triangle"></span>\n<div class="upgrade-vip">\n<i></i>\n{{? +it.renewalVipInfo.pro_download_ticket_total<= 1 && +it.renewalVipInfo.normal_download_ticket_total >1 }}                \u9650\u65f6\u5347\u7ea7\u8d60VIP\u4e13\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743<span class="red">4</span>\u4e2a                {{?? +it.renewalVipInfo.pro_download_ticket_total > 1 && +it.renewalVipInfo.normal_download_ticket_total<= 1 }}\n                \u9650\u65f6\u5347\u7ea7\u8d60\u5171\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743<span class="red">12</span>\u4e2a                {{?? +it.renewalVipInfo.pro_download_ticket_total<= 1 && +it.renewalVipInfo.normal_download_ticket_total <= 1 }}\n                \u9650\u65f6\u5347\u7ea7\u8d60\u4e24\u79cd\u4e0b\u8f7d\u7279\u6743<span class="red">\u54048</span>\u4e2a                {{??}}                \u9650\u65f6\u5347\u7ea7\u5269\u4f59<span class="red">{{=(+it.renewalVipInfo.vip_info.pro_download_ticket + +it.renewalVipInfo.vip_info.normal_download_ticket)}}</span>\u4e2a\u4e0b\u8f7d\u7279\u6743\u5ef6\u65f6<span class="red">30</span>\u5929                {{?}}</div>\n</div>\n</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PARTNER_NORMAL }}{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_NORMAL }}{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_DISCOUNT }}<div class="doc-bottom-tip super-vip">\n<div class="doc-bottom-rights-wrap">\n<span class="icon-triangle"></span>\n<div class="upgrade-vip">\n<i></i>\n{{? +it.renewalVipInfo.pro_download_ticket_total<= 1 && +it.renewalVipInfo.normal_download_ticket_total >1 }}                \u9650\u65f6\u5347\u7ea7\u8d60VIP\u4e13\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743<span class="red">4</span>\u4e2a                {{?? +it.renewalVipInfo.pro_download_ticket_total > 1 && +it.renewalVipInfo.normal_download_ticket_total<= 1 }}\n                \u9650\u65f6\u5347\u7ea7\u8d60\u5171\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743<span class="red">12</span>\u4e2a                {{?? +it.renewalVipInfo.pro_download_ticket_total<= 1 && +it.renewalVipInfo.normal_download_ticket_total <= 1 }}\n                \u9650\u65f6\u5347\u7ea7\u8d60\u4e24\u79cd\u4e0b\u8f7d\u7279\u6743<span class="red">\u54048</span>\u4e2a                {{??}}                \u9650\u65f6\u5347\u7ea7\u5269\u4f59<span class="red">{{=(+it.renewalVipInfo.vip_info.pro_download_ticket + +it.renewalVipInfo.vip_info.normal_download_ticket)}}</span>\u4e2a\u4e0b\u8f7d\u7279\u6743\u5ef6\u65f6<span class="red">30</span>\u5929                {{?}}</div>\n</div>\n</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_PACK }}{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PROFESSIONAL }}<div class="doc-bottom-tip super-vip">\n<div class="doc-bottom-rights-wrap">\n<span class="icon-triangle"></span>\n<div class="download-pro-doc">\n<i></i>\u4eabVIP\u4e13\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743</div>\n<div class="download-share-doc">\n<i></i>\u8d60\u5171\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743</div>\n<div class="yuedu-vip">\n<i></i>\u8d60\u767e\u5ea6\u9605\u8bfbVIP\u7cbe\u54c1\u7248</div>\n</div>\n</div>\n{{?}}')(i);break;case d.USER_TYPE.LOGIN_NOT_VIP:n=t.template('{{? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET }}<div class="doc-bottom-tip super-vip">\n<div class="doc-bottom-rights-wrap">\n<span class="icon-triangle"></span>\n<div class="download-pro-doc">\n<i></i>\u4eabVIP\u4e13\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743</div>\n<div class="download-share-doc">\n<i></i>\u8d60\u5171\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743</div>\n<div class="yuedu-vip">\n<i></i>\u8d60\u767e\u5ea6\u9605\u8bfbVIP\u7cbe\u54c1\u7248</div>\n</div>\n</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET_VIP_FREE }}<div class="doc-bottom-tip super-vip">\n<div class="doc-bottom-rights-wrap">\n<span class="icon-triangle"></span>\n<div class="download-pro-doc">\n<i></i>\u4eabVIP\u4e13\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743</div>\n<div class="download-share-doc">\n<i></i>\u8d60\u5171\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743</div>\n<div class="yuedu-vip">\n<i></i>\u8d60\u767e\u5ea6\u9605\u8bfbVIP\u7cbe\u54c1\u7248</div>\n</div>\n</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PARTNER_NORMAL }}{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_NORMAL }}{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_DISCOUNT }}<div class="doc-bottom-tip super-vip">\n<div class="doc-bottom-rights-wrap">\n<span class="icon-triangle"></span>\n<div class="download-pro-doc">\n<i></i>\u4eabVIP\u4e13\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743</div>\n<div class="download-share-doc">\n<i></i>\u8d60\u5171\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743</div>\n<div class="yuedu-vip">\n<i></i>\u8d60\u767e\u5ea6\u9605\u8bfbVIP\u7cbe\u54c1\u7248</div>\n</div>\n</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_PACK }}<div class="doc-bottom-tip super-vip">\n<div class="doc-bottom-rights-wrap">\n<span class="icon-triangle"></span>\n<div class="download-pro-doc">\n<i></i>\u4eabVIP\u4e13\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743</div>\n<div class="download-share-doc">\n<i></i>\u8d60\u5171\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743</div>\n<div class="yuedu-vip">\n<i></i>\u8d60\u767e\u5ea6\u9605\u8bfbVIP\u7cbe\u54c1\u7248</div>\n</div>\n</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PROFESSIONAL }}<div class="doc-bottom-tip super-vip">\n<div class="doc-bottom-rights-wrap">\n<span class="icon-triangle"></span>\n<div class="download-pro-doc">\n<i></i>\u4eabVIP\u4e13\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743</div>\n<div class="download-share-doc">\n<i></i>\u8d60\u5171\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743</div>\n<div class="yuedu-vip">\n<i></i>\u8d60\u767e\u5ea6\u9605\u8bfbVIP\u7cbe\u54c1\u7248</div>\n</div>\n</div>\n{{?}}')(i);break;case d.USER_TYPE.NOT_LOGIN:n=t.template('{{? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET }}<div class="doc-bottom-tip super-vip">\n<div class="doc-bottom-rights-wrap">\n<span class="icon-triangle"></span>\n<div class="download-pro-doc">\n<i></i>\u4eabVIP\u4e13\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743</div>\n<div class="download-share-doc">\n<i></i>\u8d60\u5171\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743</div>\n<div class="yuedu-vip">\n<i></i>\u8d60\u767e\u5ea6\u9605\u8bfbVIP\u7cbe\u54c1\u7248</div>\n</div>\n</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET_VIP_FREE }}<div class="doc-bottom-tip super-vip">\n<div class="doc-bottom-rights-wrap">\n<span class="icon-triangle"></span>\n<div class="download-pro-doc">\n<i></i>\u4eabVIP\u4e13\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743</div>\n<div class="download-share-doc">\n<i></i>\u8d60\u5171\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743</div>\n<div class="yuedu-vip">\n<i></i>\u8d60\u767e\u5ea6\u9605\u8bfbVIP\u7cbe\u54c1\u7248</div>\n</div>\n</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PARTNER_NORMAL }}{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_NORMAL }}{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_DISCOUNT }}<div class="doc-bottom-tip super-vip">\n<div class="doc-bottom-rights-wrap">\n<span class="icon-triangle"></span>\n<div class="download-pro-doc">\n<i></i>\u4eabVIP\u4e13\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743</div>\n<div class="download-share-doc">\n<i></i>\u8d60\u5171\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743</div>\n<div class="yuedu-vip">\n<i></i>\u8d60\u767e\u5ea6\u9605\u8bfbVIP\u7cbe\u54c1\u7248</div>\n</div>\n</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_PACK }}<div class="doc-bottom-tip super-vip">\n<div class="doc-bottom-rights-wrap">\n<span class="icon-triangle"></span>\n<div class="download-pro-doc">\n<i></i>\u4eabVIP\u4e13\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743</div>\n<div class="download-share-doc">\n<i></i>\u8d60\u5171\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743</div>\n<div class="yuedu-vip">\n<i></i>\u8d60\u767e\u5ea6\u9605\u8bfbVIP\u7cbe\u54c1\u7248</div>\n</div>\n</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PROFESSIONAL }}<div class="doc-bottom-tip super-vip">\n<div class="doc-bottom-rights-wrap">\n<span class="icon-triangle"></span>\n<div class="download-pro-doc">\n<i></i>\u4eabVIP\u4e13\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743</div>\n<div class="download-share-doc">\n<i></i>\u8d60\u5171\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743</div>\n<div class="yuedu-vip">\n<i></i>\u8d60\u767e\u5ea6\u9605\u8bfbVIP\u7cbe\u54c1\u7248</div>\n</div>\n</div>\n{{?}}')(i);break;case d.USER_TYPE.VIP_WENKUEDU:n=t.template('{{? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET }}<div class="doc-bottom-tip super-vip">\n<div class="doc-bottom-rights-wrap">\n<span class="icon-triangle"></span>\n<div class="upgrade-vip">\n<i></i>\n{{? +it.renewalVipInfo.pro_download_ticket_total<= 1 && +it.renewalVipInfo.normal_download_ticket_total >1 }}                \u9650\u65f6\u5347\u7ea7\u8d60VIP\u4e13\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743<span class="red">4</span>\u4e2a                {{?? +it.renewalVipInfo.pro_download_ticket_total > 1 && +it.renewalVipInfo.normal_download_ticket_total<= 1 }}\n                \u9650\u65f6\u5347\u7ea7\u8d60\u5171\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743<span class="red">12</span>\u4e2a                {{?? +it.renewalVipInfo.pro_download_ticket_total<= 1 && +it.renewalVipInfo.normal_download_ticket_total <= 1 }}\n                \u9650\u65f6\u5347\u7ea7\u8d60\u4e24\u79cd\u4e0b\u8f7d\u7279\u6743<span class="red">\u54048</span>\u4e2a                {{??}}                \u9650\u65f6\u5347\u7ea7\u5269\u4f59<span class="red">{{=(+it.renewalVipInfo.vip_info.pro_download_ticket + +it.renewalVipInfo.vip_info.normal_download_ticket)}}</span>\u4e2a\u4e0b\u8f7d\u7279\u6743\u5ef6\u65f6<span class="red">30</span>\u5929                {{?}}</div>\n</div>\n</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.TICKET_VIP_FREE }}<div class="doc-bottom-tip super-vip">\n<div class="doc-bottom-rights-wrap">\n<span class="icon-triangle"></span>\n<div class="upgrade-vip">\n<i></i>\n{{? +it.renewalVipInfo.pro_download_ticket_total<= 1 && +it.renewalVipInfo.normal_download_ticket_total >1 }}                \u9650\u65f6\u5347\u7ea7\u8d60VIP\u4e13\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743<span class="red">4</span>\u4e2a                {{?? +it.renewalVipInfo.pro_download_ticket_total > 1 && +it.renewalVipInfo.normal_download_ticket_total<= 1 }}\n                \u9650\u65f6\u5347\u7ea7\u8d60\u5171\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743<span class="red">12</span>\u4e2a                {{?? +it.renewalVipInfo.pro_download_ticket_total<= 1 && +it.renewalVipInfo.normal_download_ticket_total <= 1 }}\n                \u9650\u65f6\u5347\u7ea7\u8d60\u4e24\u79cd\u4e0b\u8f7d\u7279\u6743<span class="red">\u54048</span>\u4e2a                {{??}}                \u9650\u65f6\u5347\u7ea7\u5269\u4f59<span class="red">{{=(+it.renewalVipInfo.vip_info.pro_download_ticket + +it.renewalVipInfo.vip_info.normal_download_ticket)}}</span>\u4e2a\u4e0b\u8f7d\u7279\u6743\u5ef6\u65f6<span class="red">30</span>\u5929                {{?}}</div>\n</div>\n</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PARTNER_NORMAL }}{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_NORMAL }}{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_DISCOUNT }}<div class="doc-bottom-tip super-vip">\n<div class="doc-bottom-rights-wrap">\n<span class="icon-triangle"></span>\n<div class="upgrade-vip">\n<i></i>\n{{? +it.renewalVipInfo.pro_download_ticket_total<= 1 && +it.renewalVipInfo.normal_download_ticket_total >1 }}                \u9650\u65f6\u5347\u7ea7\u8d60VIP\u4e13\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743<span class="red">4</span>\u4e2a                {{?? +it.renewalVipInfo.pro_download_ticket_total > 1 && +it.renewalVipInfo.normal_download_ticket_total<= 1 }}\n                \u9650\u65f6\u5347\u7ea7\u8d60\u5171\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743<span class="red">12</span>\u4e2a                {{?? +it.renewalVipInfo.pro_download_ticket_total<= 1 && +it.renewalVipInfo.normal_download_ticket_total <= 1 }}\n                \u9650\u65f6\u5347\u7ea7\u8d60\u4e24\u79cd\u4e0b\u8f7d\u7279\u6743<span class="red">\u54048</span>\u4e2a                {{??}}                \u9650\u65f6\u5347\u7ea7\u5269\u4f59<span class="red">{{=(+it.renewalVipInfo.vip_info.pro_download_ticket + +it.renewalVipInfo.vip_info.normal_download_ticket)}}</span>\u4e2a\u4e0b\u8f7d\u7279\u6743\u5ef6\u65f6<span class="red">30</span>\u5929                {{?}}</div>\n</div>\n</div>\n{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PAY_PACK }}{{?? +it.docValueType === +it.DOC_VALUE_TYPE.PROFESSIONAL }}<div class="doc-bottom-tip super-vip">\n<div class="doc-bottom-rights-wrap">\n<span class="icon-triangle"></span>\n<div class="download-pro-doc">\n<i></i>\u4eabVIP\u4e13\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743</div>\n<div class="download-share-doc">\n<i></i>\u8d60\u5171\u4eab\u6587\u6863\u4e0b\u8f7d\u7279\u6743</div>\n<div class="yuedu-vip">\n<i></i>\u8d60\u767e\u5ea6\u9605\u8bfbVIP\u7cbe\u54c1\u7248</div>\n</div>\n</div>\n{{?}}')(i)}return n},caculateTipLeft:function(){var n=a(".btn-pay-vip",this.$root),i=a(".doc-bottom-rights-wrap",this.$root);if(n.length&&i.length){var o=n.position(),t=n.outerWidth(),d=i.position(),e=o.left-d.left+t/2;a(".icon-triangle",this.$root).css({left:e+"px"})}},afterRender:function(){var n=this;this.caculateTipLeft(),a(window).on("show.hiddenDocBanner",function(){n.caculateTipLeft()})}},o.exports=l});
;define("wkview:widget/common_toc_reader/common/doc_bottom/compAsync/index.js",function(o,t,e){var n=o("wkcommon:widget/lib/fis/data/data.js"),i=o("wkview:widget/common_item/commonUtil/commonUtil.js"),c=o("wkview:widget/model/vipData.js"),r=o("wkcommon:widget/ui/js_core/xform/xform.js"),m=o("wkcommon:widget/lib/doT/doT.min.js"),s=o("wkview:widget/common_toc_reader/common/doc_bottom/compAsync/text/text.js"),d=o("wkview:widget/common_toc_reader/common/doc_bottom/compAsync/value/value.js"),a=o("wkview:widget/common_toc_reader/common/doc_bottom/compAsync/btns/btns.js"),w=o("wkview:widget/common_toc_reader/common/doc_bottom/compAsync/tip/tip.js"),p=n.get("WkInfo")||{},l=p.DocInfo,f=$(".bottom-core-wrap"),b=function(){this.init()};b.prototype={constructor:b,init:function(){c.run($.proxy(this.render,this),$.proxy(this.render,this))},render:function(){var o=window.vipInfo||{},t=o.renewal_vip_info||{},e=window.downloadResource||{};l.isVipFreeDoc=window.isVipFreeDoc;var n=i.calculateUserType(o),c=i.calcualteDocValueType(l),b={userType:n,docValueType:c,docInfo:l,vipInfo:o,renewalVipInfo:t,wkInfo:p,downloadResource:e},g=[new s(b,f),new d(b,f),new a(b,f),new w(b,f)],u=[];if($(g).each(function(){this.bindEvent(),u.push(this.makeTemplate())}),f.html(u.join("")),$(g).each(function(){$.isFunction(this.afterRender)&&this.afterRender()}),l&&!l.ispaied&&"1"===l.isOrgDoc&&n!==i.USER_TYPE.NOT_LOGIN){var _,v,T=l.createUserId,h=!1,k={},x=new Date;r.getJSON("org_buybtn_control",{success:function(o){if(o.orgs)for(var t=0;t<o.orgs.length;t++)if(_=new Date(o.orgs[t].startTime),v=new Date(o.orgs[t].endTime),o.orgs[t].orgId===T&&x>_&&v>x){h=!0,k.btnTxtTop=o.orgs[t].text1,k.btnTxtBottom=o.orgs[t].text2;break}if(h&&$(".doc-bottom-btns").length>0){var e=m.template('<div class="btn-download-disable">\n{{=it.btnTxtTop}}, {{=it.btnTxtBottom}}</div>')(k);$(".doc-bottom-btns").html(e)}}})}}},e.exports=b});
;define("wkview:widget/common_toc_reader/common/doc_bottom/doc_bottom.js",function(o,n,t){var i=o("wkcommon:widget/ui/js_core/log/log.js"),d=o("wkcommon:widget/lib/fis/data/data.js"),e=o("wkview:widget/doc_download_main/doc_download_main.js"),c=function(o){$.extend(!0,this.options,o),this.render()};c.prototype={constructor:c,options:{pos:"bottom"},init:function(){var o=this;$(".wanfang-download-js").on("click",function(n){o.download(n)})},render:function(){return this.init(),this},download:function(o){o.preventDefault(),i.xsend(1,101792,{index:12});var n=d.get("WkInfo");e.goSpecialDownload(n)}},t.exports=c});
;define("wkview:widget/common_toc/common/doc_tag/index.js",function(o,t,i){var e=o("wkcommon:widget/ui/lib/jquery/jquery.js"),n=o("wkcommon:widget/lib/fis/data/data.js"),a=o("wkview:widget/common_item/commonUtil/commonUtil.js"),s=o("wkview:widget/model/vipData.js"),c=n.get("WkInfo")||{},d=c.DocInfo||{},r=e(".doc-tag-wrap"),g=function(){this.init().bindEvent()};g.prototype={constructor:g,ops:{},init:function(){return 19===+d.flag?this:(s.run(e.proxy(this.showTag,this),e.proxy(this.showTag,this)),this)},showTag:function(){d.isVipFreeDoc=window.isVipFreeDoc;var o=a.calcualteDocValueType(d),t=a.DOC_VALUE_TYPE;switch(o){case t.PROFESSIONAL:e(".doc-tag-professional",r).show();break;case t.TICKET_VIP_FREE:e(".doc-tag-vip-free",r).show();break;case t.PAY_DISCOUNT:e(".doc-tag-pay-discount",r).show();break;case t.PARTNER_NORMAL:e(".doc-tag-pay-normal",r).show();break;case t.PAY_NORMAL:e(".doc-tag-pay-normal",r).show();break;case t.PAY_PACK:e(".doc-tag-pay-normal",r).show();break;case t.TICKET:e(".doc-tag-ticket",r).show()}},bindEvent:function(){r.on("mouseover",".doc-tag",function(){var o=e(this),t=e(".tag-info",o);t.show()}),r.on("mouseleave",".doc-tag",function(o){var t=this.offsetWidth,i=this.offsetHeight,n=this.getBoundingClientRect().top+document.body.scrollTop,a=(o.pageX-this.getBoundingClientRect().left-t/2)*(t>i?i/t:1),s=(o.pageY-n-i/2)*(i>t?t/i:1),c=Math.round((180*Math.atan2(s,a)/Math.PI+180)/90+3)%4,d=["up","right","down","left"];if("down"!==d[c]){var r=e(".tag-info",e(this));r.hide()}}),r.on("mouseleave",".tag-info",function(){var o=e(this);o.hide()}),e(window).scroll(function(){try{var o=e(window).scrollTop(),t=e(".reader-container")[0],i=t.getBoundingClientRect().bottom,n=r[0].getBoundingClientRect().bottom;if(n>i)return void r.css({visibility:"hidden"});r.css({visibility:"visible"}),o>=268?r.addClass("fixed"):r.removeClass("fixed")}catch(a){console.warn(a)}})}},i.exports=g});
;define("wkview:widget/userEvaluation/userEvaluation.js",function(t,e,a){var i=t("wkcommon:widget/ui/lib/jquery/jquery.js"),n=t("wkcommon:widget/lib/tangram/base/base.js"),o=t("wkcommon:widget/ui/js_core/log/log.js");a.exports.userEvaluation=function(t){var e=["","\u5f88\u5dee","\u8f83\u5dee","\u8fd8\u884c","\u63a8\u8350","\u529b\u8350"],a="/doc/submit/value",t=i("#"+t),s=t.find(".evaluate-title"),u=t.find(".value-star"),l=t.find(".value-tip"),r=t.siblings(".value-pop"),c=+t.attr("data-value")||-1,v=+t.attr("data-doc-value")||0,d=0,h=t.attr("data-id"),f=this,m={ct:"20009",doc_id:h,value_score:null};this.init=function(){this.initValue(),0>c&&this.initEvent()},this.initValue=function(){this.getData(),c>0&&(s.html("\u5df2\u8bc4\u4ef7: "),this.evaluate(c+1))},this.getData=function(){var t="/doc/interface/docCount?viewCountIncr=1&doc_id="+h+"&sl="+window.screenLeft;i.getJSON(t,function(t){v=(t.float_valueAverage/2).toFixed(1),n.lang.eventCenter.dispatchEvent("docCount.response",{data:t})})},this.evaluate=function(t){t--,u.each(function(e,a){t>=e?i(a).removeClass("ic-star-t-off").addClass("ic-star-t-on"):i(a).addClass("ic-star-t-off").removeClass("ic-star-t-on")}),l.html(e[t+1])},this.initEvent=function(){var t=null;u.each(function(e,a){var n=i(a);n.hover(function(){t&&clearTimeout(t),0>c&&f.evaluate(e+1)},function(){0>c&&(t=setTimeout(function(){f.evaluate(0)},50))}),n.click(function(){0>c&&(d=e+1)&&f.submit(e+1)})})},this.disabledForm=function(){f.evaluate(v),c=v},this.showTotalTips=function(t){t&&(r.find("p").html(t),r.fadeIn(500))},this.hideTotalTips=function(){r.fadeOut(500)},this.submitCallBack=function(t){switch(+t){case 0:f.evaluate(d),c=d,f.showTotalTips("\u8bc4\u4ef7\u6210\u529f\uff01"),s.html("\u60a8\u5df2\u8bc4\u4ef7\uff1a");break;case 45:f.showTotalTips("\u4e0d\u80fd\u8bc4\u4ef7\u81ea\u5df2\u7684\u6587\u6863\uff01"),n.lang.eventCenter.dispatchEvent("user-evaluation-error"),f.disabledForm();break;case 6:f.showTotalTips("\u60a8\u4e4b\u524d\u5df2\u7ecf\u8bc4\u4ef7\u8fc7\u4e86\uff01"),n.lang.eventCenter.dispatchEvent("user-evaluation-error",{btnTxt:"\u5df2\u8bc4\u4ef7"}),f.evaluate(d),c=d,s.html("\u60a8\u5df2\u8bc4\u4ef7\uff1a");break;case 4:f.showTotalTips("\u6ca1\u6709\u64cd\u4f5c\u6743\u9650\uff01"),n.lang.eventCenter.dispatchEvent("user-evaluation-error"),f.disabledForm();break;case 5:f.showTotalTips("\u4f11\u606f\u4e00\u4e0b\u518d\u8bc4\u4ef7\u5427\uff01");break;default:f.showTotalTips("\u7cfb\u7edf\u9519\u8bef\uff0c\u8bf7\u7a0d\u5019\u518d\u8bd5\uff01")}setTimeout(function(){f.hideTotalTips()},1500)},this.submit=function(t){return 1>t||t>5?void f.showTotalTips("\u63d0\u4ea4\u6570\u636e\u5931\u8d25"):(m.value_score=t,o.xsend(1,100030,{value_score:m.value_score}),void i.post(a,m,function(t){try{"string"===i.type(t)&&(t=i.parseJSON(t))}catch(e){}f.submitCallBack(t.errno,t.float_value_average)}))}}});
;define("wkview:widget/down_doc/down_doc.js",function(e,t,a){var o=e("wkcommon:widget/lib/tangram/base/base.js"),n=e("wkcommon:widget/ui/js_core/dialog/dialog.js"),i=e("wkcommon:widget/lib/fis/data/data.js"),c=i.get("WkInfo"),l=e("wkcommon:widget/ui/js_core/log/log.js"),r=function(){var e=null;return function(){return e||(e=n.dialogCreate()),e}}(),d=function(){var e=function(e){this.vo=e};return e.prototype={constructor:e,init:function(){this.toggleSize()},show:function(){var e=o.g(this.vo.el),t=o.g(this.vo.panel);e.style.display="block"===e.style.display?"none":"block",t.style.display="block"===t.style.display?"none":"block",this.bind(),this.setCode("normal")},bind:function(){var e=this;o.event.on(this.vo.view,"click",function(){var t="normal"===e.statusType,a={viewImg:t?"450-500":"630-500",viewSize:t?"450*500":"630*500",width:t?520:700,height:t?660:660,content:'<div class="viewReader"><p><img src="https://edu-wenku.bdimg.com/icms_transform/img/iknow/docshare/{viewImg}.jpg" alt="" /></p>\u5c3a\u5bf8 {viewSize}pix</div>'};r().alert({title:"\u5206\u4eab\u6587\u6863",content:a.content.replace(/{(viewImg|viewSize)}/g,function(e,t){return a[t]}),width:a.width,height:a.height,btnText:["\u8fd4\u56de"],onOk:function(){r().hide()}})}),o.event.on(this.vo.closePanel,"click",function(){var t=o.g(e.vo.el),a=o.g(e.vo.panel);t.style.display="none",a.style.display="none"}),o.event.on(this.vo.copy,"click",function(){e.copyToClipboard()})},setCode:function(e){var t=this,a=this.vo.toggleSize,n=this.vo.codeText,i=['<object width="{width}" height="{height}" align="middle" id="reader" codebase="http://fpdownload.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,0,0" classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000">','    <param value="window" name="wmode">','    <param value="true" name="allowfullscreen">','    <param name="allowscriptaccess" value="always">','    <param value="{value}" name="movie">','    <embed width="{width}" align="middle" height="{height}" pluginspage="http://www.macromedia.com/go/getflashplayer" type="application/x-shockwave-flash" name="reader" src="{value}" wmode="window" allowscriptaccess="always" bgcolor="#FFFFFF" ver="9.0.0"></embed>',"</object>"].join(""),r=function(e){var t="http://wenku.baidu.com/static/flash/{reader}?docurl=http://wenku.baidu.com/play&amp;docid={docId}&amp;title={docTitle}&amp;doctype={docType}&amp;fpn={pg}&amp;npn={pg}&amp;readertype=external&catal={catal}&amp;cdnurl={cdn}",a={reader:"txt"===c.DocInfo.docType?"txtreader.swf":"apireader.swf",docId:c.DocInfo.docId,docTitle:encodeURIComponent(c.DocInfo.title),docType:c.DocInfo.docType,pg:"txt"===c.DocInfo.docType?50:5,catal:c.DocInfo.catal,cdn:"//wktxt.bdimg.com/play"};return t=t.replace(/{(reader|docId|docTitle|docType|pg|catal|cdn)}/g,function(e,t){return a[t]}),l.xsend(1,102204,{index:"wkview_3"}),e.replace(/{value}/g,t)},d={normal:function(){o.g(n).value=r(i.replace(/{width}/g,450).replace(/{height}/g,500)),t.statusType="normal",o.g(a[0]).checked="true",o.g(a[1]).checked=""},big:function(){o.g(n).value=r(i.replace(/{width}/g,630).replace(/{height}/g,500)),t.statusType="big",o.g(a[0]).checked="",o.g(a[1]).checked="true"}};d[e]()},showDetail:function(){var e=o.g("show_detail_down");o.event.on(e,"click",function(){window.open("//wenku.baidu.com/view/58aa2640e45c3b3567ec8bd5.html")})},toggleSize:function(){var e=this,t=this.vo.toggleSize;o.array.each(t,function(a,n){o.event.on(o.g(a),"click",function(){o.g(t[0===n?1:0]).checked="",this.checked="true",e.setCode(/normalSize-\d+/.test(a)?"normal":"big")})})},copyToClipboard:function(e){if(l.send("api","share",{subtype:"copy"}),window.clipboardData)window.clipboardData.clearData(),window.clipboardData.setData("Text",e),o.g(this.vo.copyResult).innerHTML="\u590d\u5236\u6210\u529f\uff01";else if(-1!==navigator.userAgent.indexOf("Opera"))window.location=e;else if(window.netscape){try{netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect")}catch(t){alert("\u88ab\u6d4f\u89c8\u5668\u62d2\u7edd\uff01\n\u8bf7\u5728\u6d4f\u89c8\u5668\u5730\u5740\u680f\u8f93\u5165'about:config'\u5e76\u56de\u8f66\n\u7136\u540e\u5c06'signed.applets.codebase_principal_support'\u8bbe\u7f6e\u4e3a'true'")}var a=Components.classes["@mozilla.org/widget/clipboard;1"].createInstance(Components.interfaces.nsIClipboard);if(!a)return;var n=Components.classes["@mozilla.org/widget/transferable;1"].createInstance(Components.interfaces.nsITransferable);if(!n)return;n.addDataFlavor("text/unicode");var i={},c=e;i.data=c,n.setTransferData("text/unicode",i,2*c.length);var r=Components.interfaces.nsIClipboard;if(!a)return!1;a.setData(n,null,r.kGlobalClipboard),o.g(this.vo.copyResult).innerHTML="\u590d\u5236\u6210\u529f\uff01"}alert("\u4f60\u7684\u6d4f\u89c8\u5668\u7981\u7528\u4e86\u81ea\u52a8\u590d\u5236\u529f\u80fd\uff0c\u8bf7\u4f60\u624b\u52a8\u590d\u5236\u3002"),o.g(this.vo.codeText).select()}},e}(),s=function(e){var t=new d(e);return t.init(),t};a.exports.shareToCreate=s});
;define("wkview:widget/share_box/share_box.js",function(e,o,t){var i=e("wkcommon:widget/lib/tangram/base/base.js"),r=e("wkview:widget/node_modules/davidshimjs-qrcodejs/qrcode.js");t.exports=function(e){e=i.g(e);var o="?qrcode=1",t="http://"+location.host+location.pathname+o;if(e){new r(e,{text:t,width:128,height:128,colorDark:"#000000",colorLight:"#ffffff",correctLevel:r.CorrectLevel.L})}}});
;define("wkview:widget/relate_periodical/relate_periodical.js",function(e,a,t){var i=e("wkcommon:widget/lib/tangram/base/base.js"),l=e("wkview:widget/ui/pagenation/pagenation.js").pagenation,o=e("wkcommon:widget/ui/js_core/util/util.js"),p=e("wkcommon:widget/lib/fis/data/data.js").get("WkInfo")||{},n=e("wkcommon:widget/ui/js_core/log/log.js"),d=e("wkcommon:widget/ui/js_core/mvp/template/template.js").template,c={url:"/rec/getweipurec?",el:"",docId:"",data:"",conEle:null,tpl:["<ul>","    <%for(var i=0; i<page_list.length; i++){%>","        <li>",'            <b class="ic ic-dot"></b>','            <span class="periodical-title" title="<%=page_list[i].title%>">','                <b class="ic ic-<%=page_list[i].type%>"></b>','                <a href="/view/<%=page_list[i].doc_id%>.html" target="_blank" class="logSend" ','data-logsend=\'{"send":["view","periodical",{"bottom":"docClick","recommend_type":"weipu"}]}\'>',"                    <%=page_list[i].title%>","                </a>","            </span>",'            <span class="periodical-author">',"                \u4f5c\u8005\uff1a<%=page_list[i].author%>","            </span>",'            <span class="periodical-page">',"                <%=page_list[i].page%>\u9875","            </span>","            <span><%=page_list[i].price%></span>","        </li>","    <%}%>","</ul>"].join(""),init:function(e,a,t){var l=t||0,o=this;o.el=i.g("periodical-list-container"),o.conEle=i.g(a),o.docId=e,o.render(l)},render:function(e){var a=this,t=["doc_id="+a.docId,"page_size=10","page_no="+(e+1)].join("&");i.ajax.get(a.url+t,function(t,c){try{var s=i.json.parse(c);if(a.data=s.data,0!==s.status.code)return i.lang.eventCenter.dispatchEvent("noWeipuRec"),void i.dom.remove(a.conEle)}catch(r){return i.lang.eventCenter.dispatchEvent("noWeipuRec"),i.dom.remove(a.conEle),!1}i.dom.empty(a.el);for(var g=0;g<a.data.page_list.length;g++)a.data.page_list[g].type=p.PageInfo.docTypeList[a.data.page_list[g].type][0],a.data.page_list[g].price=1===+a.data.page_list[g].goods_type?a.data.page_list[g].price>0?"<b>"+a.data.page_list[g].price+"</b>\u79ef\u5206":"\u514d\u8d39":a.data.page_list[g].pay_price>0?"<b>"+(1*a.data.page_list[g].pay_price/100).toFixed(2)+"</b> \u5143":"\u514d\u8d39";a.el.appendChild(o.createDom(d(a.tpl,a.data))),i.g("periodical-list-title").innerHTML=a.data.title,n.send("view","periodical",{page:e,recommend_type:"weipu"}),l({el:a.el,total:a.data.total_count,pn:e,rn:10,callback:function(e){a.render(e)}}).gotoPage(e)})}};t.exports.periodical=c});
;define("wkview:widget/stru_recom/bizLog.js",function(e,t,n){var i=e("wkcommon:widget/ui/lib/jquery/jquery.js"),o=e("wkview:widget/node_modules/@baidu/el-visible/index.js"),r=e("wkcommon:widget/ui/js_core/log/log.js"),c=i(".stru-recom-new"),a={run:function(){this.elViewLog().elClickLog()},elViewLog:function(){return i(".one-info-block",c).each(function(){var e=i(this);o.onAutoActElVisible(this,function(){var t=i(".tagList a.current",c),n=e.index()+1,o=t.index()+1,a=i("a",e).attr("title");r.xsend(101775,{index:n,tabIndex:o,tagName:encodeURIComponent(a)})})}),i(".list-more",c).each(function(){var e=i(this);o.onAutoActElVisible(this,function(){var t=i(">a",e).attr("title");r.xsend(101776,{tagName:encodeURIComponent(t)})})}),this},elClickLog:function(){var e=i(".tagList .current",c),t=e.attr("title");return r.xsend(101784,{index:e.index()+1,tagName:encodeURIComponent(t)}),i(window).on("switch-struct-rec-tab",function(){var e=i(".tagList .current",c),t=e.attr("title");r.xsend(101784,{index:e.index()+1,tagName:encodeURIComponent(t)})}),this},triggerView:function(){i(document).trigger("scroll")}};n.exports=a});
;define("wkview:widget/stru_recom/struct.js",function(t,e,a){var i=t("wkcommon:widget/ui/lib/jquery/jquery.js"),n=t("wkcommon:widget/ui/js_core/log/log.js"),o=t("wkcommon:widget/ui/js_core/log/xshowLog.js"),s=(t("wkcommon:widget/lib/fis/data/data.js"),t("wkview:widget/commerce/fengchao/modelStru.js")),d=101540,c={init:function(t){this.hideLast(t).fetchData(t)},getLast:function(t){var e=i(t),a=e.index(),n=e.parent().parent(),o=n.next();return o.children("div").eq(a).find(".txtL:last")},hideLast:function(t){var e=this.getLast(t),a=e.parent().children(".txtL").length;return 6===a?(e.css("display","none"),e.clone().appendTo(e.parent())):6>a&&e.clone().appendTo(e.parent()),this},showLast:function(t,e){var a=this.getLast(t);return e?a.css("display","block"):a.prev().css("display","block"),this},fetchData:function(t){var e=i(".bottom-doc-list").length,a=i(".bottom-doc-list").find("textarea").length,n=this,d="",c="";if(e&&!a){t?(c=i(t),d=this.getLast(c)):(c=i(".bottom-doc-list").find(".tagList").find("a").eq(0),this.hideLast(c),d=this.getLast(c));var r=(c.attr("title")||"",+c.attr("fetch")),l=c.parents(".bottom-doc-list");n.hitDot(l),1!==r?(o.send({adPid:5,adId:"fc",act:"req"}),s.fetchData(1287).done(function(t){if(c.attr("fetch","1"),t.ad_place_data&&t.ad_place_js){o.send({adPid:5,adId:"fc",act:"back"}),d.replaceWith(t.ad_place_data);var e="<script>"+t.ad_place_js+"</script>";i("head").append(e),d.css("display","block"),o.send({adPid:5,adId:"fc",act:"show"})}else n.noDataOrNoHit(d),o.send({adPid:5,adId:"fc",act:"fail"})}).fail(function(){n.noDataOrNoHit(d),o.send({adPid:5,adId:"fc",act:"fail"})})):n.noDataOrNoHit(d)}else n.noDataOrNoHit(d)},noDataOrNoHit:function(t){7===t.parent().find(".txtL").length,t.prev().show().end().remove()},sendLog:function(t){var e=this;n.xsend(1,d,i.extend(!0,{from:e.getQueryString("from")||"view",type:"fc"},t||{}))},showLog:function(t){this.sendLog({isClick:0,index:t})},hitDot:function(t){void 0===t.attr("show")&&(this.showLog(1),t.attr("show","1"))},getQueryString:function(t){var e=new RegExp("(^|&)"+t+"=([^&]*)(&|$)"),a=window.location.search.substr(1).match(e);return null!=a?unescape(a[2]):null}};a.exports=c});
;define("wkview:widget/stru_recom/index.js",function(e,t,o){var i=e("wkcommon:widget/lib/tangram/base/base.js"),n=e("wkcommon:widget/ui/js_core/log/log.js"),r=e("wkcommon:widget/ui/lib/jquery/jquery.js"),d=e("wkcommon:widget/lib/fis/data/data.js"),s=e("wkcommon:widget/ui/js_core/mvp/template/template.js"),a=e("wkcommon:widget/ui/js_core/tabs/tabs.js"),c=e("wkview:widget/ui/view/star/star.js"),g=e("wkcommon:widget/ui/js_core/util/util.js"),u=e("wkcommon:widget/ui/js_core/eventCenter/eventCenter.js"),l=e("wkview:widget/stru_recom/struct.js"),w=e("wkcommon:widget/sessionX/sessionX.js"),m=w.sessionXMgr,f=e("wkview:widget/stru_recom/bizLog.js"),_=e("wkcommon:widget/ui/js_core/log/xshowLog.js"),p=function(e){r.extend(!0,this.ops,e),this.bindEvent().run().bindAdLog()};p.prototype={constructor:p,ops:{readerType:"",recommendType:"",uid:0,docId:"",referQuery:"",itemDocIds:"",totalPages:0,copyright:""},bindEvent:function(){r("body").on("click",".fcClick",function(){r(".fc-ppt").text()&&n.xsend(1,101106,{index:5})});var e=!0;return i.lang.eventCenter.addEventListener("Reader.zoomChange",function(t,o){e&&o&&o.width>0&&(r("#doc-main").find(".ft").width(o.width),r("#ggbtm-ads").width(o.width).css("overflow","hidden"),r("#ggbtm").width(o).css("overflow","hidden"),e=!1)}),i.lang.eventCenter.addEventListener("Reader.WindowResize",function(){var e=r(".reader-container").width();r("#doc-main").find(".ft").width(e),r("#ggbtm-ads").width(e).css("overflow","hidden"),r("#ggbtm").width(e).css("overflow","hidden")}),this},run:function(){var e=this,t=e.ops,o=function(e){var t=+e.goods_type,o=parseInt(e.pay_price,10)/100,i=parseInt(e.docTicket,10);return t&&1!==t?2===t?o.toFixed(2)+"\u5143":3===t?"\u9650\u514d":void 0:0===i?"\u514d\u8d39":99>i?i+"\u4e0b\u8f7d\u5238":i+"+"},w=function(){var e="doc_id_code="+t.docId+"&query_word="+encodeURIComponent(t.referQuery);i.ajax.post("/rec/getstrrec",e,function(e,w){var _=i.json.parse(w),p=d.get("WkInfo").docType,v=d.get("WkInfo").DocInfo,h=d.get("WkInfo").WkAdInfo,k=h.blockStatus,y=v.jiaoyu_vip_type,b=v.vip_type,j=!1;if(0!==_.status.code){var L=u.eventCenter;return L.fire("call-fengchao-ad"),void i.lang.eventCenter.dispatchEvent("kgRecommendview")}for(var C=_.data.srs_res,T=[],x=0,I=C.length;I>x;x++)C[x].related_doc_infos.length>4&&T.push(C[x]);if(C=T,1===C.length)j=!0;else if(C.length<4)return;var E={star:c.star,cutString:g.cutString,encodeHTML:i.string.encodeHTML,priceText:o};C=C.slice(0,8);var D=i.dom.g("bottom-doc-list-"+t.uid),R=i.dom.q("tagList",D,"div")[0],W=i.dom.q("tableList",D,"div")[0],q=i.dom.g("tagList-template-"+t.uid).value,M=i.dom.g("tableList-template-"+t.uid).value;W.innerHTML=s.template(M,{data:C,doc_srs_strategy:_.data.doc_srs_strategy,doc_srs_tag:_.data.doc_srs_tag,docType:p,util:E}),R.innerHTML=s.template(q,{data:C,util:E,doc_srs_strategy:_.data.doc_srs_strategy,doc_srs_tag:_.data.doc_srs_tag}),D.style.display="block",j&&(r(".tagList-wrap").hide(),r(".list-more").hide()),j||a.tabsCreate({el:D,bindEvent:"click",controlChildTag:"a",contentChildTag:"div"}).on("onAfterCurrent",function(e){0===y&&0===b&&0===k&&l.init(e.hdElement),r(window).trigger("switch-struct-rec-tab"),f.triggerView()}),r(W).on("click",".one-info-block a",function(){var e=r(this),t=e.closest(".one-info-block"),o=t.index()+1,i=r(".current",r(R)).index()+1,n="view_b_struct",d=e.prop("href"),s=m.createUrlParam({mark_pay_doc:e.data("markPayDoc")||0,mark_rec_page:i,mark_rec_position:o,mark_rec:n},d);e.prop("href",s)}),f.run(),j||0!==y||0!==b||0!==k||l.fetchData(),i.lang.eventCenter.dispatchEvent("recDataForDownLoad",{struData:C}),n.send("view","show",{from:"srs",ply:t.readerType,doc_srs_strategy:_.data.doc_srs_strategy,doc_srs_tag:_.data.doc_srs_tag}),i.dom.ready(function(){function e(){var e=r(D).offset().top,o=r(D).height(),i=r(window).height(),d=r(window).scrollTop();d+i>=e+o&&(t||n.xsend(1,101203),t=!0)}var t=!1;r(window).on("scroll.bottomDoclist",e)})})};return"weipu"===t.recommendType?i.lang.eventCenter.addEventListener("noWeipuRec",w):i.dom.ready(w),this},bindAdLog:function(){return r("body").on("click",".structure-info-block",function(){_.send({adPid:5,adId:"fc",act:"click"})}),this}},o.exports=p});
;define("wkview:widget/ui/nsTypeMap/nsTypeMap.js",function(e){var i=e("wkcommon:widget/lib/fis/data/data.js"),w={"view.album":"01000001","view.bg1":"01000002","view.bg2":"01000003","view.bg3":"01000004","view.bg4":"01000005","view.bg5":"01000006","view.big":"01000007","view.bookmark":"01000008","view.bookmark_click":"01000009","view.bookmark_view":"01000010","view.browse":"01000011","view.contentload":"01000012","view.copylogin":"01000013","view.copywords":"01000014","view.doc_link":"01001015","down.docdownload":"01001016","view.docInfo":"01001017","view.double":"01000018","down.download":"01001019","view.dragbtnclick":"01000020","view.dragdrop":"01000021","view.flashkeydown":"01000022","view.flashkeyleft":"01000023","view.flashkeyright":"01000024","view.flashkeyup":"01000025","view.flashload":"01000026","view.fontload":"01000027","view.fullscreen":"01000028","view.getwords":"01000029","view.htmlload":"01000030","view.htmlread":"01000031","view.htmlview":"01001032","lec.index":"01001033","view.keycodeleft":"01001034","view.keycoderight":"01001035","lec.list":"01001036","view.load":"01000037","view.middle":"01000038","view.more_link":"01001039","org.org_list":"01001040","view.otherLikeDoc":"01001041","view.pagedown":"01000042","view.pageup":"01000043","view.pageviewtime":"01000044","view.payview":"01000045","view.price":"01001046","view.reader":"01000047","view.relateAlblum":"01001048","view.relateDoc":"01001049","view.sameSeriesDoc":"01001050","view.save":"01001051","view.scrolldown":"01000052","view.scrollup":"01000053","view.search":"01000054","api.share":"01001055","view.share":"01001056","view.sharedone":"01000057","view.sharewords":"01000058","view.show":"01001059","view.single":"01000060","view.small":"01000061","submit.submit":"01001062","view.tag_link":"01001063","view.toolbarClick":"01000064","view.userEvaluation":"01001065","lec.view":"01001066","view.viewload":"01000067","view.zoomin":"01000068","view.zoomout":"01000069","view.page_vary_all":"01000070","view.cealingSearchboxShow":"01000071","view.cealingSearchboxUse":"01000072","view.transfer543":"01001073","view.nav.click":"01001074","test.hit":"098000001"};i.set("nsTypeMap",w)});
;define("wkview:widget/pay/tousu/tousu.js",function(t){var o,e=t("wkcommon:widget/lib/tangram/base/base.js"),i=t("wkcommon:widget/ui/js_core/_dialog/_dialog.js"),u=t("wkcommon:widget/ui/js_core/login/login.js").login,n=function(t,o,i){var u=e.dom,n=u.addClass,s=u.removeClass,l=["alert","hint","ok"],r=0,a=l.length;for(i=i||"alert";a>r;r+=1)s(t,l[r]);n(t,i),(t=e.g(t))&&(t.innerHTML=o)},s=function(){var t=/^(https?\:\/\/)?wenku.baidu.com\/view\/\w{24}(.html)?(\?.*|$)/.test(e.g("tousu-url").value);return n("tousu-url-tip",t?"":"\u8bf7\u68c0\u67e5\u7f51\u5740\u662f\u5426\u6709\u8bef"),t},l=function(){var t=!!e.string.trim(e.g("tousu-describe").value).length;return n("tousu-describe-tip",t?"":"\u63cf\u8ff0\u4e0d\u80fd\u4e3a\u7a7a\u54e6~"),t},r=function(){return/^[\d-]*$/.test(e.g("tousu-tel")).value},a=function(){var t,o,u,n=e.g("tousu-iframe"),s=180;switch(n&&n.contentWindow.document?(o=n.contentWindow.document.getElementById("result-no"),t=o?+o.innerHTML:-1):t=-1,t){case 0:u=['<div id="tousu-result">','<div class="success-tip">',"<p>\u60a8\u7684\u6295\u8bc9\u5df2\u6536\u5230\uff0c\u6211\u4eec\u4f1a\u5c3d\u5feb\u8fdb\u884c\u6838\u5b9e\u5904\u7406\u3002\u8bf7\u60a8\u5173\u6ce8\u9875\u9762\u53f3\u4e0a\u65b9\u7684\u6587\u5e93\u6d88\u606f\u3002</p>","</div>","</div>"].join(""),s=200;break;case 1:u=['<div id="tousu-result">','<div class="failed-tip">\u63d0\u4ea4\u5931\u8d25\uff0c\u8bf7\u5148\u767b\u5f55\uff01</div>',"</div>"].join("");break;case 2:default:u=['<div id="tousu-result">','<div class="failed-tip">\u63d0\u4ea4\u5931\u8d25\uff0c\u7cfb\u7edf\u9519\u8bef\uff01</div>',"</div>"].join("")}i.dialogCreate({innerId:"tousu-result-dialog",title:"\u63d0\u793a",width:425,height:s,content:u,buttons:['<div class="result-dialog-footer">','<a href="###" class="result-dialog-close dialog-close">\u5173\u95ed</a>',"</div>"].join("")})};e.on("tousu-btn","click",function(t){u.verlogin(function(){o?(o.show(),o.center()):(o=i.confirm({width:560,height:520,innerId:"pay-tousu-dialog",title:"\u8bf7\u63cf\u8ff0\u60a8\u9047\u5230\u7684\u95ee\u9898\uff0c\u6211\u4eec\u5c06\u4f1a\u5c3d\u5feb\u7ed9\u60a8\u56de\u590d\u3002",content:e.g("tpl-tousu-form").value,onHideAfter:function(){e.g("tousu-form").reset()},onCloseBefore:function(t){this.stop(t),this.hide()},onConfirmBefore:function(t){return s()&l()?(e.g("tousu-describe").value=encodeURIComponent(e.g("tousu-describe").value),void e.g("tousu-form").submit()):void this.stop(t)}}),e.on("tousu-url","blur",s),e.on("tousu-describe","blur",l),e.on("tousu-tel-tip","blur",r),e.on("tousu-upload-btn","change",function(){var t=this.value;return t.length?/\.(png|gif|jpg|jpeg)$/i.test(t)?(n("tousu-upload-tip",t.split(/\\|\//).pop(),"ok"),!0):(n("tousu-upload-tip","\u8bf7\u9009\u62e9\u683c\u5f0f\u5408\u6cd5\u7684\u56fe\u7247","alert"),this.value="",!1):!0}))},null,null,{},!1);var d=e.g("tousu-iframe");d&&(d.attachEvent?d.attachEvent("onload",function(){a()}):d.onload=function(){a()}),e.event.stop(t)})});
;define("wkview:widget/ui/util/util.js",function(e,t,n){function i(e){this.win=e,this.init()}var o=e("wkcommon:widget/lib/tangram/base/base.js"),r=!1,s=function(e){if(!r){r=!0;var t=o.page.getScrollTop(),n=o.dom.getPosition(e).top,i=30,s=n>t?"down":"up",a={down:function(){if(0>=n-t)return void(r=!1);var e=i;i>n-t&&(e=1),window.scrollTo(0,t+=e)},up:function(){if(n-t>=0)return void(r=!1);var e=i;i>t-n&&(e=1),window.scrollTo(0,t-=e)}},c=function(){setTimeout(function(){a[s](),c()},0)};c()}};n.exports.scrollToEl=s;var a=function(e){var t=/((\w+=\d+)(\|?))(?!\|?-?\d+&?)/g;return-1===e.indexOf("&")&&(e=e.replace(t,function(e,t,n,i){return n+"|0"+(i?"&":"")})),e},c=function(e){if(!e)return"0";var t=o.cookie.get("viewedPg");if(!t)return"0";-1===t.indexOf("&")&&(t=a(t));var n=new RegExp(e+"=((\\d+)\\|-?\\d+)&?");return n.exec(t)?n.exec(t)[1]:"0"};n.exports.getViewedPage=c;var u=function(e){e=e||0;var t={0:"",1:"doc",2:"xls",3:"ppt",4:"docx",5:"xlsx",6:"pptx",7:"pdf",8:"txt",9:"wps",10:"et",11:"dps",12:"vsd",13:"rtf",14:"pot",15:"pps",16:"epub"};return t[e]};n.exports.docTypeNumToString=u;var d=function(e,t,n){if(e&&t&&!(1>t)){var i=o.cookie.get("viewedPg");if(i)if("0"!=c(e)){i=a(i);var r=new RegExp(e+"=\\d+\\|-?\\d+&?");i=i.replace(r,""),i=i.replace(/&$/,""),i+=((i+"").length<1||"&"===i.charAt((i+"").length-1)?"":"&")+e+"="+t+"|"+n}else i=a(i),i.split("&").length>=10&&(i=i.split("&").slice(-9).join("&")),i+="&"+e+"="+t+"|"+n;else i=e+"="+t+"|"+n;var s=location.pathname,u=s.substr(0,s.lastIndexOf("/")+1);o.cookie.set("viewedPg",i,{path:u,expires:31536e6})}};n.exports.saveViewedPage=d,i.prototype.init=function(){var e=this,t=function(t){t.source==e.win&&(e.onmessage||function(){}).call(e,t.data)};window.addEventListener?window.addEventListener("message",t,!1):window.attachEvent&&window.attachEvent("onmessage",t)},i.prototype.send=function(e){this.win.postMessage(e,"*")},i.initInParent=function(e){return new this(e.contentWindow)},i.initInIframe=function(){return new this(window.parent)},!window.postMessage&&window.attachEvent&&(i.prototype.init=function(){var e=!1;try{e=!!this.win.location.href}catch(t){}return e?(this.send=this.sendForSameOrigin,void this.initForSameOrigin()):(this.queue=[],void(window.parent==this.win?this.initForParent():this.initForFrame()))},i.prototype.initForSameOrigin=function(){var e=this;document.attachEvent("ondataavailable",function(t){t.eventType&&"message"===t.eventType&&t.eventSource==e.win&&(e.onmessage||function(){}).call(e,t.eventData)})},i.prototype.sendForSameOrigin=function(e){var t=this;setTimeout(function(){var n=t.win.document.createEventObject();n.eventType="message",n.eventSource=window,n.eventData=e,t.win.document.fireEvent("ondataavailable",n)})},i.prototype.initForParent=function(){var e=document.createDocumentFragment(),t="width: 1px; height: 1px; position: absolute; left: -999px; top: -999px;",n=document.createElement("iframe");n.style.cssText=t,e.appendChild(n);var i=document.createElement("iframe");i.style.cssText=t,e.appendChild(i),document.body.insertBefore(e,document.body.firstChild),this.senderWin=n.contentWindow,this.receiverWin=i.contentWindow,this.startReceive()},i.prototype.initForFrame=function(){this.senderWin=null,this.receiverWin=null;var e=this;this.timerId=setInterval(function(){e.waitForFrame()},50)},i.prototype.waitForFrame=function(){var e,t;try{e=this.win[1],t=this.win[0]}catch(n){}e&&t&&(clearInterval(this.timerId),this.senderWin=e,this.receiverWin=t,this.queue.length&&this.flush(),this.startReceive())},i.prototype.startReceive=function(){var e=this;this.timerId=setInterval(function(){e.tryReceive()},50)},i.prototype.tryReceive=function(){try{return void this.receiverWin.name}catch(e){}this.receiverWin.location.replace("about:blank");var t=this;setTimeout(function(){t.receive()},0)},i.prototype.receive=function(){var e=null;try{e=this.receiverWin.name}catch(t){}if(e){this.receiverWin.name="";for(var n=this,i=e.substring(1).split("|"),o=0;o<i.length;o++)(function(){var e=decodeURIComponent(i[o]);setTimeout(function(){(n.onmessage||function(){}).call(n,e)},0)})()}},i.prototype.send=function(e){this.queue.push(e),this.senderWin&&this.flush()},i.prototype.flush=function(){for(var e=[],t=0;t<this.queue.length;t++)e[t]=encodeURIComponent(this.queue[t]);var n="|"+e.join("|");try{this.senderWin.name+=n,this.queue.length=0}catch(i){this.senderWin.location.replace("about:blank");var o=this;setTimeout(function(){o.flush()},0)}}),n.exports.Messenger=i});
;define("wkview:widget/ui/util/abTest.js",function(n,e,t){var r=function(n){return new RegExp('^[^\\x00-\\x20\\x7f\\(\\)<>@,;:\\\\\\"\\[\\]\\?=\\{\\}\\/\\u0080-\\uffff]+$').test(n)},o=function(n){if(r(n)){var e=new RegExp("(^| )"+n+"=([^;]*)(;|$)"),t=e.exec(document.cookie);if(t)return t[2]||null}return null},u=function(n){var e=o(n);return"string"==typeof e?e=decodeURIComponent(e):null},i=function(n){var e=-1;try{var t=u("BAIDUID")||"";""===t&&console.log("[Warning] BAIDUID is empty string"),t.length>6&&(e=t.substring(0,6),e=parseInt(e,16),e%=n||10)}catch(r){console.log("ABtestTool ERROR",r)}return e};t.exports.getTestBaiDuID=i});
;define("wkview:widget/ui/flashReaderCreater/flashReaderCreater.js",function(e,t,a){var r=e("wkcommon:widget/lib/tangram/base/base.js"),s=e("wkcommon:widget/ui/js_core/widget/widget.js").widget,i=e("wkcommon:widget/ui/js_core/log/log.js"),o=(e("wkcommon:widget/ui/js_core/util/util.js"),r.swf),n=r.browser,l=function(e){var t,a=o.version;if(a){if(t=a.slice(0,a.indexOf(".")),!(e>t))return i.send("view","flashload",{subtype:"jsrequest"}),!0;t=a}else t=0;return i.send("view","reader",{flashver:t}),!1},c=s({Options:{el:"",id:"reader",width:"100%",height:"100%",ver:"10.0.0",errorMessage:l(10)?"":'<p class="ml" style="text-align: center; margin-top:50px;line-height:26px; font-size: 14px;">\u6587\u6863\u9884\u89c8\u9700\u8981\u6700\u65b0\u7248\u672c\u7684Flash Player\u652f\u6301\u3002</p><p class="ml" style="text-align: center; font-size: 14px;">\u60a8\u5c1a\u672a\u5b89\u88c5\u6216\u7248\u672c\u8fc7\u4f4e\uff0c\u5efa\u8bae\u60a8<a id="downloadflash" href="https://get.adobe.com/cn/flashplayer/" target="_blank" class="log-xsend" data-logxsend="[1, 100898, {\'index\': 1}]" style="color:#19A97B;">\u70b9\u51fb\u6b64\u5904</a>\u5b89\u88c5\u6700\u65b0\u7248Flash Player\u3002</p>',url:"/static/flash/txtreader_new_b.swf",bgColor:"#FFFFFF",allowfullscreen:"true",vars:{docid:"txt",fpn:5,npn:5,bookmark:"0|0",ext:"txt",readertype:"internal",newMark:"0|0",catal:0,cid:"1",cid1:"1",cid2:"1",cid3:"1",title:document.title.replace("_\u767e\u5ea6\u6587\u5e93","")}},_init:function(){var e,t,a=this,s=a.vars,l=s.ext,c="txt"==l?50:5,d=c;"course"==a.templateType?t=e="//wenku.baidu.com/course/docplay/"+a.sectionId:(e="txt"==l?"//wenku.baidu.com/play":"//wkai.bdimg.com/play",t="txt"==l?"//wktxt.bdimg.com/play":"//wkai.bdimg.com/play"),location.href.search(/localhost|127\.0\.0\.1/)>=0&&(e=e.replace(/(ai\.)?wenku\.baidu\.com/,location.host),t=t.replace(/((ai\.)|(txt\.))?wenku\.baidu\.com/,location.host)),i.xsend(1,102204,{index:"wkview_1"}),a.options=r.object.merge(a.options,{url:"/static/flash/"+a._getReaderFileName(l),wmode:n.firefox&&!r.platform.isX11||a._isBugChrome()?"opaque":"window",vars:{docurl:e,cdnurl:t,fpn:c,npn:d,isChrome:a._isBugChrome(),title:document.title.replace("_\u767e\u5ea6\u6587\u5e93","")}},{overwrite:!0,recursive:!0});var p=r.object.merge(a.Options,a.options,{overwrite:!0,recursive:!0});delete p.el,r.lang.eventCenter.dispatchEvent("flashReaderCreater.before",{options:p,el:a.el}),o.create(p,a.el),r.lang.eventCenter.dispatchEvent("flashReaderCreater.after",{options:p,el:a.el}),i.xsend(1,102204,{index:"wkview_6"})},_isBugChrome:function(){return+(-1!=r.array.indexOf([21,22,23],Number(n.chrome)))},_getReaderFileName:function(e){var t="";switch(e){case"txt":t="txtreader_new_b";break;case"":case"doc":case"xls":case"ppt":case"docx":case"xlsx":case"pptx":case"pdf":case"wps":case"et":case"dps":case"vsd":case"rtf":case"pot":case"pps":case"epub":t="reader_new_b";break;default:t="txtreader_new_b"}return t+".swf"}},{type:"reader"}),d=function(e){var t=new c(e);return t.fire("onload"),t};a.exports.flashReaderCreater=d});
;define("wkview:widget/ui/pagenation/pagenation.js",function(n,e,a){var t,o=n("wkcommon:widget/lib/tangram/base/base.js"),i=n("wkcommon:widget/ui/js_core/util/util.js"),s=n("wkcommon:widget/ui/js_core/widget/widget.js").widget,r=s({Options:{el:null,pn:0,rn:0,total:0,showPrev:!1,showNext:!1,ref:null,callback:function(){}},_init:function(){var n=this,e=n.options.el||null;i.delegate(e,"a.no","click",function(e){var a=this.href.match(/\#(\d+)/),t=n.options.callback;return t(a?+a[1]:0),o.event.stop(e),!1})},gotoPage:function(n){var e=this,a=e.options.el||null,i=e.options.rn,s=e.options.total;a&&(t&&(o.dom.remove(t),t=null),e.options.pn=n,a.appendChild(t=e.getPagenation(n,i,s)))},getPagenation:function(n,e,a){var t=Math.ceil(a/e),o=this,s=['<div class="ui-pager pager-center"><div class="pager"><div class="pager-inner">'];o.Options.showPrev&&s.push(n-1>=0?'<a href="#'+(n-1)+'" class="pre no">\u4e0a\u4e00\u9875</a>':"");var r=0;if(10>=t)for(r=0;t>r;r++)s.push(+n===+r?'<span class="cur no">'+(r+1)+"</span>":'<a href="#'+r+'" class="no">'+(r+1)+"</a>");else{var l=Math.min(n-5>0?n-5:0,t-10-1);for(r=l;10>=r-l;r++)s.push(+n===+r?'<span class="cur no">'+(r+1)+"</span>":'<a href="#'+r+'" class="no">'+(r+1)+"</a>")}return o.Options.showNext&&s.push(t-1>=n-0+1?'<a href="#'+(n-0+1)+'" class="next no">\u4e0b\u4e00\u9875</a>':""),s.push("</div> </div></div>"),i.createDom(s.join(""))}});a.exports.pagenation=function(){var n;return function(e){return n?n:n=new r(e)}}()});
;define("wkview:widget/ui/backbone/backbone.js",function(t,e,i){var n=(t("wkview:widget/ui/underscore/underscore.js"),t("wkcommon:widget/ui/lib/jquery/jquery.js"));!function(s,r){if("function"==typeof define&&define.amd)define(["underscore","jquery","module.exports"],function(t,e){s.Backbone=r(s,i.exports,t,e)});else if("undefined"!=typeof e){var a=t("wkview:widget/ui/underscore/underscore.js");r(s,i.exports,a,n)}else s.Backbone=r(s,{},s._,s.jQuery||s.Zepto||s.ender||s.$)}(this,function(t,e,i,n){{var s=t.Backbone,r=[],a=(r.push,r.slice);r.splice}e.VERSION="1.1.2",e.$=n,e.noConflict=function(){return t.Backbone=s,this},e.emulateHTTP=!1,e.emulateJSON=!1,e.reqKeyValue=!0;var o=e.Events={on:function(t,e,i){if(!u(this,"on",t,[e,i])||!e)return this;this._events||(this._events={});var n=this._events[t]||(this._events[t]=[]);return n.push({callback:e,context:i,ctx:i||this}),this},once:function(t,e,n){if(!u(this,"once",t,[e,n])||!e)return this;var s=this,r=i.once(function(){s.off(t,r),e.apply(this,arguments)});return r._callback=e,this.on(t,r,n)},off:function(t,e,n){var s,r,a,o,h,c,l,d;if(!this._events||!u(this,"off",t,[e,n]))return this;if(!t&&!e&&!n)return this._events=void 0,this;for(o=t?[t]:i.keys(this._events),h=0,c=o.length;c>h;h++)if(t=o[h],a=this._events[t]){if(this._events[t]=s=[],e||n)for(l=0,d=a.length;d>l;l++)r=a[l],(e&&e!==r.callback&&e!==r.callback._callback||n&&n!==r.context)&&s.push(r);s.length||delete this._events[t]}return this},trigger:function(t){if(!this._events)return this;var e=a.call(arguments,1);if(!u(this,"trigger",t,e))return this;var i=this._events[t],n=this._events.all;return i&&c(i,e),n&&c(n,arguments),this},stopListening:function(t,e,n){var s=this._listeningTo;if(!s)return this;var r=!e&&!n;n||"object"!=typeof e||(n=this),t&&((s={})[t._listenId]=t);for(var a in s)t=s[a],t.off(e,n,this),(r||i.isEmpty(t._events))&&delete this._listeningTo[a];return this}},h=/\s+/,u=function(t,e,i,n){if(!i)return!0;if("object"==typeof i){for(var s in i)t[e].apply(t,[s,i[s]].concat(n));return!1}if(h.test(i)){for(var r=i.split(h),a=0,o=r.length;o>a;a++)t[e].apply(t,[r[a]].concat(n));return!1}return!0},c=function(t,e){var i,n=-1,s=t.length,r=e[0],a=e[1],o=e[2];switch(e.length){case 0:for(;++n<s;)(i=t[n]).callback.call(i.ctx);return;case 1:for(;++n<s;)(i=t[n]).callback.call(i.ctx,r);return;case 2:for(;++n<s;)(i=t[n]).callback.call(i.ctx,r,a);return;case 3:for(;++n<s;)(i=t[n]).callback.call(i.ctx,r,a,o);return;default:for(;++n<s;)(i=t[n]).callback.apply(i.ctx,e);return}},l={listenTo:"on",listenToOnce:"once"};i.each(l,function(t,e){o[e]=function(e,n,s){var r=this._listeningTo||(this._listeningTo={}),a=e._listenId||(e._listenId=i.uniqueId("l"));return r[a]=e,s||"object"!=typeof n||(s=this),e[t](n,s,this),this}}),o.bind=o.on,o.unbind=o.off,i.extend(e,o);var d=e.Model=function(t,e){var n=t||{};e||(e={}),this.cid=i.uniqueId("c"),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(n=this.parse(n,e)||{}),n=i.defaults({},n,i.result(this,"defaults")),this.set(n,e),this.changed={},this.initialize.apply(this,arguments)};i.extend(d.prototype,o,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(){return i.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return i.escape(this.get(t))},has:function(t){return null!=this.get(t)},set:function(t,e,n){var s,r,a,o,h,u,c,l;if(null==t)return this;if("object"==typeof t?(r=t,n=e):(r={})[t]=e,n||(n={}),!this._validate(r,n))return!1;a=n.unset,h=n.silent,o=[],u=this._changing,this._changing=!0,u||(this._previousAttributes=i.clone(this.attributes),this.changed={}),l=this.attributes,c=this._previousAttributes,this.idAttribute in r&&(this.id=r[this.idAttribute]);for(s in r)e=r[s],i.isEqual(l[s],e)||o.push(s),i.isEqual(c[s],e)?delete this.changed[s]:this.changed[s]=e,a?delete l[s]:l[s]=e;if(!h){o.length&&(this._pending=n);for(var d=0,f=o.length;f>d;d++)this.trigger("change:"+o[d],this,l[o[d]],n)}if(u)return this;if(!h)for(;this._pending;)n=this._pending,this._pending=!1,this.trigger("change",this,n);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,i.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var n in this.attributes)e[n]=void 0;return this.set(e,i.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!i.isEmpty(this.changed):i.has(this.changed,t)},changedAttributes:function(t){if(!t)return this.hasChanged()?i.clone(this.changed):!1;var e,n=!1,s=this._changing?this._previousAttributes:this.attributes;for(var r in t)i.isEqual(s[r],e=t[r])||((n||(n={}))[r]=e);return n},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return i.clone(this._previousAttributes)},fetch:function(t){t=t?i.clone(t):{},void 0===t.parse&&(t.parse=!0);var e=this,n=t.success;return t.success=function(i){return e.set(e.parse(i,t),t)?(n&&n(e,i,t),void e.trigger("sync",e,i,t)):!1},C(this,t),this.sync("read",this,t)},save:function(t,e,n){var s,r,a,o=this.attributes;if(null==t||"object"==typeof t?(s=t,n=e):(s={})[t]=e,n=i.extend({validate:!0},n),s&&!n.wait){if(!this.set(s,n))return!1}else if(!this._validate(s,n))return!1;s&&n.wait&&(this.attributes=i.extend({},o,s)),void 0===n.parse&&(n.parse=!0);var h=this,u=n.success;return n.success=function(t){h.attributes=o;var e=h.parse(t,n);return n.wait&&(e=i.extend(s||{},e)),i.isObject(e)&&!h.set(e,n)?!1:(u&&u(h,t,n),void h.trigger("sync",h,t,n))},C(this,n),r=this.isNew()?"create":n.patch?"patch":"update","patch"===r&&(n.attrs=s),a=this.sync(r,this,n),s&&n.wait&&(this.attributes=o),a},destroy:function(t){t=t?i.clone(t):{};var e=this,n=t.success,s=function(){e.trigger("destroy",e,e.collection,t)};if(t.success=function(i){(t.wait||e.isNew())&&s(),n&&n(e,i,t),e.isNew()||e.trigger("sync",e,i,t)},this.isNew())return t.success(),!1;C(this,t);var r=this.sync("delete",this,t);return t.wait||s(),r},url:function(){var t=i.result(this,"urlRoot")||i.result(this.collection,"url")||q();return this.isNew()?t:t.replace(/([^\/])$/,"$1/")+encodeURIComponent(this.id)},parse:function(t){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},i.extend(t||{},{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=i.extend({},this.attributes,t);var n=this.validationError=this.validate(t,e)||null;return n?(this.trigger("invalid",this,n,i.extend(e,{validationError:n})),!1):!0}});var f=["keys","values","pairs","invert","pick","omit"];i.each(f,function(t){d.prototype[t]=function(){var e=a.call(arguments);return e.unshift(this.attributes),i[t].apply(i,e)}});var p=e.Collection=function(t,e){e||(e={}),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,i.extend({silent:!0},e))},g={add:!0,remove:!0,merge:!0},v={add:!0,remove:!1};i.extend(p.prototype,o,{model:d,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return e.sync.apply(this,arguments)},add:function(t,e){return this.set(t,i.extend({merge:!1},e,v))},remove:function(t,e){var n=!i.isArray(t);t=n?[t]:i.clone(t),e||(e={});var s,r,a,o;for(s=0,r=t.length;r>s;s++)o=t[s]=this.get(t[s]),o&&(delete this._byId[o.id],delete this._byId[o.cid],a=this.indexOf(o),this.models.splice(a,1),this.length--,e.silent||(e.index=a,o.trigger("remove",o,this,e)),this._removeReference(o,e));return n?t[0]:t},set:function(t,e){e=i.defaults({},e,g),e.parse&&(t=this.parse(t,e));var n=!i.isArray(t);t=n?t?[t]:[]:i.clone(t);var s,r,a,o,h,u,c,l=e.at,f=this.model,p=this.comparator&&null==l&&e.sort!==!1,v=i.isString(this.comparator)?this.comparator:null,m=[],y=[],_={},w=e.add,b=e.merge,x=e.remove,E=!p&&w&&x?[]:!1;for(s=0,r=t.length;r>s;s++){if(h=t[s]||{},a=h instanceof d?o=h:h[f.prototype.idAttribute||"id"],u=this.get(a))x&&(_[u.cid]=!0),b&&(h=h===o?o.attributes:h,e.parse&&(h=u.parse(h,e)),u.set(h,e),p&&!c&&u.hasChanged(v)&&(c=!0)),t[s]=u;else if(w){if(o=t[s]=this._prepareModel(h,e),!o)continue;m.push(o),this._addReference(o,e)}o=u||o,!E||!o.isNew()&&_[o.id]||E.push(o),_[o.id]=!0}if(x){for(s=0,r=this.length;r>s;++s)_[(o=this.models[s]).cid]||y.push(o);y.length&&this.remove(y,e)}if(m.length||E&&E.length)if(p&&(c=!0),this.length+=m.length,null!=l)for(s=0,r=m.length;r>s;s++)this.models.splice(l+s,0,m[s]);else{E&&(this.models.length=0);var k=E||m;for(s=0,r=k.length;r>s;s++)this.models.push(k[s])}if(c&&this.sort({silent:!0}),!e.silent){for(s=0,r=m.length;r>s;s++)(o=m[s]).trigger("add",o,this,e);(c||E&&E.length)&&this.trigger("sort",this,e)}return n?t[0]:t},reset:function(t,e){e||(e={});for(var n=0,s=this.models.length;s>n;n++)this._removeReference(this.models[n],e);return e.previousModels=this.models,this._reset(),t=this.add(t,i.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,i.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t),e},unshift:function(t,e){return this.add(t,i.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t),e},slice:function(){return a.apply(this.models,arguments)},get:function(t){return null==t?void 0:this._byId[t]||this._byId[t.id]||this._byId[t.cid]},at:function(t){return this.models[t]},where:function(t,e){return i.isEmpty(t)?e?void 0:[]:this[e?"find":"filter"](function(e){for(var i in t)if(t[i]!==e.get(i))return!1;return!0})},findWhere:function(t){return this.where(t,!0)},sort:function(t){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return t||(t={}),i.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(i.bind(this.comparator,this)),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return i.invoke(this.models,"get",t)},fetch:function(t){t=t?i.clone(t):{},void 0===t.parse&&(t.parse=!0);var e=t.success,n=this;return t.success=function(i){var s=t.reset?"reset":"set";n[s](i,t),e&&e(n,i,t),n.trigger("sync",n,i,t)},C(this,t),this.sync("read",this,t)},create:function(t,e){if(e=e?i.clone(e):{},!(t=this._prepareModel(t,e)))return!1;e.wait||this.add(t,e);var n=this,s=e.success;return e.success=function(t,i){e.wait&&n.add(t,e),s&&s(t,i,e)},t.save(null,e),t},parse:function(t){return t},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(t instanceof d)return t;e=e?i.clone(e):{},e.collection=this;var n=new this.model(t,e);return n.validationError?(this.trigger("invalid",this,n.validationError,e),!1):n},_addReference:function(t){this._byId[t.cid]=t,null!=t.id&&(this._byId[t.id]=t),t.collection||(t.collection=this),t.on("all",this._onModelEvent,this)},_removeReference:function(t){this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,i,n){("add"!==t&&"remove"!==t||i===this)&&("destroy"===t&&this.remove(e,n),e&&t==="change:"+e.idAttribute&&(delete this._byId[e.previous(e.idAttribute)],null!=e.id&&(this._byId[e.id]=e)),this.trigger.apply(this,arguments))}});var m=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain","sample"];i.each(m,function(t){p.prototype[t]=function(){var e=a.call(arguments);return e.unshift(this.models),i[t].apply(i,e)}});var y=["groupBy","countBy","sortBy","indexBy"];i.each(y,function(t){p.prototype[t]=function(e,n){var s=i.isFunction(e)?e:function(t){return t.get(e)};return i[t](this.models,s,n)}});var _=e.View=function(t){this.cid=i.uniqueId("view"),t||(t={}),i.extend(this,i.pick(t,b)),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},w=/^(\S+)\s*(.*)$/,b=["model","collection","el","id","attributes","className","tagName","events"];i.extend(_.prototype,o,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(t,i){return this.$el&&this.undelegateEvents(),this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0],i!==!1&&this.delegateEvents(),this},delegateEvents:function(t){if(!t&&!(t=i.result(this,"events")))return this;this.undelegateEvents();for(var e in t){var n=t[e];if(i.isFunction(n)||(n=this[t[e]]),n){var s=e.match(w),r=s[1],a=s[2];n=i.bind(n,this),r+=".delegateEvents"+this.cid,""===a?this.$el.on(r,n):this.$el.on(r,a,n)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_ensureElement:function(){if(this.el)this.setElement(i.result(this,"el"),!1);else{var t=i.extend({},i.result(this,"attributes"));this.id&&(t.id=i.result(this,"id")),this.className&&(t["class"]=i.result(this,"className"));var n=e.$("<"+i.result(this,"tagName")+">").attr(t);this.setElement(n,!1)}}}),e.sync=function(t,n,s){var r=E[t];i.defaults(s||(s={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON,reqKeyValue:e.reqKeyValue});var a={type:r,dataType:"json"};if(s.url||(a.url=i.result(n,"url")||q()),null!=s.data||!n||"create"!==t&&"update"!==t&&"patch"!==t||(a.contentType="application/json",a.data=s.attrs||n.toJSON(s),s.reqKeyValue||(a.data=JSON.stringify(a.data))),s.emulateJSON&&!s.reqKeyValue&&(a.contentType="application/x-www-form-urlencoded",a.data=a.data?{model:a.data}:{}),s.emulateHTTP&&("PUT"===r||"DELETE"===r||"PATCH"===r)){a.type="POST",s.emulateJSON&&(a.data._method=r);var o=s.beforeSend;s.beforeSend=function(t){return t.setRequestHeader("X-HTTP-Method-Override",r),o?o.apply(this,arguments):void 0}}if(s.reqKeyValue){a.type="POST",a.contentType="application/x-www-form-urlencoded";for(var h in a.data)"string"!=typeof a.data[h]&&(a.data[h]=JSON.stringify(a.data[h]))}"GET"===a.type||s.emulateJSON||s.reqKeyValue||(a.processData=!1),"PATCH"===a.type&&x&&(a.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var u=s.xhr=e.ajax(i.extend(a,s));return n.trigger("request",n,u,s),u};var x=!("undefined"==typeof window||!window.ActiveXObject||window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent),E={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var k=e.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},T=/\((.*?)\)/g,S=/(\(\?)?:\w+/g,$=/\*\w+/g,H=/[\-{}\[\]+?.,\\\^$|#\s]/g;i.extend(k.prototype,o,{initialize:function(){},route:function(t,n,s){i.isRegExp(t)||(t=this._routeToRegExp(t)),i.isFunction(n)&&(s=n,n=""),s||(s=this[n]);var r=this;return e.history.route(t,function(i){var a=r._extractParameters(t,i);r.execute(s,a),r.trigger.apply(r,["route:"+n].concat(a)),r.trigger("route",n,a),e.history.trigger("route",r,n,a)}),this},execute:function(t,e){t&&t.apply(this,e)},navigate:function(t,i){return e.history.navigate(t,i),this},_bindRoutes:function(){if(this.routes){this.routes=i.result(this,"routes");for(var t,e=i.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(H,"\\$&").replace(T,"(?:$1)?").replace(S,function(t,e){return e?t:"([^/?]+)"}).replace($,"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(t,e){var n=t.exec(e).slice(1);return i.map(n,function(t,e){return e===n.length-1?t||null:t?decodeURIComponent(t):null})}});var A=e.History=function(){this.handlers=[],i.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},I=/^[#\/]|\s+$/g,N=/^\/+|\/+$/g,j=/msie [\w.]+/,O=/\/$/,P=/#.*$/;A.started=!1,i.extend(A.prototype,o,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getFragment:function(t,e){if(null==t)if(this._hasPushState||!this._wantsHashChange||e){t=decodeURI(this.location.pathname+this.location.search);var i=this.root.replace(O,"");t.indexOf(i)||(t=t.slice(i.length))}else t=this.getHash();return t.replace(I,"")},start:function(t){if(A.started)throw new Error("Backbone.history has already been started");A.started=!0,this.options=i.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var n=this.getFragment(),s=document.documentMode,r=j.exec(navigator.userAgent.toLowerCase())&&(!s||7>=s);if(this.root=("/"+this.root+"/").replace(N,"/"),r&&this._wantsHashChange){var a=e.$('<iframe src="javascript:0" tabindex="-1">');this.iframe=a.hide().appendTo("body")[0].contentWindow,this.navigate(n)}this._hasPushState?e.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!r?e.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=n;var o=this.location;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot())return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+"#"+this.fragment),!0;this._hasPushState&&this.atRoot()&&o.hash&&(this.fragment=this.getHash().replace(I,""),this.history.replaceState({},document.title,this.root+this.fragment))}return this.options.silent?void 0:this.loadUrl()},stop:function(){e.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),A.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(){var t=this.getFragment();return t===this.fragment&&this.iframe&&(t=this.getFragment(this.getHash(this.iframe))),t===this.fragment?!1:(this.iframe&&this.navigate(t),void this.loadUrl())},loadUrl:function(t){return t=this.fragment=this.getFragment(t),i.any(this.handlers,function(e){return e.route.test(t)?(e.callback(t),!0):void 0})},navigate:function(t,e){if(!A.started)return!1;e&&e!==!0||(e={trigger:!!e});var i=this.root+(t=this.getFragment(t||""));if(t=t.replace(P,""),this.fragment!==t){if(this.fragment=t,""===t&&"/"!==i&&(i=i.slice(0,-1)),this._hasPushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,i);else{if(!this._wantsHashChange)return this.location.assign(i);this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getFragment(this.getHash(this.iframe))&&(e.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,t,e.replace))}return e.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,e,i){if(i){var n=t.href.replace(/(javascript:|#).*$/,"");t.replace(n+"#"+e)}else t.hash="#"+e}}),e.history=new A;var R=function(t,e){var n,s=this;n=t&&i.has(t,"constructor")?t.constructor:function(){return s.apply(this,arguments)},i.extend(n,s,e);var r=function(){this.constructor=n};return r.prototype=s.prototype,n.prototype=new r,t&&i.extend(n.prototype,t),n.__super__=s.prototype,n};d.extend=p.extend=k.extend=_.extend=A.extend=R;var q=function(){throw new Error('A "url" property or function must be specified')},C=function(t,e){var i=e.error;e.error=function(n){i&&i(t,n,e),t.trigger("error",t,n,e)}};return e})});
;define("wkview:widget/ui/underscore/underscore.js",function(n,t,r){(function(){var n=this,t=n._,e={},u=Array.prototype,i=Object.prototype,a=Function.prototype,o=u.push,c=u.slice,l=u.concat,f=i.toString,s=i.hasOwnProperty,p=Array.isArray,h=Object.keys,v=a.bind,g=function(n){return n instanceof g?n:this instanceof g?void(this._wrapped=n):new g(n)};"undefined"!=typeof r.exports?r.exports=g:n._=g,g.VERSION="1.6.0",g.each=g.forEach=function(n,t,r){if(null==n)return n;if(n.length===+n.length){for(var u=0,i=n.length;i>u;u++)if(t.call(r,n[u],u,n)===e)return}else for(var a=g.keys(n),u=0,i=a.length;i>u;u++)if(t.call(r,n[a[u]],a[u],n)===e)return;return n},g.map=g.collect=function(n,t,r){var e=[];return null==n?e:(g.each(n,function(n,u,i){e.push(t.call(r,n,u,i))}),e)};var m="Reduce of empty array with no initial value";g.reduce=g.foldl=g.inject=function(n,t,r,e){var u=arguments.length>2;if(null==n&&(n=[]),g.each(n,function(n,i,a){u?r=t.call(e,r,n,i,a):(r=n,u=!0)}),!u)throw new TypeError(m);return r},g.reduceRight=g.foldr=function(n,t,r,e){var u=arguments.length>2;null==n&&(n=[]);var i=n.length;if(i!==+i){var a=g.keys(n);i=a.length}if(g.each(n,function(o,c,l){c=a?a[--i]:--i,u?r=t.call(e,r,n[c],c,l):(r=n[c],u=!0)}),!u)throw new TypeError(m);return r},g.find=g.detect=function(n,t,r){var e;return g.some(n,function(n,u,i){return t.call(r,n,u,i)?(e=n,!0):void 0}),e},g.filter=g.select=function(n,t,r){var e=[];return null==n?e:(g.each(n,function(n,u,i){t.call(r,n,u,i)&&e.push(n)}),e)},g.reject=function(n,t,r){return g.filter(n,g.negate(t),r)},g.every=g.all=function(n,t,r){t||(t=g.identity);var u=!0;return null==n?u:(g.each(n,function(n,i,a){return(u=u&&t.call(r,n,i,a))?void 0:e}),!!u)},g.some=g.any=function(n,t,r){t||(t=g.identity);var u=!1;return null==n?u:(g.each(n,function(n,i,a){return u||(u=t.call(r,n,i,a))?e:void 0}),!!u)},g.contains=g.include=function(n,t){return null==n?!1:n.length===+n.length?g.indexOf(n,t)>=0:g.some(n,function(n){return n===t})},g.invoke=function(n,t){var r=c.call(arguments,2),e=g.isFunction(t);return g.map(n,function(n){return(e?t:n[t]).apply(n,r)})},g.pluck=function(n,t){return g.map(n,g.property(t))},g.where=function(n,t){return g.filter(n,g.matches(t))},g.findWhere=function(n,t){return g.find(n,g.matches(t))},g.max=function(n,t,r){var e,u,i=-1/0,a=-1/0;if(!t&&g.isArray(n))for(var o=0,c=n.length;c>o;o++)e=n[o],e>i&&(i=e);else g.each(n,function(n,e,o){u=t?t.call(r,n,e,o):n,u>a&&(i=n,a=u)});return i},g.min=function(n,t,r){var e,u,i=1/0,a=1/0;if(!t&&g.isArray(n))for(var o=0,c=n.length;c>o;o++)e=n[o],i>e&&(i=e);else g.each(n,function(n,e,o){u=t?t.call(r,n,e,o):n,a>u&&(i=n,a=u)});return i},g.shuffle=function(n){var t,r=0,e=[];return g.each(n,function(n){t=g.random(r++),e[r-1]=e[t],e[t]=n}),e},g.sample=function(n,t,r){return null==t||r?(n.length!==+n.length&&(n=g.values(n)),n[g.random(n.length-1)]):g.shuffle(n).slice(0,Math.max(0,t))};var y=function(n,t){return null==n?g.identity:g.isFunction(n)?t?function(){return n.apply(t,arguments)}:n:g.property(n)};g.sortBy=function(n,t,r){return t=y(t,r),g.pluck(g.map(n,function(n,r,e){return{value:n,index:r,criteria:t(n,r,e)}}).sort(function(n,t){var r=n.criteria,e=t.criteria;if(r!==e){if(r>e||void 0===r)return 1;if(e>r||void 0===e)return-1}return n.index-t.index}),"value")};var d=function(n){return function(t,r,e){var u={};return r=y(r,e),g.each(t,function(e,i){var a=r(e,i,t);n(u,a,e)}),u}};g.groupBy=d(function(n,t,r){g.has(n,t)?n[t].push(r):n[t]=[r]}),g.indexBy=d(function(n,t,r){n[t]=r}),g.countBy=d(function(n,t){g.has(n,t)?n[t]++:n[t]=1}),g.sortedIndex=function(n,t,r,e){r=y(r,e);for(var u=r(t),i=0,a=n.length;a>i;){var o=i+a>>>1;r(n[o])<u?i=o+1:a=o}return i},g.toArray=function(n){return n?g.isArray(n)?c.call(n):n.length===+n.length?g.map(n,g.identity):g.values(n):[]},g.size=function(n){return null==n?0:n.length===+n.length?n.length:g.keys(n).length},g.first=g.head=g.take=function(n,t,r){return null==n?void 0:null==t||r?n[0]:0>t?[]:c.call(n,0,t)},g.initial=function(n,t,r){return c.call(n,0,Math.max(0,n.length-(null==t||r?1:t)))},g.last=function(n,t,r){return null==n?void 0:null==t||r?n[n.length-1]:c.call(n,Math.max(n.length-t,0))},g.rest=g.tail=g.drop=function(n,t,r){return c.call(n,null==t||r?1:t)},g.compact=function(n){return g.filter(n,g.identity)};var w=function(n,t,r,e){if(t&&g.every(n,g.isArray))return l.apply(e,n);for(var u=0,i=n.length;i>u;u++){var a=n[u];g.isArray(a)||g.isArguments(a)?t?o.apply(e,a):w(a,t,r,e):r||e.push(a)}return e};g.flatten=function(n,t){return w(n,t,!1,[])},g.without=function(n){return g.difference(n,c.call(arguments,1))},g.partition=function(n,t,r){t=y(t,r);var e=[],u=[];return g.each(n,function(n){(t(n)?e:u).push(n)}),[e,u]},g.uniq=g.unique=function(n,t,r,e){if(null==n)return[];g.isFunction(t)&&(e=r,r=t,t=!1);for(var u=[],i=[],a=0,o=n.length;o>a;a++){var c=n[a];r&&(c=r.call(e,c,a,n)),(t?a&&i===c:g.contains(i,c))||(t?i=c:i.push(c),u.push(n[a]))}return u},g.union=function(){return g.uniq(w(arguments,!0,!0,[]))},g.intersection=function(n){if(null==n)return[];for(var t=[],r=arguments.length,e=0,u=n.length;u>e;e++){var i=n[e];if(!g.contains(t,i)){for(var a=1;r>a&&g.contains(arguments[a],i);a++);a===r&&t.push(i)}}return t},g.difference=function(n){var t=w(c.call(arguments,1),!0,!0,[]);return g.filter(n,function(n){return!g.contains(t,n)})},g.zip=function(){for(var n=g.max(g.pluck(arguments,"length").concat(0)),t=new Array(n),r=0;n>r;r++)t[r]=g.pluck(arguments,""+r);return t},g.object=function(n,t){if(null==n)return{};for(var r={},e=0,u=n.length;u>e;e++)t?r[n[e]]=t[e]:r[n[e][0]]=n[e][1];return r},g.indexOf=function(n,t,r){if(null==n)return-1;var e=0,u=n.length;if(r){if("number"!=typeof r)return e=g.sortedIndex(n,t),n[e]===t?e:-1;e=0>r?Math.max(0,u+r):r}for(;u>e;e++)if(n[e]===t)return e;return-1},g.lastIndexOf=function(n,t,r){if(null==n)return-1;for(var e=null==r?n.length:r;e--;)if(n[e]===t)return e;return-1},g.range=function(n,t,r){arguments.length<=1&&(t=n||0,n=0),r=arguments[2]||1;for(var e=Math.max(Math.ceil((t-n)/r),0),u=0,i=new Array(e);e>u;)i[u++]=n,n+=r;return i};var b=function(){};g.bind=function(n,t){var r,e;if(v&&n.bind===v)return v.apply(n,c.call(arguments,1));if(!g.isFunction(n))throw new TypeError;return r=c.call(arguments,2),e=function(){if(!(this instanceof e))return n.apply(t,r.concat(c.call(arguments)));b.prototype=n.prototype;var u=new b;b.prototype=null;var i=n.apply(u,r.concat(c.call(arguments)));return Object(i)===i?i:u}},g.partial=function(n){var t=c.call(arguments,1);return function(){for(var r=0,e=t.slice(),u=0,i=e.length;i>u;u++)e[u]===g&&(e[u]=arguments[r++]);for(;r<arguments.length;)e.push(arguments[r++]);return n.apply(this,e)}},g.bindAll=function(n){var t=c.call(arguments,1);if(0===t.length)throw new Error("bindAll must be passed function names");return g.each(t,function(t){n[t]=g.bind(n[t],n)}),n},g.memoize=function(n,t){var r={};return t||(t=g.identity),function(){var e=t.apply(this,arguments);return g.has(r,e)?r[e]:r[e]=n.apply(this,arguments)}},g.delay=function(n,t){var r=c.call(arguments,2);return setTimeout(function(){return n.apply(null,r)},t)},g.defer=function(n){return g.delay.apply(g,[n,1].concat(c.call(arguments,1)))},g.throttle=function(n,t,r){var e,u,i,a=null,o=0;r||(r={});var c=function(){o=r.leading===!1?0:g.now(),a=null,i=n.apply(e,u),e=u=null};return function(){var l=g.now();o||r.leading!==!1||(o=l);var f=t-(l-o);return e=this,u=arguments,0>=f||f>t?(clearTimeout(a),a=null,o=l,i=n.apply(e,u),e=u=null):a||r.trailing===!1||(a=setTimeout(c,f)),i}},g.debounce=function(n,t,r){var e,u,i,a,o,c=function(){var l=g.now()-a;t>l&&l>0?e=setTimeout(c,t-l):(e=null,r||(o=n.apply(i,u),i=u=null))};return function(){i=this,u=arguments,a=g.now();var l=r&&!e;return e||(e=setTimeout(c,t)),l&&(o=n.apply(i,u),i=u=null),o}},g.once=function(n){var t,r=!1;return function(){return r?t:(r=!0,t=n.apply(this,arguments),n=null,t)}},g.wrap=function(n,t){return g.partial(t,n)},g.negate=function(n){return function(){return!n.apply(this,arguments)}},g.compose=function(){var n=arguments;return function(){for(var t=arguments,r=n.length-1;r>=0;r--)t=[n[r].apply(this,t)];return t[0]}},g.after=function(n,t){return function(){return--n<1?t.apply(this,arguments):void 0}},g.keys=function(n){if(!g.isObject(n))return[];if(h)return h(n);var t=[];for(var r in n)g.has(n,r)&&t.push(r);return t},g.values=function(n){for(var t=g.keys(n),r=t.length,e=new Array(r),u=0;r>u;u++)e[u]=n[t[u]];return e},g.pairs=function(n){for(var t=g.keys(n),r=t.length,e=new Array(r),u=0;r>u;u++)e[u]=[t[u],n[t[u]]];return e},g.invert=function(n){for(var t={},r=g.keys(n),e=0,u=r.length;u>e;e++)t[n[r[e]]]=r[e];return t},g.functions=g.methods=function(n){var t=[];for(var r in n)g.isFunction(n[r])&&t.push(r);return t.sort()},g.extend=function(n){return g.each(c.call(arguments,1),function(t){if(t)for(var r in t)n[r]=t[r]}),n},g.pick=function(n,t,r){var e={};if(g.isFunction(t))for(var u in n){var i=n[u];t.call(r,i,u,n)&&(e[u]=i)}else for(var a=l.apply([],c.call(arguments,1)),o=0,f=a.length;f>o;o++){var u=a[o];u in n&&(e[u]=n[u])}return e},g.omit=function(n,t,r){var e;return g.isFunction(t)?t=g.negate(t):(e=g.map(l.apply([],c.call(arguments,1)),String),t=function(n,t){return!g.contains(e,t)}),g.pick(n,t,r)},g.defaults=function(n){return g.each(c.call(arguments,1),function(t){if(t)for(var r in t)void 0===n[r]&&(n[r]=t[r])}),n},g.clone=function(n){return g.isObject(n)?g.isArray(n)?n.slice():g.extend({},n):n},g.tap=function(n,t){return t(n),n};var _=function(n,t,r,e){if(n===t)return 0!==n||1/n==1/t;if(null==n||null==t)return n===t;n instanceof g&&(n=n._wrapped),t instanceof g&&(t=t._wrapped);var u=f.call(n);if(u!=f.call(t))return!1;switch(u){case"[object String]":return n==String(t);case"[object Number]":return n!=+n?t!=+t:0==n?1/n==1/t:n==+t;case"[object Date]":case"[object Boolean]":return+n==+t;case"[object RegExp]":return n.source==t.source&&n.global==t.global&&n.multiline==t.multiline&&n.ignoreCase==t.ignoreCase}if("object"!=typeof n||"object"!=typeof t)return!1;for(var i=r.length;i--;)if(r[i]==n)return e[i]==t;var a=n.constructor,o=t.constructor;if(a!==o&&!(g.isFunction(a)&&a instanceof a&&g.isFunction(o)&&o instanceof o)&&"constructor"in n&&"constructor"in t)return!1;r.push(n),e.push(t);var c=0,l=!0;if("[object Array]"==u){if(c=n.length,l=c==t.length)for(;c--&&(l=_(n[c],t[c],r,e)););}else{for(var s in n)if(g.has(n,s)&&(c++,!(l=g.has(t,s)&&_(n[s],t[s],r,e))))break;if(l){for(s in t)if(g.has(t,s)&&!c--)break;l=!c}}return r.pop(),e.pop(),l};g.isEqual=function(n,t){return _(n,t,[],[])},g.isEmpty=function(n){if(null==n)return!0;if(g.isArray(n)||g.isString(n)||g.isArguments(n))return 0===n.length;for(var t in n)if(g.has(n,t))return!1;return!0},g.isElement=function(n){return!(!n||1!==n.nodeType)},g.isArray=p||function(n){return"[object Array]"==f.call(n)},g.isObject=function(n){return n===Object(n)},g.each(["Arguments","Function","String","Number","Date","RegExp"],function(n){g["is"+n]=function(t){return f.call(t)=="[object "+n+"]"}}),g.isArguments(arguments)||(g.isArguments=function(n){return!(!n||!g.has(n,"callee"))}),"function"!=typeof/./&&(g.isFunction=function(n){return"function"==typeof n}),g.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},g.isNaN=function(n){return g.isNumber(n)&&n!=+n},g.isBoolean=function(n){return n===!0||n===!1||"[object Boolean]"==f.call(n)},g.isNull=function(n){return null===n},g.isUndefined=function(n){return void 0===n},g.has=function(n,t){return s.call(n,t)},g.noConflict=function(){return n._=t,this},g.identity=function(n){return n},g.constant=function(n){return function(){return n}},g.noop=function(){},g.property=function(n){return function(t){return t[n]}},g.matches=function(n){return function(t){if(null==t)return g.isEmpty(n);if(t===n)return!0;for(var r in n)if(n[r]!==t[r])return!1;return!0}},g.times=function(n,t,r){for(var e=Array(Math.max(0,n)),u=0;n>u;u++)e[u]=t.call(r,u);return e},g.random=function(n,t){return null==t&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))},g.now=Date.now||function(){return(new Date).getTime()};var j={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};j.unescape=g.invert(j.escape);var x={escape:new RegExp("["+g.keys(j.escape).join("")+"]","g"),unescape:new RegExp("("+g.keys(j.unescape).join("|")+")","g")};g.each(["escape","unescape"],function(n){g[n]=function(t){return null==t?"":(""+t).replace(x[n],function(t){return j[n][t]})}}),g.result=function(n,t){if(null==n)return void 0;var r=n[t];return g.isFunction(r)?n[t]():r},g.mixin=function(n){g.each(g.functions(n),function(t){var r=g[t]=n[t];g.prototype[t]=function(){var n=[this._wrapped];return o.apply(n,arguments),S.call(this,r.apply(g,n))}})};var A=0;g.uniqueId=function(n){var t=++A+"";return n?n+t:t},g.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var k=/(.)^/,F={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},E=/\\|'|\r|\n|\u2028|\u2029/g,O=function(n){return"\\"+F[n]};g.template=function(n,t,r){r=g.defaults({},r,g.templateSettings);var e=new RegExp([(r.escape||k).source,(r.interpolate||k).source,(r.evaluate||k).source].join("|")+"|$","g"),u=0,i="__p+='";n.replace(e,function(t,r,e,a,o){return i+=n.slice(u,o).replace(E,O),u=o+t.length,r?i+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'":e?i+="'+\n((__t=("+e+"))==null?'':__t)+\n'":a&&(i+="';\n"+a+"\n__p+='"),t}),i+="';\n",r.variable||(i="with(obj||{}){\n"+i+"}\n"),i="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+i+"return __p;\n";try{var a=new Function(r.variable||"obj","_",i)}catch(o){throw o.source=i,o}if(t)return a(t,g);var c=function(n){return a.call(this,n,g)},l=r.variable||"obj";return c.source="function("+l+"){\n"+i+"}",c},g.chain=function(n){return g(n).chain()};var S=function(n){return this._chain?g(n).chain():n};g.mixin(g),g.each(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var t=u[n];g.prototype[n]=function(){var r=this._wrapped;return t.apply(r,arguments),"shift"!=n&&"splice"!=n||0!==r.length||delete r[0],S.call(this,r)}}),g.each(["concat","join","slice"],function(n){var t=u[n];g.prototype[n]=function(){return S.call(this,t.apply(this._wrapped,arguments))}}),g.extend(g.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}}),"function"==typeof define&&define.amd&&define("underscore",[],function(){return g})}).call(this)});
;define("wkview:widget/view_recom_thirdad/dialog/dialog.js",function(i,t,o){var e=i("wkcommon:widget/ui/lib/jquery/jquery.js"),s=i("wkcommon:widget/lib/doT/doT.min.js"),d={options:{viewHeight:e(window).height(),domHeight:e(document.body).height(),viewWidth:e(window).width(),domWidth:e(document.body).width()},init:function(i){this.tpl=i,this.renderWrap(),this.events()},renderWrap:function(){var i='<div class="goldclue-dialog-mask">\n<div class="goldclue-dialog-wrap" style="display: inline-block">\n</div>\n</div>';i=s.template(i),e("body").append(i()),this.resetSize(),this.resetWrapSize(),this.renderDialog()},renderDialog:function(){this.$el=e(".goldclue-dialog-wrap"),this.$el.html(this.tpl),this.dialogPosotion()},closeDialog:function(){e(".goldclue-dialog-mask").remove()},events:function(){var i=this;e(window).resize(function(){i.resetSize(),i.resetWrapSize(),i.dialogPosotion()})},dialogPosotion:function(){var i=e(window).scrollTop(),t=e(window).scrollLeft(),o=this.$el.height(),s=this.$el.width();if(o<this.options.viewHeight){var d=(this.options.viewHeight-o)/2;this.$el.css("top",d+i)}else this.$el.css("top",0);if(s<this.options.viewWidth){var n=(this.options.viewWidth-s)/2;this.$el.css("left",n+t)}else this.$el.css("left",0)},resetSize:function(){this.options.viewHeight=e(window).height(),this.options.domHeight=e(document.body).height(),this.options.viewWidth=e(window).width(),this.options.domWidth=e(document.body).width()},resetWrapSize:function(){e(".goldclue-dialog-mask").height(this.options.domHeight),e(".goldclue-dialog-mask").width(this.options.domWidth)}};o.exports=d});
;define("wkview:widget/view_recom_thirdad/goldclue-content/goldclue-content.js",function(n,o,a){function e(n,o,a){this.options=n.ad_place_data,this.wenji=o,this.location=a,this.init(),3!==a&&this.events()}var t=n("wkview:widget/view_recom_thirdad/dialog/dialog.js"),i=n("wkcommon:widget/ui/lib/jquery/jquery.js"),s=n("wkcommon:widget/lib/doT/doT.min.js"),l=n("wkcommon:widget/lib/tangram/base/base.js"),d=n("wkcommon:widget/lib/fis/data/data.js"),c=n("wkcommon:widget/ui/js_core/log/log.js");e.prototype={init:function(){this.showDialog()},showDialog:function(){var n='{{? it.pn == 1 }}<div class="glodclue-doclist-wrap ads-doc-list">\n<div class="goldclue-close step-goldclue-close" data-fun="goldclue-close"></div>\n<div class="glodclue-doclist-head">\n<h2>\u7cbe\u9009\u6587\u8f91\u4e0b\u8f7d</h2>\n<p>\u5171<span class="counter">{{= it.data.corpus_list.length}}</span>\u7bc7\u6587\u6863&nbsp;&nbsp;&nbsp;{{= it.data.down_count}}\u4eba\u5df2\u4e0b\u8f7d&nbsp;&nbsp;&nbsp;<span class="counter">{{= it.bgcData.brand_name}}</span>\u4e13\u4e1a\u63a8\u8350</p>\n</div>\n<div class="glodclue-doclist-content cont">\n<ul class="list dialog-list">\n{{~it.data.corpus_list :item:i}}<li><span class="number">{{= i+1}}</span><span class="ic ic-{{= item[2]}}"></span>{{= item[1]}}</li>\n{{~}}</ul>\n<a href="###" class="ui-bz-btn-senior goldclue-download" data-fun="goldclue-download">\n<b class="ui-bz-btn-p-40 ui-bz-btc ">\u514d\u8d39\u4e0b\u8f7d</b>\n</a>\n</div>\n<div class="glodclue-doclist-bottom">\n<p><span class="green">{{= it.bgcData.brand_name}}</span>\u4e13\u4e1a\u987e\u95ee\u5c06\u81f4\u7535\u670d\u52a1</p>\n</div>\n</div>\n{{?? it.pn == 2}}<div class="goldclue-form-wrap">\n<div class="goldclue-form-container">\n<div class="goldclue-close" data-fun="goldclue-close"></div>\n<div class="dialog-left-greenbar"></div>\n<div class="goldclue-form">\n<div class="dialog-top">\n<p class="doc-title">\u7cbe\u9009\u6587\u8f91\u4e0b\u8f7d</p>\n</div>\n<div class="dialog-inner">\n<div class="goldform">\n<div class="formgroupGold">\n<label for="name">\u59d3&nbsp;&nbsp;\u540d\uff1a</label><input id="name" type="text" placeholder="\u8bf7\u8f93\u5165\u59d3\u540d" name="name" class="txt_usname fixplaceholder name-error ui-bz-ipt"/>\n<span class="errorinfo">\u8bf7\u8f93\u5165\u59d3\u540d</span>\n</div>\n<div class="formgroupGold">\n<label for="tel">\u7535&nbsp;&nbsp;\u8bdd\uff1a</label><input id="tel" class="ui-bz-ipt ui-bz-ipt-bgw fixplaceholder" type="text" placeholder="\u8bf7\u586b\u5199\u624b\u673a\u53f7\u7801" name="phone" autocomplete="off">\n<span class="errorinfo">\u8bf7\u586b\u5199\u6b63\u786e\u7684\u624b\u673a\u53f7</span>\n</div>\n<div class="formgroupGold" style="display: none;">\n<div class="yzm-wrap">\n<label for="yzm">\u9a8c\u8bc1\u7801\uff1a</label><input id="yzm" class="ui-bz-ipt ui-bz-ipt-bgw fixplaceholder" type="text" placeholder="\u8bf7\u586b\u5199\u624b\u673a\u9a8c\u8bc1\u7801" name="phone_vcode" style="width: 139px;">\n<a href="javascript:;" class="ui-bz-btn-normal ui-bz-btn-51offer">\n<b class="ui-bz-btn-p-15 ui-bz-btc" data-fun="get-gcmsg">\u83b7\u53d6\u77ed\u4fe1\u9a8c\u8bc1\u7801</b>\n</a>\n</div>\n<span class="errorinfo" id="telerror">\u8bf7\u586b\u5199\u6b63\u786e\u624b\u673a\u9a8c\u8bc1\u7801</span>\n</div>\n<div class="glodclue-form-bottom">\n<p><span class="green">{{= it.data.brand_name}}</span>\u4e13\u4e1a\u987e\u95ee\u5c06\u81f4\u7535\u670d\u52a1<span class="cursor">\u9690\u79c1\u4fdd\u969c<span class="hover-goldclue step2-hover">\n\u60a8\u586b\u5199\u7684\u8054\u7cfb\u4fe1\u606f\u5c06\u7531{{= it.data.brand_name}}\u83b7\u53d6\u5e76\u53ef\u80fd\u76f4\u63a5\u5411\u60a8\u81f4\u7535\uff0c\u5982\u60a8\u4e0d\u5e0c\u671b\u6253\u6270\uff0c\u8bf7\u52ff\u4f7f\u7528\u8be5\u670d\u52a1</span>\n</span></p>\n</div>\n<a href="javascript:;" class="ui-bz-btn-senior btn-diaolog-downdoc"><b class="ui-bz-btn-p-16 ui-bz-btc" data-fun="goldclue-submit-info">\u514d\u8d39\u4e0b\u8f7d</b></a>\n<p class="submit-error"></p>\n</div>\n</div>\n</div>\n</div>\n</div>\n{{?? it.pn == 3}}<div class="goldclue-jigou-wrap">\n<div class="goldclue-jigou-container">\n<div class="goldclue-close step-goldclue-close" data-fun="goldclue-close"></div>\n<div class="dialog-left-greenbar"></div>\n<div class="goldclue-jigou-content">\n<div class="dialog-top">\n<p class="doc-title">\u7cbe\u9009\u6587\u8f91\u4e0b\u8f7d</p>\n</div>\n<img src="{{= it.imgurl}}" alt=""/>\n<p class="jigou-tishi">\u4e0b\u8f7d\u6210\u529f\uff0c\u8d44\u6599\u7531{{= it.data.brand_name}}\u4e13\u4e1a\u63a8\u8350</p>\n</div>\n</div>\n<div class="glodclue-form-bottom">\n<p><span class="green">{{= it.data.brand_name}}</span>\u4e13\u4e1a\u987e\u95ee\u5c06\u81f4\u7535\u670d\u52a1<span class="cursor">\u9690\u79c1\u4fdd\u969c<span class="hover-goldclue step2-hover">\n\u60a8\u586b\u5199\u7684\u8054\u7cfb\u4fe1\u606f\u5c06\u7531{{= it.data.brand_name}}\u83b7\u53d6\u5e76\u53ef\u80fd\u76f4\u63a5\u5411\u60a8\u81f4\u7535\uff0c\u5982\u60a8\u4e0d\u5e0c\u671b\u6253\u6270\uff0c\u8bf7\u52ff\u4f7f\u7528\u8be5\u670d\u52a1</span>\n</span></p>\n</div>\n</div>\n{{?}}';n=s.template(n),this.tpl=n,t.init(n({pn:"1",bgcData:this.options,data:this.wenji}))},events:function(){var n=this;i("body").on("click",".goldclue-form-wrap",function(o){var a=i(o.target),e=a.attr("data-fun");switch(e){case"goldclue-submit-info":var s=n.getInfo();if(n.dataLog(1),!s)return i(".submit-error").html("\u8bf7\u5c06\u4fe1\u606f\u586b\u5199\u5b8c\u6574").show(),void n.dataLog(2);s.user_id=n.options.user_id,s.doc_id=d.get("WkInfo").DocInfo&&d.get("WkInfo").DocInfo.docId||"",i.post("/xpage/interface/addgoldclues",s,function(o){var a=+o.status.code,e={code10000:"\u63d0\u4ea4\u6570\u636e\u65e0\u6548",code10001:"\u8bf7\u68c0\u67e5\u9a8c\u8bc1\u7801,\u518d\u505a\u63d0\u4ea4",code10002:"\u64cd\u4f5c\u5931\u8d25 \u8bf7\u91cd\u8bd5"};if(i(".submit-error").html(""),0===+a){if(i(".submit-error").hide(),!+o.data.type){var s=new Image;s.src=n.options.url+"&shh=wenku.baidu.com",n.dataLog(3)}var l="";o.data.ad_info&&o.data.ad_info.logo_url&&(l=o.data.ad_info.logo_url),t.closeDialog(),t.init(n.tpl({pn:"3",data:n.options,imgurl:l})),setTimeout(function(){o.data&&o.data.corpus_info&&n.downWenji(o.data.corpus_info)},300),n.dataLog(4)}else a="code"+a,i(".submit-error").html(e[a]).show(),n.dataLog(5)});break;case"get-gcmsg":var l=i("input[name=phone]");if(!n.isTel(l.val()))return void l.css("border-color","red").siblings(".errorinfo").css("display","block");a.parent().addClass("ui-bz-btn-disable"),a.attr("data-fun","");var c="\u79d2\u540e\u91cd\u53d1",r=120,u="/xpage/interface/sendphonevcode?phone="+l.val();i.get(u,function(n){var o=+n.status.code,e={code10000:"\u65e0\u6548\u7684\u624b\u673a\u53f7",code10001:"\u64cd\u4f5c\u8fc7\u4e8e\u9891\u7e41\uff0c\u8bf7\u7a0d\u5019\u518d\u8bd5",code10002:"\u64cd\u4f5c\u5931\u8d25 \u8bf7\u91cd\u8bd5"};if(o){o="code"+o,alert(e[o]||"\u7cfb\u7edf\u7e41\u5fd9, \u8bf7\u7a0d\u540e\u91cd\u8bd5");var t=setInterval(function(){clearInterval(t),a.parent().removeClass("ui-bz-btn-disable"),a.text("\u83b7\u53d6\u77ed\u4fe1\u9a8c\u8bc1\u7801").attr("data-fun","get-gcmsg")},3e3)}else var i=setInterval(function(){r?(a.text(r+c),r--):(clearInterval(i),a.parent().removeClass("ui-bz-btn-disable"),a.text("\u83b7\u53d6\u77ed\u4fe1\u9a8c\u8bc1\u7801").attr("data-fun","get-gcmsg"))},1e3)});break;case"goldclue-close":t.closeDialog()}}),i("body").on("click",".goldclue-download",function(){t.closeDialog(),t.init(n.tpl({pn:"2",data:n.options})),n.placeholder(),1===n.location?c.xsend(1,101059):2===n.location&&c.xsend(1,101060)}),i("body").on("click",".step-goldclue-close",function(){t.closeDialog()}),i("body").on("keyup change",".goldclue-form-container input[name=phone]",function(o){o.preventDefault();var a=i(this).val();n.isTel(a)&&i(".yzm-wrap").parent().show()}),i("body").on("blur",".goldclue-form-container input[name=phone]",function(){var o=i(this),a=o.val();return n.rmErr("phone"),n.isTel(a)?void 0:void n.showErr("phone")}),i("body").on("blur",".goldclue-form-container input[name=name]",function(){var o=i(this),a=o.val();return n.rmErr("name"),a?void 0:void n.showErr("name")}),i("body").on("mouseover",".cursor",function(){i(".hover-goldclue").show()}),i("body").on("mouseleave",".cursor",function(){i(".hover-goldclue").hide()})},isTel:function(n){return!!n.match(/^(0|86|17951)?(13[0-9]|15[012356789]|17[678]|18[0-9]|14[57])[0-9]{8}$/)},placeholder:function(){+l.browser.ie<=9&&i(".fixplaceholder").each(function(n,o){var a=i(o).attr("placeholder");i(o).val(a).click(function(){i(this).val()===a&&i(this).val("")}).blur(function(){var n=i(this).val();i.trim(n)||i(this).val(a)})})},showErr:function(n){i("input[name="+n+"]").parents(".formgroupGold").addClass(n+"err")},rmErr:function(n){i("input[name="+n+"]").parents(".formgroupGold").removeClass(n+"err")},getInfo:function(){for(var n=i(".goldform").find(":input").serializeArray(),o={},a=!0,e=0;e<n.length;e++){if(!n[e].value)return a=!1;o[n[e].name]=n[e].value}return o},downWenji:function(n){var o="https://wenku.baidu.com/zippack/bos",a=(i(document.body),i('<form method="post"></form>')),e=i('<input type="hidden">');a.attr({action:o}),e.attr({name:"zipinfo"}),e.val(n),a.append(e),a.appendTo(document.body),a.submit(),document.body.removeChild(a[0])},dataLog:function(n){var o=this;1===o.location?c.xsend(1,101061,{index:n}):2===o.location&&c.xsend(1,101062,{index:n})}},a.exports=e});
;define("wkview:widget/view_recom_thirdad/endPageGoldClueAd/endPageGoldClueAd.js",function(o,e,l){var t=o("wkcommon:widget/ui/lib/jquery/jquery.js"),d=o("wkcommon:widget/lib/doT/doT.min.js"),c=o("wkview:widget/view_recom_thirdad/goldclue-content/goldclue-content.js"),n=o("wkcommon:widget/ui/js_core/log/log.js"),i=function(){t(window).on("showendPageGoldClueAd",function(o,e){var l='<div class="bottom-goldclue">\n<div class="bottom-goldclue-info">\n<div class="bottom-goldclue-icon">\n<em>{{= it.data.corpus_list.length}}</em>\u7bc7</div>\n<div class="bottom-goldclue-title"><a href="javascript:;" title="" class="bottom-goldclue-titlename">{{= it.data.show_corpus[0][1]}}</a><br>\n<p class="bottom-goldclue-notes"><em>{{= it.data.down_count}}</em>\u4eba\u5df2\u4e0b\u8f7d</p>\n</div>\n<a href="javascript:;" title="" class="bottom-goldclue-btn">\u514d\u8d39\u4e0b\u8f7d</a>\n</div>\n</div>';l=d.template(l);var i=0;t(".reader-container").after(l({data:e})),t(".bottom-goldclue-btn,.bottom-goldclue-icon,.bottom-goldclue-titlename").on("click",function(){i||t(".goldclue-wrap").hasClass("second-click")?new c(e.goldClue,e,3):(new c(e.goldClue,e,2),t(".goldclue-wrap").hasClass("second-click")||t(".goldclue-wrap").addClass("second-click"),i+=1),n.xsend(1,101058)})})};l.exports.endPageGoldClueAd=i});
;define("wkview:widget/view_recom_thirdad/lib/util.js",function(e,i){i.query2JSON=function(e){for(var i,t,n,r,s=e.substr(e.lastIndexOf("?")+1),u=s.split("&"),d=u.length,f={},l=0;d>l;l++)u[l]&&(r=u[l].split("="),i=r[0],t=r[1],n=f[i],"undefined"==typeof n?f[i]=t:$.isArray(n)?n.push(t):f[i]=[n,t]);return f}});
;define("wkview:widget/view_recom_thirdad/highValueDoc/log.js",function(e,i){var c=e("wkview:widget/view_recom_thirdad/lib/util.js"),l=e("wkcommon:widget/ui/js_core/log/log.js");i.log=function(e){var i=c.query2JSON(location.search);i.hasOwnProperty("rec_flag")&&i.rec_flag&&("pv"===e?l.xsend(1,101553,{type:i.rec_flag,isclick:0}):"click"===e&&l.xsend(1,101553,{type:i.rec_flag,isclick:1}))}});
;define("wkview:widget/view_recom_thirdad/view_recom_thirdad.js",function(e,a,t){var n=e("wkcommon:widget/ui/lib/jquery/jquery.js"),i=e("wkcommon:widget/lib/doT/doT.min.js"),d=e("wkcommon:widget/ui/lib/inCharset/inCharset.js"),c=e("wkcommon:widget/ui/js_core/log/log.js"),o=e("wkcommon:widget/ui/js_core/log/xshowLog.js"),r=e("wkview:widget/view_recom_thirdad/goldclue-content/goldclue-content.js"),l=e("wkcommon:widget/lib/fis/data/data.js"),s=(e("wkcommon:widget/ui/lib/jquery_xdomainrequest/xdomainrequest.js"),e("wkcommon:widget/ui/lib/cookie/cookie.js"),e("wkcommon:widget/ui/lib/hxABtest/hxABtest.js")),g={init:function(e,a){var t=this;e=e.data,t.cbRecomAdSolved="function"==typeof a?a:function(){},t.mofangData=e,t.temp=0,t.fcEid=+e.eid||0,t.rightFc=e&&e.right_fengchao_ad?e.right_fengchao_ad:"",t.readFc=e&&e.read_fengchao_ad?e.read_fengchao_ad:"",t.rightWm=e&&e.recommend_ad_wangmeng?e.recommend_ad_wangmeng:"",t.goldClue=e&&e.right_fengchao_gold_ad?e.right_fengchao_gold_ad:"",t.pptFcAd=e&&e.ppt_fengchao_ad?e.ppt_fengchao_ad:"",t.topBar=e&&e.top_bar_fengchao_ad?e.top_bar_fengchao_ad:"",t.wenji="";var i=l.get("WkInfo").DocInfo,d=l.get("WkInfo").WkAdInfo,r=(i.vip_type,i.jiaoyu_vip_type);if(l.get("isRightLoadFcWmAd")&&!d.blockStatus){var g=s.getCookie(+r,"adOnView","/view");if(g)return;t.renderLikeRecomFcOrWm()}var p={rightFc:t.rightFc,readFc:t.readFc};if(n.event.trigger("fc:monitorPv",{type:"responsePv",result:p}),t.readFc&&t.readFc.ad_place_data&&"object"==typeof t.readFc.ad_place_data?n.event.trigger("docloadOwnData",t.readFc):!t.goldClue&&t.readFc&&t.fcEid&&t.readFc.ad_place_data&&"object"!=typeof t.readFc.ad_place_data?n.event.trigger("docloadFCData",{readFc:t.readFc,fcEid:t.fcEid,callback:t.handleFcJumpLink}):t.goldClue||(n.event.trigger("docloadWmData"),o.send({adPid:1,adId:"wm",act:"req"}),c.xsend(1,101649,{index:3})),t.pptFcAd&&n.event.trigger("showPptFcAd",{pptFcAd:t.pptFcAd,callback:t.handleFcJumpLink}),n.event.trigger("topBarFcAd.tob",{eid:t.fcEid,data:t.topBar}),n.event.trigger("topBarFcAdRecom.tob",{eid:t.fcEid}),t.goldClue){var u=e,m=l.get("WkInfo").DocInfo.docId;n.ajax({url:"/org/interface/getcorpusinfo?doc_id="+m,type:"get",success:function(e){0===+e.status.code&&(t.wenji=e.data,n(".goldclue-wrap").length>0&&t.renderGoldClue(u,e.data),e.data.goldClue=t.goldClue,n.event.trigger("showendPageGoldClueAd",e.data),c.xsend(1,101055))}})}t.logObj={},t.fcEid&&t.logNum(t.fcEid),t.events()},renderGoldClue:function(e,a){var t=(e.right_fengchao_gold_ad.ad_place_data.url,'<div class="goldclue-content">\n<div class="goldclue-head">\n<p class="goldclue-count"><em>{{= it.data.corpus_list.length}}</em>\u7bc7</p>\n<p class="goldclue-title">\u76f8\u5173\u7cbe\u54c1\u6587\u8f91</p>\n<p class="goldclue-notes"><em>{{= it.data.down_count}}</em>\u4eba\u5df2\u4e0b\u8f7d</p>\n</div>\n<ul class="goldclue-main">\n{{~it.data.show_corpus :item:i}}{{? i< 3}}\n		<li><a><span class="ic ic-{{= item[2]}}"></span>{{= item[1]}}</a></li>\n{{?}}{{~}}</ul>\n<div class="goldclue-bottom">\n\u67e5\u770b\u5168\u90e8<em>{{= it.data.corpus_list.length}}</em>\u7bc7\u6587\u6863 ></div>\n</div>');t=i.template(t),n(".goldclue-wrap").html(t({data:a}))},renderLikeRecomFc:function(e){var a=this,t=n(".frist-item");t.html(e.ad_place_data).addClass("view-like-recom-fc ad-onff");var i=e.ad_place_js,r="<script>"+i+"</script>";n("head").append(r);var s=t.find("h1").text()||"",g=t.find("p span").eq(0).text()||"",p=l.get("WkInfo").DocInfo.title||"",u=a.mofangData.query||"",m=a.mofangData.hasOwnProperty("callbk_tag")?a.mofangData.callbk_tag:100;p=p+"|"+s+"|"+u,(new d.InCharset).get(p,"gbk",function(e){c.xsend(1,100939,{callbk_tag:m,adTitle:e,clickUrl:g,refer:document.referrer,eid:a.fcEid})}),a.handleFcJumpLink(t),n(".view-like-recom-fc").length>0&&(o.send({adPid:2,adId:"fc",act:"show"}),n(".view-like-recom-fc").on("click",function(){o.send({adPid:2,adId:"fc",act:"click"})}))},renderLikeRecomWm:function(){var e='<div class="item wangmeng_income">\n<div class="doc-title rt-wangmeng-title">\n<b class="ic ic-wangmeng"></b>\n<div id="cpro_u3075403" class="rt-wangmeng-wrap"></div>\n<script type="text/javascript">\n			(window.cproArray = window.cproArray || []).push({\n				id: "u3075403"\n			});\n		</script>\n<script src="https://cpro.baidustatic.com/cpro/ui/c.js" type="text/javascript"></script>\n</div>\n<div class="tail-info">\n<span style="width: 58%; display: inline-block;">www.baidu.com</span><span class="gd-g-u gd-u-3-8">\u641c\u7d22\u63a8\u8350</span>\n</div>\n</div>';e=i.template(e),n(".frist-item").html(e()),c.xsend(1,100945)},handleFcJumpLink:function(e){var a=e;if(a.length){var t=a.find("a"),i=new RegExp("(^|&)(tn|from)=([^&]*)(&|$)"),d=window.location.search.substr(1).match(i),c="";t.each(function(){var e=n(this).attr("href")||"";e.indexOf("www.baidu.com/baidu.php")>-1&&(null!==d?(c=unescape(d[3]),e=e+"&shh=wenku.baidu.com&sht="+c):e+="&shh=wenku.baidu.com",n(this).attr("href",e))})}},getQueryString:function(e){var a=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),t=window.location.search.substr(1).match(a);return null!=t?unescape(t[2]):null},renderLikeRecomFcOrWm:function(){var e=this;e.rightFc&&e.rightFc.ad_place_data&&(e.renderLikeRecomFc(e.rightFc),n.event.trigger("fc:monitorPv",{type:"realShowPv",position:"right",fcEid:e.fcEid,el:n("#add-new")})),e.rightWm&&(e.renderLikeRecomWm(e.rightWm),c.xsend(1,101650,{index:3})),e.cbRecomAdSolved()},logNum:function(e){var a=this;62307102===e&&a.rightFc&&a.rightFc.ad_place_data?a.logObj.id="101026":82307102===e&&a.readFc&&a.readFc.ad_place_data?a.logObj.id="101027":72307102===e&&a.readFc&&a.readFc.ad_place_data&&(a.logObj.id="101028"),a.logObj.id&&(n(".more-btn-banner .banner-download").on("click",function(){c.xsend(1,a.logObj.id,{index:1})}),n(".pay-page-inner .reader-download").on("click",function(){c.xsend(1,a.logObj.id,{index:2})}),n(".pay-page-inner .btn-login-joinvip-rightnow").on("click",function(){c.xsend(1,a.logObj.id,{index:3})}),n(".more-btn-banner .goBtn").on("click",function(){window.BCat&&window.BCat.miaowu(),c.xsend(1,a.logObj.id,{index:4})}))},events:function(){var e=this;n(".goldclue-wrap").on("click",function(a){var t=n(a.target);if(!t.hasClass("goldclue-notes")){c.xsend(1,101056);var i=e.goldClue;e.temp||n(".goldclue-wrap").hasClass("second-click")?new r(i,e.wenji,3):(new r(i,e.wenji,1),n(".goldclue-wrap").hasClass("second-click")||n(".goldclue-wrap").addClass("second-click"),e.temp=e.temp+1)}})},visitUrl:function(e){if(e){var a=new Image;return a.src=e,a}}};t.exports=g});
;define("wkview:widget/view_recom_thirdad/monitor.js",function(e,i,n){var r=e("wkcommon:widget/ui/lib/jquery/jquery.js"),o=e("wkcommon:widget/ui/js_core/log/log.js"),t=e("wkview:widget/ui/detectImgBlock/detectImgBlock.js"),d=e("wkcommon:widget/ui/lib/browser/browser.js"),c=(d.chrome?"chrome":d.ie?d.ie:d.safari?"safari":d.firefox?"firfox":"other",function(e){o.xsend(1,101323,e)}),a=function(){var e=!1,i=r("#add-new .frist-item"),n=r(".reader-container"),d=function(){var e=function(e){var i=e.attr("href")||"";return i.indexOf("www.baidu.com/baidu.php")>-1?!0:!1};i.on("click","a",function(){e(r(this))&&c({index:5})}),n.on("click",".fc-inner a",function(){e(r(this))&&(c({index:9}),o.xsend(1,101913,{index:4}))})};d();var a;r(window).on("fc:monitorPv",function(e,i){var n=i?i.type:"";switch(n){case"requestPv":a=i.antiEid||0;var d=t.detectImgBlock();r.when(d).then(function(e){e&&c({index:11,eid:a})}),c({index:1,eid:a}),o.xsend(1,101913,{index:0});break;case"responsePv":var f=i.result||{},s=f.rightFc?"1":"2",w=f.readFc?"1":"2",h=s+w;c({index:2,right:s,read:w,eid:a}),o.xsend(1,101913,{index:1});break;case"realShowPv":var h,u,x=i.position,g=5,v=0,l=!1;if("right"===x)u=r("#view-like-recom").find(".frist-item"),v=u.height()||0,h=4,c({index:12});else{var m=r(".doc-reader").find(".fc-wrap:eq(0)"),k=r(".doc-reader").find(".fc-wrap:eq(1)");u=m,v=m.height()||k.height()||0,h=8,c({index:13}),o.xsend(1,101913,{index:2})}u.find("a").each(function(){var e=r(this).attr("href")||"";return e.indexOf("www.baidu.com/baidu.php")>-1?(l=!0,!1):void 0}),v>g&&c({index:h})}}),r(window).on("scroll",function(){var i=r(".fc-inner:eq(0)"),n=r(window).scrollTop(),t=r(window).height(),d=i.length&&i.offset()?i.offset().top:0,a=d>0&&i[0].offsetHeight?i[0].offsetHeight:0;!e&&i.length&&d>0&&n+t>d+a&&(e=!0,c({index:10}),o.xsend(1,101913,{index:3}))})};n.exports.fcMonitor=a});
;define("wkview:widget/view_recom_thirdad/adControl/fcwm.js",function(e,t,i){var o=e("wkcommon:widget/lib/fis/data/data.js"),r=e("wkview:widget/view_recom_thirdad/lib/util.js"),a=e("wkview:widget/view_recom_thirdad/view_recom_thirdad.js"),d=e("wkview:widget/view_recom_thirdad/monitor.js"),c=e("wkview:widget/view_like_recom/common/cb_recom_ad_solved.js"),n=e("wkview:widget/commerce/fengchao/model.js"),w=e("wkcommon:widget/ui/js_core/log/log.js"),_={getFcWm:function(e,t){var i=this,_=o.get("WkInfo").DocInfo||{},f=o.get("WkInfo").DocInfo.docId,g=document.referrer,h=r.query2JSON(location.search),m={title:_.title,referer:g,doc_id:f,t:new Date-0,rec_flag:""};h.hasOwnProperty("rec_flag")&&(m.rec_flag=h.rec_flag);var s=window.location.href,v=s.indexOf("testid=");if(d.fcMonitor(),v>0&&(m.test_id=s.substr(v+7,1)),w.xsend(1,102111,{position:"view_recom_thirdad_fcwm_get"}),t){var l=100*Math.random();+t>l&&$.when(n.fetchData(1134),n.fetchData(1087)).then(function(e,t){a.init({data:{eid:62307103,read_fengchao_ad:e,right_fengchao_ad:t}},$.proxy(c,i))})}else $.when(n.fetchData(1134),n.fetchData(1087)).then(function(e,t){a.init({data:{eid:62307103,read_fengchao_ad:e,right_fengchao_ad:t}},$.proxy(c,i))});$.event.trigger("fc:monitorPv",{type:"requestPv"})}};i.exports=_});
;define("wkview:widget/view_recom_thirdad/pptFcAd/pptFcAd.js",function(d,n,t){var e=d("wkcommon:widget/ui/lib/jquery/jquery.js"),o=d("wkcommon:widget/ui/js_core/log/log.js"),i=!1,c=function(){e(window).on("showPptFcAd",function(d,n){var t=n.callback,c=n.pptFcAd;if(c.ad_place_data){e(".fc-ppt").html(c.ad_place_data);var p=c.ad_place_js,a="<script>"+p+"</script>";e("head").append(a),t&&t(e(".fc-ppt")),o.xsend(1,101106,{index:1}),e(window).scroll(function(){var d=e(document).scrollTop(),n=e(".fc-ppt").offset().top,t=e(window).height();n-d>0&&t>n-d&&!i&&(o.xsend(1,101106,{index:10}),i=!0)}),e("body").on("click",".fc-ppt",function(){o.xsend(1,101106,{index:2})}),e(".btn-pay-vip").length&&o.xsend(1,101106,{index:6}),e(".btn-download").length&&o.xsend(1,101106,{index:7}),e(".bottom-doc-list").length&&!e(".bottom-doc-list").eq(0).is(":hidden")&&o.xsend(1,101106,{index:8})}})};t.exports.pptFcAd=c});
;define("wkview:widget/model/vipData.js",function(o,e,n){var i=o("wkcommon:widget/lib/fis/data/data.js"),t=o("wkcommon:widget/ui/lib/jquery/jquery.js"),w=o("wkview:widget/node_modules/@baidu/wenku-model-user/index.js"),d=i.get("WkInfo")||{},u=d.DocInfo||{},c=function(){};c.prototype={constructor:c,run:function(o){var e=w.getVipInfo(),n=w.isVipFreeDoc(u),i=w.getUserDownloadResource(u);t.when(e,n,i).done(function(o,e,n){o=o||{},window.vipInfo=o,window.isVipFreeDoc=e,window.downloadResource=n}).fail(function(){}).always(function(){t.isFunction(o)&&o()})}},n.exports=new c});
;define("wkview:widget/comment/js/model/star.js",function(e,t,s){var i=(e("wkcommon:widget/ui/lib/jquery/jquery.js"),e("wkview:widget/ui/underscore/underscore.js"),e("wkcommon:widget/lib/fis/data/data.js")),r=e("wkcommon:widget/ui/js_core/log/log.js"),a=e("wkview:widget/ui/backbone/backbone.js"),o=a.Model.extend({url:"/doc/submit/value",saved:!1,defaults:{doc_id:null,value_score:0,ct:"20009"},initialize:function(){var e=i.get("WkInfo")||{},t=e.DocInfo&&e.DocInfo.docId;this.set({doc_id:t})},starChange:function(e){this.set({value_score:e.changed.star});var t=this;this.saved||this.save({},{success:function(e,s){var i;switch(+s.errno){case 0:t.trigger("star-success"),r.xsend(1,100030);break;case 45:i="\u4e0d\u80fd\u8bc4\u4ef7\u81ea\u5df2\u7684\u6587\u6863\uff01";break;case 6:i="\u60a8\u4e4b\u524d\u5df2\u7ecf\u8bc4\u4ef7\u8fc7\u4e86\uff01";break;case 4:i="\u6ca1\u6709\u64cd\u4f5c\u6743\u9650\uff01";break;case 5:i="\u4f11\u606f\u4e00\u4e0b\u518d\u8bc4\u4ef7\u5427\uff01";break;default:i="\u7cfb\u7edf\u9519\u8bef\uff0c\u8bf7\u7a0d\u5019\u518d\u8bd5\uff01"}t.saved=!0,t.trigger("star-error",{tip:i})}})},idAttribute:"doc_id"});s.exports.getStarModel=function(){var e;return function(){return e?e:e=new o}}()});
;define("wkview:widget/comment/js/view/commentItem.js",function(e,t,i){var n=e("wkcommon:widget/ui/lib/jquery/jquery.js"),o=e("wkview:widget/ui/underscore/underscore.js"),l=e("wkview:widget/ui/backbone/backbone.js"),m=l.View.extend({tagName:"li",className:"ct-item",template:o.template(n("#comment-item-tpl").html()),events:{},initialize:function(e){n.extend(this,e||{}),this.listenTo(this.model,"all",function(e){console.log("comment event: "+e)}),this.listenTo(this.model,"change:content",n.proxy(this.render,this))},render:function(){var e={};if(n.extend(e,this.model.attributes),e.oInfo.org_name){var t=e.oInfo;e.url="/org/view?org="+t.eng_name,e.tname=t.org_name}else if(e.title)e.url="/p/"+e.uname,e.tname=e.tname,e.field&&8===+e.v_type&&(e.title=e.field+" "+e.title);else{var i=e.olduname.replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;");e.url="/u/"+i+"?from=wenku",e.tname=e.uname}return n(this.el).html(this.template(e)),this}});i.exports=m});
;define("wkview:widget/comment/js/model/comment.js",function(e,t,i){var a=e("wkcommon:widget/ui/lib/jquery/jquery.js"),n=e("wkcommon:widget/ui/lib/date/date.js").format,o=e("wkcommon:widget/lib/fis/data/data.js"),d=(e("wkview:widget/comment/js/model/star.js").getStarModel(),e("wkview:widget/ui/backbone/backbone.js")),r=o.get("WkInfo")||{},m=r&&r.DocInfo,c=d.Model.extend({url:"/browse/interface/addcomment",defaults:{errno:0,parentid:"",uname:"",avatar:"",star:0,content:"",olduname:"",create_time:"",reply_count:0,title:""},initialize:function(){this.set({docid:m.docId})},parse:function(e){var t=e||{},i=t.uInfo||{},a=t.vInfo||{},o=t.oInfo||{},d={},r=t.errno||0;return 0===r&&(d={errno:r,reply_id:t.reply_id,parentid:t.parent_id,star:t.reserved1,content:t.content,create_time:n(new Date(1e3*t.create_time),"yyyy-MM-dd"),reply_count:t.reply_count||0,uname:i.displayname,olduname:i.uname,tname:a.tname,avatar:o.avatarSmall||a.avatarSmall||i.avatarSmall||i.headicon,title:a.title||"",field:a.field||"",v_type:a.verify_type||0,oInfo:o,is_uid_admin:t.is_uid_admin||0}),d},clear:function(e){var t=this.get("docid"),i=this.get("reply_id"),n=e||0;this.destroy({url:"/browse/interface/delcomment",data:{docid:t,commentid:i,token:n},success:function(){a("body").trigger("deleteDocComment")}})},idAttribute:"reply_id"});i.exports=c});
;define("wkview:widget/comment/js/collections/commentList.js",function(e,t,n){var i=e("wkcommon:widget/ui/lib/jquery/jquery.js"),o=(e("wkcommon:widget/ui/lib/date/date.js"),e("wkview:widget/ui/underscore/underscore.js"),e("wkview:widget/ui/backbone/backbone.js")),r=e("wkcommon:widget/lib/fis/data/data.js"),a=e("wkview:widget/comment/js/model/comment.js"),m=e("wkcommon:widget/lib/tangram/base/base.js"),s=r.get("WkInfo")||{},c=s&&s.DocInfo,u=o.Collection.extend({model:a,url:"/browse/interface/getcomment",initialize:function(e){i.extend(this,e||{})},parse:function(e){var t=[],n=e.commentList||[];if(0===+e.errno)for(var i=0,o=n.length;o>i;i++){var r=n[i];t.push({reply_id:r.reply_id,parent_id:r.parent_id,uInfo:r.uInfo,vInfo:r.vInfo,oInfo:r.oInfo,reserved1:r.reserved1,content:r.content,create_time:r.create_time,reply_count:r.reply_count,is_uid_admin:r.is_uid_admin})}return t},resetModels:function(e){var t=this;this.fetch({data:{parentid:this.pid||0,docid:c.docId,pn:e||1},success:function(e,n){t.trigger("resetModels",n),m.lang.eventCenter.dispatchEvent("getcomments.response",n)},error:function(){}})},getCommentList:function(){var e=[];return i.each(this.models,function(t,n){var o={};if(i.extend(o,n.attributes),o.uname=o.uname.replace(/"/g,"&quot;"),o.uname=o.uname.replace(/</g,"&lt;"),o.uname=o.uname.replace(/>/g,"&gt;"),o.oInfo.org_name){var r=o.oInfo;o.url="/org/view?org="+r.eng_name,o.tname=r.org_name}else if(o.title)o.url="/p/"+o.uname,o.tname=o.tname,o.field&&8===+o.v_type&&(o.title=o.field+" "+o.title);else{var a=o.olduname.replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;");o.url="/u/"+a+"?from=wenku",o.tname=o.uname}e.push(o)}),e}});n.exports=u});
;define("wkview:widget/comment/js/view/commentApp.js",function(t,e,n){var i=t("wkcommon:widget/ui/lib/jquery/jquery.js"),o=(t("wkcommon:widget/ui/lib/date/date.js"),t("wkcommon:widget/ui/js_core/_dialog/_dialog.js")),r=t("wkcommon:widget/ui/js_core/pager/pager.js").pagerCreate,s=(t("wkcommon:widget/ui/lib/string/string.js"),t("wkview:widget/comment/js/model/star.js").getStarModel()),a=t("wkcommon:widget/ui/js_core/login/login.js").login,l=t("wkcommon:widget/ui/js_core/log/log.js"),c=t("wkview:widget/ui/underscore/underscore.js"),m=t("wkview:widget/ui/backbone/backbone.js"),h=t("wkcommon:widget/lib/tangram/base/base.js"),d=t("wkview:widget/comment/js/view/commentItem.js"),p=t("wkview:widget/comment/js/collections/commentList.js"),g=t("wkcommon:widget/lib/fis/data/data.js"),u=["","\u5f88\u5dee","\u8f83\u5dee","\u8fd8\u884c","\u63a8\u8350","\u529b\u8350"],f=g.get("WkInfo")||{},v=f&&f.DocInfo,y={MAX_LENGTH:240,notEmpty:"*\u8bc4\u8bba\u4e0d\u80fd\u4e3a\u7a7a",tooLarge:"*\u8bc4\u8bba\u5df2\u8d85240\u5b57\u9650\u5236",notStar:"*\u611f\u8c22\u652f\u6301\uff0c\u7ed9\u6587\u6863\u8bc4\u4e2a\u661f\u5427\uff01",emptyVcode:"*\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801",serverErrorTip:{3:"*\u4ed8\u8d39\u6587\u6863\u8d2d\u4e70\u540e\u53ef\u8bc4\u8bba\uff01",4:"*\u8bc4\u8bba\u5df2\u8d85240\u5b57\u9650\u5236",6:"*\u5bf9\u4e0d\u8d77\uff0c\u60a8\u662f\u53d7\u9650\u7528\u6237\uff08\u88ab\u5c01\u7981\u6216\u7528\u6237\u540d\u4e3a\u7a7a\uff09\uff0c\u65e0\u6cd5\u8bc4\u8bba",7:"*\u4e0d\u80fd\u8bc4\u8bba\u81ea\u5df1\u7684\u6587\u6863",5:"*\u8bc4\u8bba\u5185\u5bb9\u6d89\u5acc\u654f\u611f\u4fe1\u606f\uff0c\u8bf7\u4fee\u6539\u540e\u53d1\u5e03",40:"*\u8bc4\u8bba\u5185\u5bb9\u6d89\u5acc\u654f\u611f\u4fe1\u606f\uff0c\u8bf7\u4fee\u6539\u540e\u53d1\u5e03",8:"*\u8bc4\u8bba\u6b21\u6570\u5df2\u8d85\u9650\uff0c\u8bf7\u660e\u5929\u518d\u6765\u5427\uff0c\u8c22\u8c22\uff01",41:"*\u8bc4\u8bba\u64cd\u4f5c\u8fc7\u4e8e\u9891\u7e41\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5\uff01",42:"*\u4f11\u606f\u4e00\u4e0b\uff0c\u6bcf\u65e5\u9650\u91cf\u53d1\u5e03\u8bc4\u8bba\u54df\uff01",43:"*\u8fd9\u7bc7\u6587\u6863\u60a8\u5df2\u8bc4\u4ef7\u8fc7\u76f8\u540c\u5185\u5bb9\u5566\uff01",50:"*\u8bf7\u5148\u8fdb\u884c\u5b9e\u540d\u5236\u8ba4\u8bc1\u540e\u518d\u8bc4\u8bba\u54df\uff01",systemError:"*\u7cfb\u7edf\u9519\u8bef\uff0c\u7a0d\u540e\u518d\u8bd5"}},_=function(){var t={sel_captcha:"#captcha",sel_code:"#v_code",sel_input:"#v_input",sel_change:".change-captcha"},e={set:function(n,i){return t[n]=i,e},get:function(e){return t[e]},get_captcha:function(){i(t.sel_captcha).parent().css({display:"inline-block","float":"right"}),i.get("/vcode?t="+Math.random(),function(e){i(t.sel_captcha).attr("src",e.imgurl),i(t.sel_code).val(e.vcode_str),i(t.sel_input).val("")})}};return i(document).on("click",t.sel_change,e.get_captcha),e},C=m.View.extend({el:"#doc-comment",events:{"keyup .post-comment-ipt":"updateRemainLength","propertychange .post-comment-ipt":"updateRemainLength","input .post-comment-ipt":"updateRemainLength","click .post-comment-btn":"createComment","click .reply-btn":"toogleReply","keypress .post-reply-ipt":"createReplyOnEnter","click .post-reply-btn":"createReply","click .delete-btn":"deleteAct","focus .post-comment-ipt":"highlightIpt","blur .post-comment-ipt":"cancelHighlightIpt","focus .post-reply-ipt":"highlightIpt","blur .post-reply-ipt":"cancelHighlightIpt"},initialize:function(t){i.extend(this,t||{}),this.$starEl=i(".star-act"),this.$addCmtEl=i(".add-ct-wrap"),this.$addCmtBtn=i(".post-comment-btn"),this.commentStar=0,this.initStar(),this.commentList=new p,this.commentList.resetModels(),this.listenTo(this.commentList,"all",function(){}),this.commentList.on("change:reply_id",i.proxy(this.addOneComment,this)),this.commentList.on("resetModels",i.proxy(this.renderCommentList,this)),this.commentList.on("remove",i.proxy(this.removeItem,this))},vcode:new _,initStar:function(){var t=this,e=null,n=i(this.el).find("span.tip"),o=this.$starEl.find(".value-star");o.each(function(o,r){var a=i(r);a.hover(function(){e&&clearTimeout(e),n.hide(),!t.commentStar&&t.setStar(o+1)},function(){!t.commentStar&&(e=setTimeout(function(){t.setStar(0)},50))}),a.click(function(){t.commentStar||(t.commentStar=o+1,s.starChange({changed:{star:t.commentStar}}),t.setStar(t.commentStar))})})},setStar:function(t){var e=this.$starEl.find(".value-star"),n=this.$starEl.siblings(".f-star");e.each(function(e,n){t>e?i(n).removeClass("ic-star-off").addClass("ic-star-on"):i(n).addClass("ic-star-off").removeClass("ic-star-on")}),n.html(u[t])},resetStar:function(){this.commentStar=0,this.setStar(0)},addOneComment:function(t){var e=new d({model:t}),n=i(e.render().el),o=0,r=t.get("reply_id");n.attr({"data-reply-id":r,id:"item-"+r}),n.insertBefore(i("#comment-list li").first()),o=n.height(),n.css("height",0),n.animate({height:o}),this._insReplyList(r),this.totalCommentCount++,this._resetCommentNum()},addOneReply:function(t){var e=this,n=t.collection.pid,o=i("#item-"+n),r=o.find(".reply-list"),s=r.find("li").first(),a=new d({model:t,className:"ry-item clearfix",template:c.template(i("#reply-item-tpl").html())}),l=i(a.render().el),m=0,h=o.find(".reply-wrap"),p=t.get("reply_id");l.attr({"data-reply-id":p,id:"item-"+p}),h.css("height","auto"),s.length?l.insertBefore(s):(r.append(l),l.addClass("last")),m=l.height(),l.css("height",0),l.animate({height:m}),e["totalReplyCount"+n]++,e._resetReplyNum(n)},_validateComment:function(){var t=this,e=i(this.el).find("span.tip"),n=i(this.el).find(".post-comment-ipt").val(),o=n.length;return t.commentStar?0===o?(this._showCommentError(y.notEmpty),!1):o>y.MAX_LENGTH?(this._showCommentError(y.tooLarge),!1):i(this.vcode.get("sel_input")).val()?!0:(this._showCommentError(y.emptyVcode),!1):(e.css("display","inline-block"),!1)},_showCommentError:function(t,e){var n=this,i=t||y.serverErrorTip.systemError,o=n.$addCmtEl.siblings(".tip");switch(o.css({display:"inline-block"}),o.text(i),i&&(n.$addCmtEl.errAniTimer&&clearInterval(n.$addCmtEl.errAniTimer),n.$addCmtEl.errFlashCount=0,n.$addCmtEl.find(">p:eq(0)").css({backgroundColor:""}),n.$addCmtEl.errAniTimer=setInterval(function(){n.$addCmtEl.find(">p:eq(0)").css(n.$addCmtEl.errFlashCount++%2===0?{backgroundColor:"#fffad1"}:{backgroundColor:""}),n.$addCmtEl.errFlashCount>=6&&clearInterval(n.$addCmtEl.errAniTimer)},220)),+e){case 50:var r=['<a href="https://passport.baidu.com/v3/ucenter/main/certcenter" target="_blank" style="text-decoration: underline; color: #333333;">',"\u53bb\u5b9e\u540d\u5236\u8ba4\u8bc1","</a>"];o.append(r.join(""))}},updateRemainLength:function(t){var e=this,n=i(t.target),o=i(this.el).find(".length-tip"),r=n.val().length,s=y.MAX_LENGTH-r;s>=0?o.text(s):(e._showCommentError(y.tooLarge),o.text(""))},createComment:function(){var t=this,e=t.$addCmtEl.find("textarea"),n=i(this.el).find(".length-tip"),o=i(this.el).find(".tip");h.lang.eventCenter.dispatchEvent("triggerStars.response"),a.verlogin(function(){a.check(function(){t._validateComment()&&t.commentList.create({content:e.val(),star:t.commentStar,v_input:i("#v_input").val(),v_code:i("#v_code").val()},{success:function(i,r){0===+r.errno?(t.resetStar(),e.val(""),n.text(y.MAX_LENGTH),o.hide(),t.vcode.get_captcha(),l.xsend(1,100146)):(t._showCommentError(y.serverErrorTip[r.errno],r.errno),t.vcode.get_captcha())},error:function(e){t._showCommentError(y.serverErrorTip[e.errno],e.errno),t.vcode.get_captcha()}})})})},createPayComment:function(t,e){var n=this;a.verlogin(function(){a.check(function(){n.commentList.create(t,{success:function(t,i){0===+i.errno?l.xsend(1,100146):(n._showCommentError("\u60a8\u5df2\u8bc4\u8bba\u8fc7\u4e86",i.errno),n.vcode.get_captcha()),e&&e(+i.errno)},error:function(){n.vcode.get_captcha()}})})})},createReply:function(t){var e=this,n=i(t.target).parents("li.ct-item"),o=n.data("reply-id"),r=n.find(".post-reply-ipt"),s=n.find(".reply-wrap .error-tip"),c=r.val();a.verlogin(function(){a.check(function(){e._validateReply(n)&&e["replyList"+o].create({content:c,star:5,parentid:o},{success:function(t,n){0!==+n.errno?e._showReplyError(s,y.serverErrorTip[n.errno],n.errno):(r.val(""),l.xsend(1,100147))},error:function(){e._showReplyError(s,y.serverErrorTip.systemError)}})})})},createReplyOnEnter:function(t){var e=this;13===+t.which&&e.createReply(t)},_validateReply:function(t){var e=t.find(".post-reply-ipt").val(),n=e.length,i=t.find(".error-tip"),o=!0;return 0===n&&(this._showReplyError(i,y.notEmpty),o=!1),n>y.MAX_LENGTH&&(this._showReplyError(i,y.tooLarge),o=!1),o},_showReplyError:function(t,e,n){if(t.show(),t.html(e),50===+n){var i="https://passport.baidu.com/v3/ucenter/main/certcenter",o=['<a href="'+i+'" target="_blank" style="text-decoration: underline; color: #333333;">',"\u53bb\u5b9e\u540d\u5236\u8ba4\u8bc1","</a>"].join("");t.append(o)}},_initReplyList:function(){var t=this;i.each(this.commentList.models,function(e,n){var i=n.id;t._insReplyList(i)})},_insReplyList:function(t){this["replyList"+t]=new p({pid:t}),this["replyList"+t].on("resetModels",i.proxy(this.renderReplyList,this,this["replyList"+t])),this["replyList"+t].on("change:reply_id",i.proxy(this.addOneReply,this)),this["replyList"+t].on("remove",i.proxy(this.removeItem,this)),this["replyList"+t].on("add remove",i.proxy(this.resetReplyNum,this))},renderCommentList:function(t){var e=this;this.toogleLoading();var n=t.commentTags||{},o="",r=n.positiveTags,s=n.negtiveTags;for(var a in r)o+='<li class="comment-tag">'+a+'<span class="comment-count">'+(r[a]?"\uff08"+r[a]+"\uff09":"")+"</span></li>";for(var l in s)o+='<li class="comment-tag bad-tag">'+l+'<span class="comment-count">'+(s[l]?"\uff08"+s[l]+"\uff09":"")+"</span></li>";i.trim(o)||(i(".comment-tags-container").css("margin","0"),i("#comment-list").css("margin-top","-10px")),i(".comment-tags-container").html(o),this.totalCommentCount=t.totalCount||0,e.totalPage=Math.ceil(this.totalCommentCount/10),this.deletetoken=t.token||0,i("#comment-list").html(c.template(i("#comment-list-tpl").html(),{commentList:e.commentList.getCommentList()})),this._initPage(),this._initReplyList(),this._resetCommentNum()},_initPage:function(){var t=this,e=i("#pager")[0];this.pageIns?this.pageIns.show({total:t.totalPage,current:t.currentPage}):(this.pageIns=r({el:e,total:t.totalPage,displayNumber:8,current:1,onclick:function(e){t.toogleLoading("loading"),t.commentList.resetModels(e),t.currentPage=e}}),this.pageIns.show())},toogleReply:function(t){var e=i(t.target).parents("li.ct-item"),n=e.data("reply-id");e.hasClass("ct-reply-unfold")?this._toogleReply(e):this["replyList"+n].resetModels()},renderReplyList:function(t,e){var n=this,o=t.pid,r=i("#item-"+o),s=r.find(".reply-list");s.html(c.template(i("#reply-list-tpl").html(),{replyList:t.getCommentList()})),n._toogleReply(r),n["totalReplyCount"+o]=e.totalCount,n._resetReplyNum(o)},_toogleReply:function(t){function e(){t.addClass("ct-reply-unfold"),t.css("height","auto"),i.css({display:"block",height:0}),i.animate({height:o},"normal",function(){i.css("height","auto")})}function n(){t.removeClass("ct-reply-unfold"),i.animate({height:0},"normal",function(){i.css({display:"none",height:"auto"})})}var i=t.find(".reply-wrap"),o=i.height();t.hasClass("ct-reply-unfold")?n():e()},deleteAct:function(t){var e=this,n=i(t.target),r=n.parents("li.ct-item"),s=r.data("reply-id");if(n.hasClass("delete-reply-btn"))var a=n.parents("li.ry-item"),l=a.data("reply-id");var c=this.deletetoken||0;o.confirm({title:"\u63d0\u793a",content:"\u786e\u5b9a\u8981\u5220\u9664\u8be5\u8bc4\u8bba\u5417\uff1f",innerId:"comment-action-dlg",draggable:!1,width:390,height:215,onConfirmBefore:function(){if(l)e["replyList"+s].get(l).clear(c);else{e.commentList.get(s).clear(c);var t=i(".doc-comment-area");t.show(),t.find(".comment-star").removeClass("active"),t.find(".star-area").removeAttr("data-submit"),g.set("doc_hasCommented","no"),i(".added-comment").remove(),i(".go-add-comment").remove(),i(".stars-text").removeClass("nice"),i(".text-content").text("\u5f85\u8bc4\u4ef7");var n=['<a href="#doc-comment-area" class="go-add-comment log-xsend" data-logxsend="[1, 101345]">',"\u53bb\u8bc4\u4ef7","</a>"].join(n);i(".evaluate-title").after(),i("body").on("deleteDocComment",function(){e.refreshTag()})}}})},refreshTag:function(){var t=this;i.ajax({url:"/browse/interface/getcomment",type:"post",data:{parentid:0,docid:v.docId,pn:1},success:function(e){t.renderCommentList(e)}})},removeItem:function(t){var e=this,n=t.collection.pid,o=i("#item-"+t.id);o.parents(".reply-wrap").css("height","auto"),o.animate({height:0},"normal",function(){o.remove()}),n?(e["totalReplyCount"+n]--,e._resetReplyNum(n)):(this.totalCommentCount--,this._resetCommentNum())},_resetCommentNum:function(){var t=this.totalCommentCount,e=i(this.el).find(".no-comment"),n=i(this.el).find(".ct-num");t>0?(n.html("("+t+")"),e.hide()):(n.html(""),e.show())},_resetReplyNum:function(t){var e=this,n=i("#item-"+t),o=n.find(".reply-num"),r=e["totalReplyCount"+t];n.find(".ry-num").html(r),r>0?(o.show(),o.html("\u5171"+r+"\u6761\u56de\u590d")):o.hide()},toogleLoading:function(t){var e=i(this.el).find(".loading"),n=i("#comment-list");"loading"===t?(e.show(),n.hide()):(e.hide(),n.show())},highlightIpt:function(t){var e=i(t.target),n=this,o=this._getHighlightEl(e),r=o.hlEl,s=o.errorEl;r.addClass("hightlight-ipt"),s.hide(),a.verlogin(function(){a.check(function(){i(n.vcode.get("sel_captcha")).attr("src")||n.vcode.get_captcha()})})},cancelHighlightIpt:function(t){var e=i(t.target),n=this._getHighlightEl(e),o=n.hlEl;o.removeClass("hightlight-ipt")},_getHighlightEl:function(t){var e=t,n=null;return t.hasClass("post-comment-ipt")?(e=t.parents(".add-ct-wrap"),n=e.next(".tip")):n=e.parents(".reply-wrap").find(".error-tip"),{hlEl:e,errorEl:n}}});n.exports=C});
;define("wkview:widget/comment/comment_default/comment_default.js",function(e){var t=e("wkcommon:widget/ui/lib/jquery/jquery.js"),i=e("wkcommon:widget/lib/tangram/base/base.js"),n=e("wkview:widget/comment/js/view/commentApp.js"),s={init:function(){window.commentApp=new n,this.adjustResize(),i.lang.eventCenter.addEventListener("Reader.zoomChange",this.adjustResize),t(window).on("resize",t.proxy(this.adjustResize,this))},adjustResize:function(){var e=t("#doc-comment"),i=e.width();890>i?e.addClass("s-comment"):e.removeClass("s-comment")}};s.init()});
;define("wkview:widget/comment/comment_pay/comment_pay.js",function(e){var t=e("wkcommon:widget/lib/fis/data/data.js"),a=e("wkcommon:widget/ui/js_core/log/log.js");$(function(){"#doc-comment"===window.location.hash&&(setTimeout(function(){location.hash="#doc-comment-area"},1e3),$(".reader-top-message").hide());var e=[];$.ajax({url:"/xpage/form/getform?id=fufei_doc_tag&complete=1&no_preview=1",success:function(t){0===t.status.code&&(e=t.data.form_data&&t.data.form_data.starTag)}});var n=t.get("WkInfo")||{},o=n.DocInfo&&n.DocInfo.docId,s=$(".comment-star"),m=["\u5f88\u5dee","\u8f83\u5dee","\u8fd8\u884c","\u63a8\u8350","\u529b\u8350"];if(1===+n.DocInfo.isPayDocAndCommented){t.set("doc_hasCommented","1");var c=n.DocInfo.commentStar,i=$(".stars-text"),d=$(".text-content");$(s.slice(0,c)).addClass("active"),c>3?i.addClass("nice"):i.removeClass("nice"),d.text(m[c-1]),$(".doc-comment-area").hide()}s.on("mouseover",function(){if("1"!==t.get("doc_hasCommented")){var e=$(this).parent(),a=e.children(".comment-star"),n=e.siblings(".stars-text"),o=n.find(".text-content"),s=~~$(this).data("score")||1;if(a.removeClass("hover"),e.data("submit")&&"no"!==t.get("doc_hasCommented")){var c=$(".comment-star.active").length;c>s?$(a.slice(s,c)).addClass("hover"):$(a.slice(c,s)).addClass("hover")}else a.removeClass("active"),$(a.slice(0,s)).addClass("active"),s>3?n.addClass("nice"):n.removeClass("nice"),o.text(m[s-1])}}),s.on("mouseout",function(){if("1"!==t.get("doc_hasCommented")){var e=$(this).parent(),a=e.children(".comment-star");if(e.data("submit"))a.removeClass("hover");else{a.removeClass("active");var n=e.siblings(".stars-text"),o=n.find(".text-content");n.removeClass("nice"),o.text("\u5f85\u8bc4\u4ef7")}}}),s.on("click",function(){if("1"!==t.get("doc_hasCommented")){var a=$(this).parent(),n=~~$(this).data("score")||1,o=a.children(".comment-star"),s=a.siblings(".stars-text"),c=s.find(".text-content");n>3?s.addClass("nice"):s.removeClass("nice"),c.text(m[n-1]),o.removeClass("hover active"),$(o.slice(0,n)).addClass("active");for(var i=e[n],d="",r=0;r<i.length;r++)d+='<li class="comment-tag">'+i[r]+"</li>";a.parent().parent().find(".comment-tags-container").html(d),a.parent().find(".comment-tags-container").html(d),$(this).parent().parent().siblings(".doc-comment-tag, .comment-container, .doc-comment-submit").removeClass("hide-comment"),a.attr("data-submit",n),t.set("doc_hasCommented","2")}}),$(".doc-comment-area").on("click",".comment-tag",function(){$(this).toggleClass("active-tag"),$(this).parent().parent().siblings(".doc-comment-warn").addClass("hide-comment")});var r,l=$(".doc-comment-content");l.on("keyup change",function(){var e=this,t=$(this).val().length,a=$(this).parent().siblings(".doc-comment-warn");if($(this).siblings(".comment-surplus-num").text(240-t+"\u5b57"),t>240){a.find(".comment-warn-text").text("\u8bc4\u8bba\u5df2\u8d85\u8fc7240\u5b57\u9650\u5236\uff0c\u8bf7\u7cbe\u7b80"),a.removeClass("hide-comment");var n=0;r||(r=setInterval(function(){n++%2===0?($(e).addClass("blink"),$(e).parent().addClass("blink")):($(e).removeClass("blink"),$(e).parent().removeClass("blink")),n>=6&&(clearInterval(r),r=null)},220))}else a.addClass("hide-comment")});var v=$(".doc-comment-submit"),h=$(".comment-add-succ");v.on("click",function(){function e(e){var n,s={3:"\u4ed8\u8d39\u6587\u6863\u8d2d\u4e70\u540e\u53ef\u8bc4\u8bba\uff01",4:"\u8bc4\u8bba\u5df2\u8d85240\u5b57\u9650\u5236",6:"\u5bf9\u4e0d\u8d77\uff0c\u60a8\u662f\u53d7\u9650\u7528\u6237\uff08\u88ab\u5c01\u7981\u6216\u7528\u6237\u540d\u4e3a\u7a7a\uff09\uff0c\u65e0\u6cd5\u8bc4\u8bba",7:"\u4e0d\u80fd\u8bc4\u8bba\u81ea\u5df1\u7684\u6587\u6863",5:"\u8bc4\u8bba\u5185\u5bb9\u6d89\u5acc\u654f\u611f\u4fe1\u606f\uff0c\u8bf7\u4fee\u6539\u540e\u53d1\u5e03",40:"\u8bc4\u8bba\u5185\u5bb9\u6d89\u5acc\u654f\u611f\u4fe1\u606f\uff0c\u8bf7\u4fee\u6539\u540e\u53d1\u5e03",8:"\u8bc4\u8bba\u6b21\u6570\u5df2\u8d85\u9650\uff0c\u8bf7\u660e\u5929\u518d\u6765\u5427\uff0c\u8c22\u8c22\uff01",41:"\u8bc4\u8bba\u64cd\u4f5c\u8fc7\u4e8e\u9891\u7e41\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5\uff01",42:"\u4f11\u606f\u4e00\u4e0b\uff0c\u6bcf\u65e5\u9650\u91cf\u53d1\u5e03\u8bc4\u8bba\u54df\uff01",43:"\u8fd9\u7bc7\u6587\u6863\u60a8\u5df2\u8bc4\u4ef7\u8fc7\u76f8\u540c\u5185\u5bb9\u5566\uff01",50:"\u8bf7\u5148\u8fdb\u884c\u5b9e\u540d\u5236\u8ba4\u8bc1\u540e\u518d\u8bc4\u8bba\u54df\uff01",60:"\u5bf9\u4e0d\u8d77\uff0c\u4e0d\u80fd\u91cd\u590d\u8bc4\u8bba\uff01"};0===e?(a.xsend(1,101336,{docid:o}),hasCommented=!0,$(".doc-comment-area").hide(),$(".comment-star").removeClass("active"),$(".comment-tag").removeClass("active-tag"),$(".stars-text").removeClass("nice"),$(".text-content").text("\u5f85\u8bc4\u4ef7"),$(".doc-comment-content").val(""),$(t).siblings(".doc-comment-tag, .comment-container, .doc-comment-submit, .doc-comment-warn").addClass("hide-comment"),$(t).addClass("hide-comment"),$(".go-add-comment").remove(),$(".evaluate-title").after('<a href="#doc-comment-area" class="added-comment">\u5df2\u8bc4\u8bba</a>'),commentApp.refreshTag(),n="\u63d0\u4ea4\u6210\u529f\uff0c\u611f\u8c22\u60a8\u7684\u8bc4\u4ef7"):n=s[e]||"\u7cfb\u7edf\u9519\u8bef\uff01",h.text(n),h.fadeIn(100),setTimeout(function(){h.fadeOut(100)},2e3)}a.xsend(1,101349);var t=this,n=$(this).parent(),s=["\u5f88\u5dee","\u8f83\u5dee","\u8fd8\u884c","\u63a8\u8350","\u529b\u8350"],m=n.find(".comment-star.active").length,c=n.find(".comment-tag.active-tag"),i=[],d=n.find(".doc-comment-content").val();if(!(d.length>240)){for(var r=$(this).siblings(".doc-comment-warn"),l=0;l<c.length;l++)i.push($(c[l]).text());if(0===i.length&&""===$.trim(d))return r.find(".comment-warn-text").text("\u8bf7\u52fe\u9009\u6807\u7b7e\uff0c\u6216\u586b\u5199\u60a8\u7684\u770b\u6cd5"),void r.removeClass("hide-comment");""===$.trim(d)&&(d=s[m-1]),$("body").trigger("commentSuccess",{data:$(this)});var v={content:d,star:m,docid:o,comment_tags:i.join("_")};commentApp.createPayComment(v,e)}})})});
;define("wkview:widget/common_item/autofixed/autofixed.js",function(t,e,i){var o=t("wkcommon:widget/lib/tangram/base/base.js"),s=t("wkcommon:widget/ui/js_core/widget/widget.js").widget,n=t("wkcommon:widget/ui/lib/jquery/jquery.js"),l=s({Options:{el:""},_init:function(t){this.el=t.el,this.exTop=t.exTop||0,this.el&&(this.oldStyle={},this.status=0,this.wrapBodyEl=o.q("body")[0],this.guid=o.lang.guid(),this.getStyle(),this.agentNode=this.createAgentNode(),this.bindEvent())},bindEvent:function(){var t=this,e=o.event.on,i=o.lang.eventCenter;e(window,"scroll",function(){t.exTop>0&&(t.exTop=n(window).height()-270);var e=t.oldStyle.absolutePosition.top+-t.exTop+n(".brain-rec-root").height();if(t.oldStyle.absolutePosition&&o.page.getScrollTop()>e){t.status||(t.floatDom(),t.reposition());var i=o.page.getScrollLeft();if(o.page.getViewWidth()<o.page.getWidth()&&o.lang.isNumber(i)&&i>-1&&(!o.browser.ie||o.browser.ie>6)&&!o.browser.firefox){var s=+n(".body").css("margin-left"),l=+n(".reader-page").css("width"),d=s+l+35;o.dom.setStyle(t.el,"left",d)}}else t.status&&t.putback(!1)}),e(window,"resize",function(){t.reposition()}),i.addEventListener("Reader.zoomChange",function(){setTimeout(function(){t.reposition()},10)}),i.addEventListener("jigou.recomInit",function(){t.putback()}),i.addEventListener("OutFullScreen.after",function(){t.reposition()})},floatDom:function(){var t=o.browser.ie,e=this.el,i=this.agentNode.style,s=this.oldStyle,l=e.parentNode,d=o.dom.getPosition(l).top+65+this.exTop,r=35+this.exTop;void 0!==n(e).attr("data-fixed-top")&&(r=n(e).attr("data-fixed-top")),t&&7>t?(l.style.overflow="visible",document.documentElement.style.cssText+=";background : url(about:blank) fixed;",e.style.cssText+=[";position: absolute;","left: 0!important;","top: expression(documentElement.scrollTop - "+d+");","width: "+s.width+"px"].join(" ")):e.style.cssText+=";position : fixed; top : "+r+"px; width : "+s.width+"px; z-index:999",o.dom.addClass(e,"fixing-box"),i.display="block",i.width=s.width+"px",i.height=s.height+"px",this.status=1},putback:function(t){var e=this.el;o.dom.removeClass(e,"fixing-box"),e.style.position="static",this.agentNode.style.display="none",this.status=0,t&&this.getStyle()},getStyle:function(){var t=o.dom,e=this.oldStyle,i=this.el;return i.offsetWidth>0&&"fixed"!==n(i).css("position")&&(e.width=i.offsetWidth,e.height=i.offsetHeight,e.absolutePosition=t.getPosition(i)),e},createAgentNode:function(){var t=o.dom,e="tm-placeholder-"+this.guid,i=o.g(e);return i||(i=document.createElement("div"),i.id=e,t.insertBefore(i,this.el)),i.style.display="none",i},reposition:function(){var t=this;if(o.browser.ie&&o.browser.ie<7)return!1;var e=o.dom.getPosition(this.agentNode).left;if(e&&(this.el.style.left=e-1-o.page.getScrollLeft()+"px"),t.oldStyle.absolutePosition&&o.page.getScrollTop()>t.oldStyle.absolutePosition.top&&t.exTop>0){var i=o.browser.ie,s=this.el,l=this.oldStyle,d=s.parentNode;t.exTop=n(window).height()-270;var r=o.dom.getPosition(d).top+65+t.exTop,a=35+t.exTop;i&&7>i?(s.style.cssText+=";position : absolute;left:0!important;",s.style.cssText+="top : expression(documentElement.scrollTop - "+r+");",s.style.cssText+="width : "+l.width+"px"):s.style.cssText+=[";position: fixed;","top : "+a+"px;","width : "+l.width+"px;","z-index:999"].join(" ")}}});i.exports.autofixed=l});
;define("wkview:widget/common_item/anti/anti.js",function(n,e,s){var p={run:function(n,e){var s=['<span class="'+e+'">',"\u6765\u81ea","</span>"].join(""),p=['<span class="'+e+'">',"\u767e\u5ea6","</span>"].join(""),a=['<span class="'+e+'">',"\u6587\u5e93","</span>"].join(""),i=$('<style type="text/css"></style>');i.append(["."+e,"{display: none; font-size: 12px;}"].join("")),n.prepend(i),n.prepend(s),$(n.children()[2]).after(p),n.append(a)}};s.exports=p});
;define("wkview:widget/common_item/cloudSync/cloudSync.js",function(e,o,i){var t=e("wkcommon:widget/lib/fis/data/data.js"),n=e("wkcommon:widget/ui/lib/store/store.js"),r=function(){};r.prototype={constructor:r,run:function(){var e=t.get("WkInfo"),o=e.PageInfo.isLogin;if(o){var i=T.cookie.get("wk_user_view");i&&T.cookie.set("wk_user_view","",{path:"/",expires:36e5});var r=(new Date).getTime(),s=e.DocInfo.title,a=e.DocInfo.docId,c=e.DocInfo.docType,u=c+":"+a+":"+s+":"+r,f=n.get("wk_user_view")+"",d=n.get("wk_user_view");if(d=d?d.split("###"):[],-1!==f.indexOf(a)||-1!==f.indexOf("undefined"))for(var w=0;w<d.length;w++)if(-1!==(d[w]+"").indexOf(a)||-1!==(d[w]+"").indexOf("undefined")){d.splice(w,1);break}d.push(u),d.length>12&&d.shift(),n.set("wk_user_view",d.join("###"));var l=n.get("wk_user_view_uploaded");if(!l){n.set("wk_user_view_uploaded",1);var g={};for(w=0;w<d.length;w++){var _=d[w].split(":");4===_.length&&(g[_[1]]=_[3].substring(0,10))}$.ajax({url:"/user/interface/jiaoyusession",type:"GET",data:{source:"pc",action:"set",mark:JSON.stringify(g)},timeout:5e3,error:function(){console.log("\u8bf7\u6c42\u51fa\u9519(\u8bf7\u68c0\u67e5\u76f8\u5173\u5ea6\u7f51\u7edc\u72b6\u51b5.)")}})}a=e.DocInfo.docId,r=Math.floor((new Date).getTime()/1e3),$.ajax({url:"/user/interface/jiaoyusession",type:"GET",data:{source:"pc",action:"set",mark:'{"'+a+'":'+r+"}"},timeout:5e3,error:function(){console.log("\u8bf7\u6c42\u51fa\u9519(\u8bf7\u68c0\u67e5\u76f8\u5173\u5ea6\u7f51\u7edc\u72b6\u51b5.)")}})}}},i.exports=new r});
;define("wkview:widget/common_item/commonUtil/commonUtil.js",function(e,i,o){var a={TICKET:20,TICKET_VIP_FREE:40,PAY_NORMAL:50,PAY_DISCOUNT:60,PAY_PACK:70,PROFESSIONAL:80,CUSTOM:90,PARTNER_NORMAL:100},s=function(e){var i;if(e=e||{},e.hangyebaogao_customized)i=a.CUSTOM;else if(1===+e.professionalDoc)i=a.PROFESSIONAL;else if(e.isPaymentDoc)if(1===+e.isPartnerDoc)i=a.PARTNER_NORMAL;else{var o=+((e.payPrice||0)/100).toFixed(2),s=e.is_discount_doc;i=5>=o?a.PAY_PACK:s?a.PAY_DISCOUNT:a.PAY_NORMAL}else i=e.isVipFreeDoc?a.TICKET_VIP_FREE:a.TICKET;return i},_={NOT_LOGIN:10,LOGIN_NOT_VIP:20,VIP_JIAOYU:30,VIP_WENKU:40,VIP_CLASSIC:50,VIP_WENKUEDU:60},t=function(e){var i;return e=e||{},i=e.isLogin?e.isJiaoyuVip?_.VIP_JIAOYU:e.isWenkuVip?_.VIP_WENKU:e.isClassicVip?_.VIP_CLASSIC:e.isWenkuEduVip?_.VIP_WENKUEDU:_.LOGIN_NOT_VIP:_.NOT_LOGIN},n=function(e,i,o){var a=o||{};a.cashier_code=i,a.dqStatCode=i;var s;s=e.indexOf("?")>-1?e+"&"+$.param(a):e+"?"+$.param(a),window.location.href=s},r=function(e){e=e||{};var i=e.isdownloaded||0,o=e.isPaymentDoc||0,a=e.isInRoomButDeletedByCreater||!1,s=!!(o&&!i||a);return s};o.exports.DOC_VALUE_TYPE=a,o.exports.calcualteDocValueType=s,o.exports.USER_TYPE=_,o.exports.calculateUserType=t,o.exports.gotoCashier=n,o.exports.isDownloadDisabled=r});
;define("wkview:widget/common_item/endPageFcShow/endPageFcShow.js",function(n,a,e){var i=n("wkcommon:widget/ui/lib/jquery/jquery.js"),t=n("wkcommon:widget/ui/js_core/log/log.js"),c=n("wkcommon:widget/lib/doT/doT.min.js"),d=n("wkcommon:widget/lib/fis/data/data.js"),o=d.get("WkInfo")||{},r=(o&&o.DocInfo,o&&o.WkAdInfo),s=n("wkcommon:widget/ui/js_core/log/xshowLog.js"),p=function(){r&&r.blockStatus&&(i(".fc-container").hide(),i(".wkfc-wrap").hide())},w=function(){i(window).on("docloadFCData",function(n,a){var e=!1,c=a.callback,d=a.readFc,o=a.fcEid,r=['<div class="fc-wrap fc-wrap-real-container title-con-fc">','<div class="relate-title"><p class="content">__CONTENT__</p></div>','<div class="fc-inner">__FCINNER__</div>',"</div>"].join(""),w="<script>"+d.ad_place_js+"</script>",l=d.keyword?"\u66f4\u591a"+d.keyword.substr(0,35)+"\u76f8\u5173\u5185\u5bb9":"";r=r.replace("__CONTENT__",l).replace("__FCINNER__",d.ad_place_data);var f=i(".fc-container");f.html(r+w),f.length>0&&(e=!0),f.show();var v=f.parent(".more-btn-banner");v.height("auto"),l.length<=0&&f.find(".content").hide();var h=i(".pay-page-inner").find(".doc-end-report-title").length;if(!h){if(!i(".wkfc-wrap").length){var _='<div class="wkfc-wrap ad-onff"><div class="hengxian"></div>'+r+"</div>";i(".doc-bottom-wrap").append(e?_:_+w)}l.length<=0&&i(".wkfc-wrap .content").hide(),i(".wkfc-wrap").show(),s.send({adPid:1,adId:"fc",act:"show"})}h&&t.xsend(1,101568,{index:6}),c&&c(i(".fc-container")),c&&c(i(".new-fc-container")),c&&c(i(".pay-page-inner")),i.event.trigger("fc:monitorPv",{type:"realShowPv",position:"read",el:i(".reader-container"),fcEid:o}),p(),t.xsend(1,102097,{index:1}),i(".fc-wrap-real-container").on("click",function(){s.send({adPid:1,adId:"fc",act:"click"})})}),i(window).on("docloadOwnData",function(n,a){var e=['<div class="fc-wrap">','<div class="relate-title"><p class="content">__CONTENT__</p></div>','<div class="fc-inner">','<div class="own-ad"><div class="own-ad-top own-ad-block"><a class="own-ad-link" href="',a.ad_place_data.url,'" target="_blank">',a.ad_place_data.text,'</a><span class="own-ad-tip">\u5e7f\u544a</span></div>','<div class="own-ad-bottom own-ad-block"><a class="own-ad-button" href="',a.ad_place_data.url,'" target="_blank">\u67e5\u770b\u8be6\u60c5</a></div></div>',"</div>","</div>"].join(""),c=a.keyword?"\u66f4\u591a"+a.keyword.substr(0,35)+"\u76f8\u5173\u5185\u5bb9":"";e=e.replace("__CONTENT__",c),i(".fc-container").html(e),i(".fc-container").show().on("click",".own-ad-link",function(){t.xsend(1,101093,{index:1})}).on("click",".own-ad-button",function(){t.xsend(1,101093,{index:2})}),t.xsend(1,101100,{index:2});var d=i(".fc-container").parent(".more-btn-banner");d.height("auto"),c.length<=0&&i(".fc-container .content").hide();var o=i(".pay-page-inner").find(".doc-end-report-title").length;if(!o){var r='<div class="wkfc-wrap ad-onff">'+e+"</div>";i(".pay-page-inner").append(r);{i(".pay-page-inner").parent(".bd")}i(".wkfc-wrap").show().on("click",".own-ad-link",function(){t.xsend(1,101093,{index:1})}).on("click",".own-ad-button",function(){t.xsend(1,101093,{index:2})}),t.xsend(1,101100,{index:1})}p(),t.xsend(1,102097,{index:2})}),i(window).on("docloadWmData",function(){var n='{{? it.name == \'zheye\'}}\n<div class="wm-end-container">\n<div id="cpro_u3113367" class="new-wm"></div>\n<script type="text/javascript">\n    (window.cproArray = window.cproArray || []).push({\n        id: "u3113367"\n    });\n</script>\n<script src="https://cpro.baidustatic.com/cpro/ui/c.js" type="text/javascript"></script>\n</div>\n{{?? it.name == \'end\'}}\n<div class="wm-end-container" style="margin: 0 auto;">\n<div id="cpro_u3113368" class="new-wm"></div>\n<script type="text/javascript">\n    (window.cproArray = window.cproArray || []).push({\n        id: "u3113368"\n    });\n</script>\n<script src="https://cpro.baidustatic.com/cpro/ui/c.js" type="text/javascript"></script>\n</div>\n{{?}}';n=c.template(n),s.send({adPid:1,adId:"wm",act:"back"}),i(".pay-page-inner").after(n({name:"end"})),s.send({adPid:1,adId:"wm",act:"show"}),i(".fc-container").html(n({name:"zheye"})).show();var a=i(".fc-container").parent(".more-btn-banner");a.height("auto"),a.height("auto"),p(),t.xsend(1,102097,{index:3})})};e.exports.endPageFcShow=w});
;define("wkview:widget/common_item/relativeVideos/index.js",function(e,o,t){function i(e){e=e||{};var o=n.ieVersion();o>0&&11>o||(this.pageData=e,this.createVue().bindEvent())}{var a=e("wkcommon:widget/node_modules/vue/dist/vue.js"),r=e("wkview:widget/node_modules/@baidu/el-visible/index.js"),d=e("wkcommon:widget/ui/js_core/log/log.js"),n=e("wkcommon:widget/ui/lib/browser/browser.js");e("wkcommon:widget/lib/tangram/base/base.js")}i.prototype={constructor:i,createVue:function(){return this.vm=new a({el:"#relative-videos-wrap",data:{relativeVideos:[],pageData:this.pageData,smallFlow:2,outExpId:""},created:function(){var e=this,o=$.ajax({url:"/rec/interface/getreccourses",data:{docId:this.pageData.docId}}),t=$.ajax({url:"/xpage/form/getform",data:{id:"2019_video_docview_conf"}});$.when(o,t).done(function(o,t){var i=o[0]||{},a=t[0]||{},r=i.status||{},n=i.data||{},s=a.status||{},c=(a.data||{}).form_data||{};if(!s||0!==s.code||!(0===+c.opened||c.docIdblackList&&c.docIdblackList.indexOf(e.pageData.docId)>=0)){if(r&&0===r.code){var l=n.videos||[];0===l.length&&d.xsend(1,102498,{}),l.length>=3&&(e.relativeVideos=l.slice(0,4));try{e.outExpId=n.expData[0].expId}catch(u){e.outExpId=""}d.xsend(1,102492,{outExpId:e.outExpId,recFrom:"pc_oldview_lesson"})}e.relativeVideos=e.relativeVideos.map(function(o){var t=o.viewCount;return o.viewCount=e.handleViewCount(t),"1"===o.flag&&(o.price=e.handlePrice(o.price),o.oriPrice=e.handlePrice(o.oriPrice)),o})}})},watch:{visible:function(e){e&&d.xsend(1,102376,{page:"view",course_abtest:this.smallFlow})}},computed:{visible:function(){return this.relativeVideos&&this.relativeVideos.length}},methods:{durationFormat:function(e){if(0===+e)return"";var o,t=Math.floor(e/3600),i=Math.floor((e-3600*t)/60),a=e-3600*t-60*i;return 10>i&&(i="0"+i),10>a&&(a="0"+a),o=t>0?[t,i,a].join(":"):[i,a].join(":")},gotoVideo:function(e,o){var t;try{t=e.expParam}catch(i){}d.xsend(1,102116,{index:o,course_abtest:this.smallFlow,expName:t&&t.expName,expId:t&&t.expId,expSourceType:t&&t.expSourceType,expSourceStrId:t&&t.expSourceStrId,recFrom:"pc_oldview_lesson",outExpId:this.outExpId,index:o});var a=this.addTagUrl(e,o);window.location.href=a},handleViewCount:function(e){var o=/\.0$/,t=+e;return t>=1e8?(t=(t/1e8).toFixed(1),t=t.replace(o,"")+"\u4ebf"):t>9999&&1e8>t&&(t=(t/1e4).toFixed(1),t=t.replace(o,"")+"w"),t},handlePrice:function(e){var o=/(\.00|0)$/,t=+e;return t=(t/100).toFixed(2).replace(o,"")},gotoOrgPage:function(e){window.location.href=e},addTagUrl:function(e,o){var t=e.url,i=e.expParam,a="&fr=pc_oldview_lesson-"+this.outExpId+"-"+o;if(i){var r=i&&i.expName,d=i&&i.expId,n=i&&i.expSourceType,s=i&&i.expSourceStrId;a+="-"+r+"-"+d+"-"+n+"-"+s}var c="?frview="+this.smallFlow;return t=t+c+a}}}),this},bindEvent:function(){var e=this;r.onElsVisible(".videos-wrap .item-video",function(){var o=$(this);d.xsend(1,102115,{index:o.index()+1});var t=o.data("logged")?1:0,i=o.data("courseId"),a=o.data("videoId"),r=o.data("flag");d.xsend(1,102377,{page:"view",position:"rec",videoProducer:"wenku",videoType:"short",repeat:t,courseId:i,videoId:a,isFree:1===+r?0:1,course_abtest:e.vm.smallFlow}),!t&&o.data("logged",1)})}},t.exports=i});
;define("wkview:widget/common_item/serviceEntry/index.js",function(e,n,t){var i=e("wkcommon:widget/ui/lib/jquery/jquery.js"),o=e("wkcommon:widget/ui/js_core/log/log.js"),r=e("wkcommon:widget/lib/doT/doT.min.js"),c=i(".service-entry"),s=function(e){i.extend(!0,this.docInfo,e),this.fetchData(i.proxy(this.render,this)).bindEvent()};s.prototype={constructor:s,data:{promoteData:{}},docInfo:{newCid1:""},bindEvent:function(){var e=this;return c.on("click",".service-entry-content",function(){var n=e.data.promoteData.jumpUrl;o.xsend(1,101808),window.open(n)}),this},fetchData:function(e){var n=this;return i.eduAjax({url:"/browse/api/newcustomservicerec",data:{newCid1:this.docInfo.newCid1},bizSuccess:function(t){i.extend(n.data,t),i.isFunction(e)&&e(t)}}),this},render:function(e){o.xsend(1,101807);var n='<div class="service-entry-content">\n<div class="service-entry-man"\n        style="background-image: url({{=it.promoteData.imgUrl}})"\n    ></div>\n</div>',t=r.template(n)(e);return c.html(t).css({display:"inline-block"}),this}},t.exports=s});
;define("wkview:widget/common_item/serviceEntry/download.js",function(e,t,n){var r=e("wkview:widget/common_item/serviceEntry/index.js"),i=function(e){$.extend(!0,this.docInfo,e),this.fetchData($.proxy(this.render,this)).bindEvent()};i.prototype=$.extend(!0,{},r.prototype,{render:function(e){(1===+e.rec_type||2===+e.rec_type||3===+e.rec_type||4===+e.rec_type)&&(r.prototype.render.apply(this,arguments),$(".join-vip").addClass("has-service-entry"))}}),n.exports=i});
;define("wkview:widget/common_item/setting/setting.js",function(e,t,i){var n=(e("wkcommon:widget/lib/tangram/base/base.js"),e("wkcommon:widget/ui/js_core/util/util.js"),{currentZoomLevel:1,currentPage:1,zoomLevel:1,isFullScreen:!1});i.exports.setting=n});
;define("wkview:widget/common_item/someLog/someLog.js",function(e,o,t){var n=e("wkcommon:widget/ui/js_core/log/log.js"),i=e("wkcommon:widget/lib/fis/data/data.js"),a=e("wkview:widget/common_item/setting/setting.js"),c=i.get("WkInfo")||{},d=c.DocInfo||{},r=function(){};r.prototype={constructor:r,run:function(){this.bindEvent(),n.xsend(1,100604),n.send("view","viewload",{cid1:d.cid1,cid2:d.cid2,cid3:d.cid3,cid4:d.cid4,doctype:d.docType,copyright:c.PageInfo.copyright,relatedoc:d.relateDoc,otherlikedoc:d.otherLikeDoc,relatealblum:d.relateAlblum,sameseriesdoc:d.sameSeriesDoc,flag:d.flag,ply:d.readerType,action:"pc_pv"});var e=+c.DocInfo.hangyebaogao_customized,o=c.DocInfo.org_engName;1===+e&&(n.xsend(1,100764),"chinairr"===o?n.xsend(1,100793):"ibaogao"===o&&n.xsend(1,100794))},bindEvent:function(){$(window).bind("beforeunload",function(){var e=a.setting.currentPage||1,o={docId:d.docId,totalPageNum:d.totalPageNum,docFlag:d.flag,currentPage:e,duration:(new Date).getTime()-PLAYER_LOAD_START,docType:d.docType,player:d.player};n.xsend(1,100038,o);for(var t=(new Date).getTime();(new Date).getTime()-t<200;);}),$(".nav-wrap").delegate("a","mousedown",function(){n.xsend(1,100023,{href:encodeURIComponent($(this).attr("href"))})})}},t.exports=new r});
;define("wkview:widget/common_item/todoAction/todoAction.js",function(o,e,i){var t=o("wkcommon:widget/lib/tangram/base/base.js"),n=o("wkcommon:widget/lib/fis/data/data.js"),a=o("wkview:widget/ui/view/down_doc/down_doc.js"),d=o("wkcommon:widget/ui/js_core/login/login.js"),c=o("wkview:widget/doc_download_main/doc_download_main.js"),r=n.get("WkInfo")||{},w=r.DocInfo||{},s=function(){};s.prototype={constructor:s,run:function(){var o=d.login,e=w.docId||"";if(t.cookie.get("BAIDU_DOC_NACT"+e)){if(!t.g("login")){var i=t.cookie.get("BAIDU_DOC_NACT"+e);switch(i){case"download":if(r.UserInfo.isLimit)o.notifyToVerificationMail();else{var n=a.downDocCreate();n.start()}break;case"upload":location.href="/new?fr=login";break;case"cashier":w.vip_type&&0!==w.vip_type||0!==w.edu_vip_type||0!==w.jiaoyu_vip_type||(location.href="/cashier/browse/dispatch?doc_id="+r.DocInfo.docId+"&dqStatCode=31_8_171_174")}}t.cookie.remove("BAIDU_DOC_NACT"+e)}var s=t.url.getQueryValue(location.href,"docTypeConvert");s&&(window.dataFormatConvert?window.dataFormatConvert.docTypeConvert=s:window.dataFormatConvert={docTypeConvert:+s,docTypeOrigin:1});var _=location.search;_.indexOf("isbtn")>-1&&c.goSpecialDownload(r)}},i.exports=new s});
;define("wkview:widget/common_item/topMessage/topMessage.js",function(e,t,n){var i=e("wkcommon:widget/lib/tangram/base/base.js"),s=e("wkcommon:widget/ui/js_core/widget/widget.js").widget,o=e("wkcommon:widget/ui/js_core/util/util.js"),r=e("wkview:widget/common_toc_toolbar/config.js").config,a=e("wkview:widget/common_item/setting/setting.js").setting,l=(e("wkcommon:widget/lib/fis/data/data.js"),0);topMessage=s({Options:{toolsBar:"",readerContainer:""},_init:function(){var e=this;e.el=o.createDom('<div class="reader-top-message"><a class="reader-top-message-click" href="###"><b class="ic"></b>\u60a8\u4e0a\u4e00\u6b21\u9605\u8bfb\u5230\u6b64\u9875\uff0c\u70b9\u51fb\u8fd9\u91cc\u8fd4\u56de\u7b2c\u4e00\u9875</a><a href="###" class="ic reader-top-message-close"></a></div>'),e.closeEl=i.dom.q("reader-top-message-close",e.el,"a")[0],e.bindEvent(),e.render(),e.setPosition()},bindEvent:function(){var e=this;i.event.on(e.el,"mouseenter",i.fn.bind(e.timerClear,e)),i.event.on(e.el,"mouseleave",i.fn.bind(e.timerStart,e)),i.lang.eventCenter.addEventListener("Reader.fullScreenResize",i.fn.bind(e.resize,e),"topMessage.resize"),i.lang.eventCenter.addEventListener("Reader.zoomChange",i.fn.bind(e.resize,e),"topMessage.resize"),i.lang.eventCenter.addEventListener("Reader.WindowResize",i.fn.bind(e.resize,e),"topMessage.resize"),i.lang.eventCenter.addEventListener("InFullScreen.after",i.fn.bind(e.resize,e),"topMessage.resize"),i.lang.eventCenter.addEventListener("OutFullScreen.after",i.fn.bind(e.hide,e),"topMessage.hide"),i.lang.eventCenter.addEventListener("Reader.scroll",i.fn.bind(e.setPosition,e),"topMessage.setPosition"),i.event.on(e.el,"click",function(t){i.event.preventDefault(t),e.timerClear(),e.hide(),e.readerContainer.gotoPage(1)}),i.event.on(e.closeEl,"click",function(t){i.event.stop(t),e.hide()})},render:function(){var e=this;e.toolsBar.el.appendChild(e.el),e.setPosition(),e.resize(),e.show(),e.timerStart()},resize:function(){var e=this;a.isFullScreen?e._resizeInFullScreen():e._resizeInWindow(),e.setPosition()},_resizeInWindow:function(){var e=this,t=e.readerContainer.el.offsetWidth,n=r.pageDefaultWidth,i=t;t=n>t?n:t,e.el.style.width=i+"px"},_resizeInFullScreen:function(){var e=this,t=i.page.getViewWidth(),n=t>300?t-2+"px":"100%";e.el.style.width=n},setPosition:function(){var e=this,t=(i.dom.getPosition(e.el).top,i.page.getScrollTop()),n=e.readerContainer.pageList[0],s=i.dom.getPosition(n).top,o=i.dom.getPosition(e.toolsBar.el).top,r=i.page.getViewHeight(),a=e.toolsBar.el.offsetHeight,l=0;l=s>=t?o-s+1:r-a-43,e.el.style.top="-"+(l+"px")},timerStart:function(){var e=this;l=setTimeout(i.fn.bind(e.hide,e),1e4)},timerClear:function(){l?clearTimeout(l):!1},hide:function(){var e=this;i.dom.hide(e.el),e.dispose()},show:function(){var e=this;i.dom.show(e.el)},dispose:function(){var e=this;i.event.un(e.el,"mouseenter"),i.event.un(e.el,"mouseleave"),i.lang.eventCenter.removeEventListener("Reader.fullScreenResize","topMessage.resize"),i.lang.eventCenter.removeEventListener("Reader.WindowResize","topMessage.resize"),i.lang.eventCenter.removeEventListener("InFullScreen.after","topMessage.resize"),i.lang.eventCenter.removeEventListener("OutFullScreen.after","topMessage.hide"),i.lang.eventCenter.removeEventListener("Reader.scroll","topMessage.setPosition"),i.event.un(e.el,"click")}}),n.exports.topMessage=topMessage});
;define("wkview:widget/doc_header_new/doc_header_qrcode.js",function(e,d,o){var i=e("wkcommon:widget/ui/lib/jquery/jquery.js"),s=e("wkview:widget/node_modules/davidshimjs-qrcodejs/qrcode.js"),r=e("wkcommon:widget/ui/js_core/log/log.js"),t=e("wkview:widget/node_modules/@baidu/el-visible/index.js"),c={init:function(e){var d="https://wk.baidu.com/topic/nadownload?refer=1020999h&deeplink=1&docid="+e;i("#doc-header-test .doc-value").css("overflow","visible");var o=this;o.addQrcode(d).log()},addQrcode:function(e){var d=['<div class="qrHover">&nbsp;&nbsp;&nbsp;','<div class="wrap">','<div class="qrcode"></div>','<div class="qr-title">',"\u9a6c\u4e0a\u626b\u4e00\u626b",'<div class="qr-text">',"\u624b\u673a\u6253\u5f00<br>\u968f\u65f6\u67e5\u770b","</div>","</div>","</div>",'<span class="guide-to-app iconfont">',"&#xe621;",'<span style="font-size:12px;color:#666;">',"\u624b\u673a\u6253\u5f00","</span>","</span>","</div>"].join("");return i("#doc-header-test .doc-value").append(d),this.qrcode=new s(i("#doc-header-test .doc-value .wrap .qrcode")[0],{text:e,width:90,height:90,correctLevel:s.CorrectLevel.L}),this},log:function(){t.onElsVisible(".doc-header .guide-to-app",function(){r.xsend(101787)}),i(".doc-header .qrHover .guide-to-app").mouseenter(function(){r.xsend(1,101211)})}};o.exports=c});
;define("wkview:widget/doc_header_new/tags_mask/tags_mask.js",function(s,e,i){function t(s){var e=new RegExp("(^|&)"+s+"=([^&]*)(&|$)"),i=window.location.search.substr(1).match(e);return null!=i?unescape(i[2]):null}var a=s("wkcommon:widget/ui/lib/cookie/cookie.js"),o=s("wkview:widget/ui/view/small_flow_vipcashier/smallflow_vip_conf.js"),n=s("wkview:widget/ui/view/small_flow_vipcashier/smallFlow.js"),w="tag_view_group"===n(o),d={run:function(){if(w||1===+t("_tags_mask_")){var s=a.get("tagsMaskShow");if(!w||1!==+s||1===+t("_tags_mask_")){a.set("tagsMaskShow",1,{expires:2592e3});var e=$(".tag-tips").width();$(".tags-guide").css({marginLeft:e-25}).show(),$(".tags-guide-wrap").show();var i=$("#doc-header-test"),o=i.css("zIndex");i.data({zIndex:o}).css({zIndex:12e3}),window.scrollTo(0,0),$("html").css({overflow:"hidden",position:"fixed"}),this.bindEvent()}}},bindEvent:function(){var s=$("#doc-header-test");s.on("click",".tag-tips a, .btn-know",function(){$(".tags-guide-wrap").hide(),s.css({zIndex:s.data("zIndex")}),$("html").css({overflow:"visible",position:"static"})})}};i.exports=d});
;define("wkview:widget/doc_header_new/index.js",function(e,n,o){var i=e("wkcommon:widget/lib/tangram/base/base.js"),t=e("wkcommon:widget/ui/js_core/log/log.js"),a=e("wkcommon:widget/ui/lib/jquery/jquery.js"),s=e("wkcommon:widget/ui/js_core/login/login.js"),c=e("wkcommon:widget/lib/fis/data/data.js"),r=e("wkview:widget/doc_header_new/doc_header_qrcode.js"),d=e("wkcommon:widget/ui/lib/string/string.js");e("wkview:widget/ui/view/doc_report/doc_report.js");var l=c.get("WkInfo")||{},u=e("wkview:widget/doc_claim/doc_claim.js"),w=e("wkview:widget/doc_header_new/tags_mask/tags_mask.js"),g=function(e){a.extend(!0,this.ops,e),this.run()};g.prototype={constructor:g,ops:{id:0,readerType:"html",copyright:""},run:function(){var e=this.ops;1===e.hasAnyTagShowedInView&&w.run(),"org"===e.veritype&&a(function(){var n=e.oid,o="/org/interface/getorgcount?oid="+n;try{a.getJSON(o,function(e){if(0===e.errno){var n=e.data,o=n.doc_count,i=n.view_count,t=(1*n.score).toFixed(1);a(".doc-count").html(o),a(".view-count").html(i),a(".owner-score").html(t)}})}catch(i){console.error(i)}}),a(window).load(function(){i.lang.eventCenter.dispatchEvent("tagShowLog",{data:e.tagArr,lodActId:101030,index:7})}),r.init(c.get("WkInfo").DocInfo.docId);var n=a(".top-ads-banner .top-ads-banner-goto-cashier"),o=c.get("WkInfo").PageInfo.isLogin,g=c.get("WkInfo").DocInfo.docId,p=a("#top-ads-banner-icon");p.on("click",function(){i.lang.eventCenter.addEventListener("Login.Success",function(e){i.event.stop(e),window.location.href="/cashier/browse/vipcashier?cashier_code=wkview_SepEduDocFree_right0_20150914&from_doc="+g}),s.login.verlogin(function(){window.location.href="/cashier/browse/vipcashier?cashier_code=wkview_SepEduDocFree_right0_20150914&from_doc="+g},null,null,null,!1)}),n.on("click",function(){i.lang.eventCenter.addEventListener("Login.Success",function(e){i.event.stop(e),window.location.href="/cashier/browse/dispatch?dqStatCode=31_8_9_10&from_doc="+g}),o||t.xsend(1,100350),~~l.DocInfo.is_exam_link&&t.xsend(1,100717),s.login.verlogin(function(){t.xsend(1,100350),window.location.href="/cashier/browse/dispatch?dqStatCode=31_8_9_10&from_doc="+g},null,null,null,!1)});var h=a(".ugc-test-user");h.on("click",function(){t.xsend(1,100506)}),i.lang.eventCenter.addEventListener("docCount.response",function(n){var o,i=[],t='<b class="ic ic-star-s-on"></b>',s="on",c=n.data;if(c&&0===+c.status){var r=l.DocInfo,d=parseInt(r.flag,10);if(c.qualityScore||c.float_valueAverage){o=c.qualityScore?Number(c.qualityScore).toFixed(1):(c.float_valueAverage/2).toFixed(1);var u=o;if(19===+d){i.push('<span title="'+o+"\u5206\uff0c"+c.valueCount+'\u4eba\u8bc4">\u8d28\u91cf\uff1a');for(var w=0;5>w;w++)1>o&&(s=0>=o?"off":"half"),o--,i.push(t.replace("on",s));i.push("</span>"),i.push(u&&+u>=4?'<span class="high-quality">'+u+"</span>\u5206":'<span class="normal-quality">'+u+"</span>\u5206")}else i.push('<b class="bannerScore"></b>'),u&&u>=4&&c.percentage?(i.push('<span class="high-quality">'+u+"\u5206</span>"),i.push('<span>(\u9ad8\u4e8e<span class="high-quality">'+c.percentage+"</span>%\u7684\u6587\u6863)</span>")):u&&u>=2&&c.percentage?(i.push('<span class="normal-quality">'+u+"\u5206</span>"),i.push('<span>(\u9ad8\u4e8e<span class="high-quality">'+c.percentage+"</span>%\u7684\u6587\u6863)</span>")):i.push('<span class="normal-quality">'+u+"\u5206</span>")}else i.push("\u6682\u65e0\u8bc4\u4ef7");i.push("<i>|</i>"),i.push('<span class="ic ic-read-num"></span>'+c.viewCount+"<i>|</i>"),i.push('<span class="ic ic-down-num"></span>'+c.downloadCount),window.viewCount=c.viewCount||0,window.downloadCount=c.downloadCount||0,a("#doc-info-"+e.id).html(i.join(""))}}),function(){var e=a(".owner-desc-wrap"),n=a(".owner-desc-label"),o=e.find(".ic-pointer"),t=e.find(".doc-desc"),s=function(){if(e.length&&o.length){var i=n.position().left;0!==+i&&i+50<=e.width()?o.css("left",i+50).show():o.hide()}};n.length&&n.delegate(".ic-arrow-up","click",function(){t.slideUp(),a(this).removeClass("ic-arrow-up").addClass("ic-arrow-down")}).delegate(".ic-arrow-down","click",function(){a(".doc-desc-wrap").css("display","none"),a(".doc-desc-label").find(".ic-arrow-up").trigger("click"),e.css("display","block"),s(),t.slideDown(),a(this).removeClass("ic-arrow-down").addClass("ic-arrow-up")}),a(".owner-desc-label .ic-arrow-down").trigger("click"),i.lang.eventCenter.addEventListener("Reader.zoomChange",function(){var n=a(".reader-container").width();a("#doc-main").css("width",n>744?n:744),e.length&&(e.css("width",n),s())})}(),function(){var e=a(".doc-desc-wrap"),n=a(".doc-desc-label"),o=e.find(".ic-pointer"),s=e.find(".doc-desc"),c=function(){if(e.length&&o.length){var i=n.position().left;0!==i&&i+40<=e.width()?o.css("left",i+40).show():o.hide()}};n.length&&n.delegate(".ic-arrow-up","click",function(){t.xsend(1,100596),s.slideUp(),a(this).removeClass("ic-arrow-up").addClass("ic-arrow-down")}).delegate(".ic-arrow-down","click",function(){t.xsend(1,100596),a(".owner-desc-wrap").css("display","none"),a(".owner-desc-label").find(".ic-arrow-up").trigger("click"),e.css("display","block"),c(),s.slideDown(),a(this).removeClass("ic-arrow-down").addClass("ic-arrow-up")}),i.lang.eventCenter.addEventListener("Reader.zoomChange",function(){var n=a(".reader-container").width();a("#doc-main").css("width",n>744?n:744),e.length&&(e.css("width",n),c(),817>=n?a(".org-guide").length&&a(".org-guide").addClass("hide"):a(".org-guide").length&&a(".org-guide").removeClass("hide"))})}(),i.dom.ready(function(){var n=a("#doc-tittle-"+e.id),o=a("#docDescWrap-"+e.id),t=a("#docDesc-"+e.id),s=null,c=function(){var e=t.height();o.hasClass("unfold")||(e>20?o.addClass("overflow"):o.removeClass("overflow"))},r=t.html(),l=n.html();r&&t.html(d.wbr(r)),n.html(d.wbr(l)),c(),o.delegate(".doc-desc-more","click",function(){return o.toggleClass("unfold"),i.lang.eventCenter.dispatchEvent("viewHeader.change"),!1}),a(window).resize(function(){s&&clearTimeout(s),s=setTimeout(c,150)}),i.lang.eventCenter.addEventListener("Reader.zoomChange",function(){s&&clearTimeout(s),s=setTimeout(c,150)})}),i.dom.ready(function(){i.g("docReport-"+e.id)&&i.event.on("docReport-"+e.id,"click",function(e){i.lang.eventCenter.dispatchEvent("Report.Click",{target:this}),i.event.stop(e)}),i.dom.g("docReport-copr")&&i.event.on("docReport-copr","click",function(e){i.lang.eventCenter.dispatchEvent("Report.Click",{target:this}),i.event.stop(e)})});new u({isLogin:o,docId:g});return this}},o.exports=g});